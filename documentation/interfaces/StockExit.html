<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>cave-master-frontend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>
          <script>
              // --- Iframe navigation tracking for Template Playground ---
              function sendCurrentUrlToParent() {
                  if (window.parent && window.parent !== window) {
                      window.parent.postMessage({
                          type: 'compodoc-iframe-navigate',
                          url: window.location.pathname + window.location.hash
                      }, '*');
                  }
              }
              window.addEventListener('hashchange', sendCurrentUrlToParent, false);
              window.addEventListener('popstate', sendCurrentUrlToParent, false);
              window.addEventListener('DOMContentLoaded', sendCurrentUrlToParent, false);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">cave-master-frontend documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">

















<ol class="breadcrumb">
  <li class="breadcrumb-item">Interfaces</li>
  <li class="breadcrumb-item"
  >
  StockExit</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/view/admin-dashboard/exits/exits.component.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Interface pour d√©finir une sortie de stock enrichie</p>

            </p>


        <section data-compodoc="block-index">
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#breakageDetails" 
>
                                            breakageDetails
                                        </a>
                                </li>
                                <li>
                                        <a href="#caveId" 
>
                                            caveId
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#customer" 
>
                                            customer
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#customerContact" 
>
                                            customerContact
                                        </a>
                                </li>
                                <li>
                                        <a href="#date" 
>
                                            date
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#deliveryNote" 
>
                                            deliveryNote
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#destination" 
>
                                            destination
                                        </a>
                                </li>
                                <li>
                                        <a href="#drinkCategory" 
>
                                            drinkCategory
                                        </a>
                                </li>
                                <li>
                                        <a href="#drinkFormat" 
>
                                            drinkFormat
                                        </a>
                                </li>
                                <li>
                                        <a href="#drinkIcon" 
>
                                            drinkIcon
                                        </a>
                                </li>
                                <li>
                                        <a href="#drinkId" 
>
                                            drinkId
                                        </a>
                                </li>
                                <li>
                                        <a href="#drinkName" 
>
                                            drinkName
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#expiryDate" 
>
                                            expiryDate
                                        </a>
                                </li>
                                <li>
                                        <a href="#id" 
>
                                            id
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#invoiceNumber" 
>
                                            invoiceNumber
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#lossReason" 
>
                                            lossReason
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#notes" 
>
                                            notes
                                        </a>
                                </li>
                                <li>
                                        <a href="#processedBy" 
>
                                            processedBy
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#processedByName" 
>
                                            processedByName
                                        </a>
                                </li>
                                <li>
                                        <a href="#quantity" 
>
                                            quantity
                                        </a>
                                </li>
                                <li>
                                        <a href="#totalAmount" 
>
                                            totalAmount
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#transferToCaveId" 
>
                                            transferToCaveId
                                        </a>
                                </li>
                                <li>
                                        <a href="#type" 
>
                                            type
                                        </a>
                                </li>
                                <li>
                                        <a href="#unitPrice" 
>
                                            unitPrice
                                        </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section data-compodoc="block-properties">
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="breakageDetails"></a>
                                        <span class="name "><b>breakageDetails</b>
                                            <a href="#breakageDetails">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>breakageDetails:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="caveId"></a>
                                        <span class="name "><b>caveId</b>
                                            <a href="#caveId">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>caveId:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="customer"></a>
                                        <span class="name "><b>customer</b>
                                            <a href="#customer">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>customer:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="customerContact"></a>
                                        <span class="name "><b>customerContact</b>
                                            <a href="#customerContact">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>customerContact:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="date"></a>
                                        <span class="name "><b>date</b>
                                            <a href="#date">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>date:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="deliveryNote"></a>
                                        <span class="name "><b>deliveryNote</b>
                                            <a href="#deliveryNote">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>deliveryNote:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="destination"></a>
                                        <span class="name "><b>destination</b>
                                            <a href="#destination">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>destination:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="drinkCategory"></a>
                                        <span class="name "><b>drinkCategory</b>
                                            <a href="#drinkCategory">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>drinkCategory:         <code><a href="../miscellaneous/enumerations.html#DrinkCategory" target="_self" >DrinkCategory</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="../miscellaneous/enumerations.html#DrinkCategory" target="_self" >DrinkCategory</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="drinkFormat"></a>
                                        <span class="name "><b>drinkFormat</b>
                                            <a href="#drinkFormat">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>drinkFormat:         <code><a href="../miscellaneous/enumerations.html#DrinkFormat" target="_self" >DrinkFormat</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="../miscellaneous/enumerations.html#DrinkFormat" target="_self" >DrinkFormat</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="drinkIcon"></a>
                                        <span class="name "><b>drinkIcon</b>
                                            <a href="#drinkIcon">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>drinkIcon:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="drinkId"></a>
                                        <span class="name "><b>drinkId</b>
                                            <a href="#drinkId">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>drinkId:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="drinkName"></a>
                                        <span class="name "><b>drinkName</b>
                                            <a href="#drinkName">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>drinkName:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="expiryDate"></a>
                                        <span class="name "><b>expiryDate</b>
                                            <a href="#expiryDate">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>expiryDate:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="id"></a>
                                        <span class="name "><b>id</b>
                                            <a href="#id">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>id:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="invoiceNumber"></a>
                                        <span class="name "><b>invoiceNumber</b>
                                            <a href="#invoiceNumber">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>invoiceNumber:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="lossReason"></a>
                                        <span class="name "><b>lossReason</b>
                                            <a href="#lossReason">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>lossReason:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="notes"></a>
                                        <span class="name "><b>notes</b>
                                            <a href="#notes">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>notes:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="processedBy"></a>
                                        <span class="name "><b>processedBy</b>
                                            <a href="#processedBy">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>processedBy:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="processedByName"></a>
                                        <span class="name "><b>processedByName</b>
                                            <a href="#processedByName">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>processedByName:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="quantity"></a>
                                        <span class="name "><b>quantity</b>
                                            <a href="#quantity">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>quantity:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="totalAmount"></a>
                                        <span class="name "><b>totalAmount</b>
                                            <a href="#totalAmount">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>totalAmount:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="transferToCaveId"></a>
                                        <span class="name "><b>transferToCaveId</b>
                                            <a href="#transferToCaveId">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>transferToCaveId:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="type"></a>
                                        <span class="name "><b>type</b>
                                            <a href="#type">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>type:         <code><a href="../miscellaneous/typealiases.html#ExitType" target="_self" >ExitType</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#ExitType" target="_self" >ExitType</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="unitPrice"></a>
                                        <span class="name "><b>unitPrice</b>
                                            <a href="#unitPrice">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>unitPrice:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit } from &#x27;@angular/core&#x27;;
import { CommonModule } from &#x27;@angular/common&#x27;;
import { FormsModule, ReactiveFormsModule } from &#x27;@angular/forms&#x27;;

/**
 * Import des √©num√©rations depuis drinks
 */
export enum DrinkCategory {
  BIERES &#x3D; &#x27;Bi√®res&#x27;,
  SUCRERIES &#x3D; &#x27;Sucreries&#x27;,
  CHAMPAGNE &#x3D; &#x27;Champagne&#x27;,
  VIN_BLANC &#x3D; &#x27;Vin Blanc&#x27;,
  VIN_ROUGE &#x3D; &#x27;Vin Rouge&#x27;,
  VIN_ROSE &#x3D; &#x27;Vin Ros√©&#x27;,
  VIN_MOUSSEUX &#x3D; &#x27;Vin Mousseux&#x27;,
  LIQUEURS &#x3D; &#x27;Liqueurs&#x27;,
  BOISSONS_ENERGISANTES &#x3D; &#x27;Boissons √ânergisantes&#x27;,
  BOISSONS_LOCALES &#x3D; &#x27;Boissons Locales&#x27;
}

export enum DrinkFormat {
  CL_25 &#x3D; &#x27;25cl&#x27;,
  CL_33 &#x3D; &#x27;33cl&#x27;,
  CL_50 &#x3D; &#x27;50cl&#x27;,
  CL_65 &#x3D; &#x27;65cl&#x27;,
  CL_75 &#x3D; &#x27;75cl&#x27;,
  L_1 &#x3D; &#x27;1L&#x27;,
  L_1_5 &#x3D; &#x27;1.5L&#x27;,
  L_2 &#x3D; &#x27;2L&#x27;
}

export enum Supplier {
  SOLIBRA &#x3D; &#x27;Solibra&#x27;,
  BRASSIVOIRE &#x3D; &#x27;Brassivoire&#x27;,
  SICOBRA &#x3D; &#x27;Sicobra&#x27;,
  UNIBRA &#x3D; &#x27;Unibra&#x27;,
  AUTRES &#x3D; &#x27;Autres&#x27;
}

export enum PackagingType {
  BOUTEILLE &#x3D; &#x27;Bouteille&#x27;,
  CANETTE &#x3D; &#x27;Canette&#x27;,
  VERRE &#x3D; &#x27;Verre&#x27;,
  PLASTIQUE &#x3D; &#x27;Plastique&#x27;,
  SACHET &#x3D; &#x27;Sachet&#x27;
}

export enum BulkUnit {
  CARTON &#x3D; &#x27;Carton&#x27;,
  CASIER &#x3D; &#x27;Casier&#x27;,
  PACK &#x3D; &#x27;Pack&#x27;,
  CAISSE &#x3D; &#x27;Caisse&#x27;
}

/**
 * Interface pour d√©finir une boisson compl√®te
 */
interface Drink {
  id: string;
  name: string;
  icon: string;
  category: DrinkCategory;
  format: DrinkFormat;
  packagingType: PackagingType;
  supplier: Supplier;
  depot: string;
  commercialName: string;
  commercialContact: string;
  bulkUnit: BulkUnit;
  bulkQuantity: number;
  unitsPerBulk: number;
  totalBottles: number;
  purchasePrice: number;
  sellingPrice: number;
  stock: number;
  sales?: number;
  description?: string;
  createdAt?: Date;
  badge?: &#x27;hot&#x27; | &#x27;new&#x27;;
}

/**
 * Interface pour d√©finir une cave
 */
interface Cave {
  id: string;
  name: string;
  location: string;
  capacity: number;
  currentStock: number;
  description?: string;
  temperature?: string;
  humidity?: string;
}

/**
 * Type de sortie de stock
 */
type ExitType &#x3D; &#x27;vente&#x27; | &#x27;transfert&#x27; | &#x27;perte&#x27; | &#x27;casse&#x27; | &#x27;peremption&#x27; | &#x27;degustation&#x27;;

/**
 * Interface pour d√©finir une sortie de stock enrichie
 */
interface StockExit {
  // Identifiants
  id: string;
  date: Date;

  // Informations boisson compl√®tes
  drinkId: string;
  drinkName: string;
  drinkIcon: string;
  drinkCategory: DrinkCategory;
  drinkFormat: DrinkFormat;

  // Type de sortie
  type: ExitType;

  // Quantit√©
  quantity: number;

  // Destination/Motif selon le type
  destination?: string;        // Client, cave destination, etc.
  customer?: string;           // Nom du client pour les ventes
  customerContact?: string;    // Contact du client
  transferToCaveId?: string;   // Cave de destination pour transfert

  // Tarification
  unitPrice: number;           // Prix unitaire de sortie
  totalAmount: number;         // Montant total

  // Cave source
  caveId: string;

  // Commercial ayant trait√© la sortie
  processedBy: string;
  processedByName?: string;

  // Informations sp√©cifiques selon le type
  invoiceNumber?: string;      // Num√©ro de facture (vente)
  deliveryNote?: string;       // Bon de livraison
  lossReason?: string;         // Raison de la perte
  breakageDetails?: string;    // D√©tails de la casse
  expiryDate?: Date;           // Date de p√©remption

  // Notes
  notes?: string;
}

/**
 * Interface pour le formulaire de sortie
 */
interface StockExitForm {
  drinkId: string;
  type: ExitType;
  quantity: number;
  unitPrice: number;
  totalAmount: number;
  caveId: string;
  destination: string;
  customer: string;
  customerContact: string;
  transferToCaveId: string;
  lossReason: string;
  breakageDetails: string;
  invoiceNumber: string;
  deliveryNote: string;
  notes: string;
}

/**
 * Interface pour les suggestions d&#x27;accords mets-vins
 */
interface WinePairingSuggestion {
  dish: string;
  dishIcon: string;
  description: string;
  temperature: string;
}

/**
 * Composant ExitsComponent - VERSION ENRICHIE
 * Gestion compl√®te des sorties de stock avec tous les d√©tails
 */
@Component({
  selector: &#x27;app-exits&#x27;,
  standalone: true,
  imports: [CommonModule, FormsModule, ReactiveFormsModule],
  templateUrl: &#x27;./exits.component.html&#x27;,
  styleUrls: [&#x27;./exits.component.scss&#x27;]
})
export class ExitsComponent implements OnInit {

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // PROPRI√âT√âS
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Liste compl√®te des sorties de stock
   */
  exits: StockExit[] &#x3D; [];

  /**
   * Liste filtr√©e des sorties √† afficher
   */
  filteredExits: StockExit[] &#x3D; [];

  /**
   * Liste des boissons disponibles (avec d√©tails complets)
   */
  drinks: Drink[] &#x3D; [];

  /**
   * Liste des caves disponibles
   */
  caves: Cave[] &#x3D; [];

  /**
   * Indicateur de chargement
   */
  isLoading: boolean &#x3D; false;

  /**
   * Indique si le modal d&#x27;ajout est ouvert
   */
  isAddModalOpen: boolean &#x3D; false;

  /**
   * Indique si le modal de d√©tails est ouvert
   */
  isDetailModalOpen: boolean &#x3D; false;

  /**
   * Sortie s√©lectionn√©e pour afficher les d√©tails
   */
  selectedExit: StockExit | null &#x3D; null;

  /**
   * Formulaire pour ajouter une sortie
   */
  exitForm: StockExitForm &#x3D; this.getEmptyForm();

  /**
   * Filtres
   */
  selectedCaveFilter: string | null &#x3D; null;
  selectedTypeFilter: ExitType | null &#x3D; null;
  selectedCategoryFilter: DrinkCategory | null &#x3D; null;
  periodFilter: number &#x3D; 30;
  searchTerm: string &#x3D; &#x27;&#x27;;

  /**
   * √ânum√©rations pour le template
   */
  drinkCategories &#x3D; Object.values(DrinkCategory);
  exitTypes: ExitType[] &#x3D; [&#x27;vente&#x27;, &#x27;transfert&#x27;, &#x27;perte&#x27;, &#x27;casse&#x27;, &#x27;peremption&#x27;, &#x27;degustation&#x27;];

  /**
   * Statistiques enrichies des sorties
   */
  stats &#x3D; {
    totalExits: 0,              // Nombre total de sorties
    totalQuantity: 0,           // Quantit√© totale sortie
    totalRevenue: 0,            // Revenus totaux (ventes uniquement)
    totalLoss: 0,               // Pertes totales (pertes + casse + p√©remption)
    recentExits: 0,             // Sorties des 7 derniers jours
    averageUnitPrice: 0,        // Prix unitaire moyen
    salesCount: 0,              // Nombre de ventes
    transfersCount: 0,          // Nombre de transferts
    lossesCount: 0,             // Nombre de pertes
    topCategory: &#x27;&#x27;,            // Cat√©gorie la plus vendue
    topCustomer: &#x27;&#x27;,            // Meilleur client
    averageMargin: 0            // Marge moyenne en %
  };

  /**
   * Suggestions d&#x27;accords mets-vins pour la boisson s√©lectionn√©e
   */
  winePairingSuggestions: WinePairingSuggestion[] &#x3D; [];

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // CONSTRUCTEUR
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  constructor() {}

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // LIFECYCLE HOOKS
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Initialisation du composant
   * Charge toutes les donn√©es au d√©marrage
   */
  ngOnInit(): void {
    console.log(&#x27;‚úÖ ExitsComponent initialis√© avec d√©tails complets&#x27;);
    this.loadData();
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // CHARGEMENT DES DONN√âES
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Charge toutes les donn√©es n√©cessaires
   */
  loadData(): void {
    // Active le chargement
    this.isLoading &#x3D; true;

    // Charge les boissons avec tous les d√©tails
    this.drinks &#x3D; this.generateMockDrinks();

    // Charge les caves
    this.caves &#x3D; this.generateMockCaves();

    // Charge l&#x27;historique des sorties
    this.exits &#x3D; this.generateMockExits();

    // Initialise les sorties filtr√©es
    this.filteredExits &#x3D; [...this.exits];

    // Calcule les statistiques
    this.calculateStats();

    // D√©sactive le chargement
    this.isLoading &#x3D; false;

    console.log(&#x27;‚úÖ Donn√©es charg√©es:&#x27;, {
      exits: this.exits.length,
      drinks: this.drinks.length,
      caves: this.caves.length
    });
  }

  /**
   * G√©n√®re des boissons de test avec tous les d√©tails
   * @returns Liste de boissons simul√©es
   */
  private generateMockDrinks(): Drink[] {
    return [
      {
        id: &#x27;drink_1&#x27;,
        name: &#x27;Heineken&#x27;,
        icon: &#x27;üç∫&#x27;,
        category: DrinkCategory.BIERES,
        format: DrinkFormat.CL_33,
        packagingType: PackagingType.BOUTEILLE,
        supplier: Supplier.SOLIBRA,
        depot: &#x27;D√©p√¥t Abidjan Zone 4&#x27;,
        commercialName: &#x27;Kouadio Jean&#x27;,
        commercialContact: &#x27;+225 07 00 00 00 01&#x27;,
        bulkUnit: BulkUnit.CARTON,
        bulkQuantity: 3,
        unitsPerBulk: 12,
        totalBottles: 36,
        purchasePrice: 650,        // Prix d&#x27;achat
        sellingPrice: 800,         // Prix de vente
        stock: 150,
        sales: 450,
        description: &#x27;Bi√®re blonde hollandaise&#x27;,
        createdAt: new Date(),
        badge: &#x27;hot&#x27;
      },
      {
        id: &#x27;drink_2&#x27;,
        name: &#x27;Bordeaux Rouge 2018&#x27;,
        icon: &#x27;üç∑&#x27;,
        category: DrinkCategory.VIN_ROUGE,
        format: DrinkFormat.CL_75,
        packagingType: PackagingType.BOUTEILLE,
        supplier: Supplier.AUTRES,
        depot: &#x27;D√©p√¥t Cocody&#x27;,
        commercialName: &#x27;Bakayoko Aminata&#x27;,
        commercialContact: &#x27;+225 05 00 00 00 02&#x27;,
        bulkUnit: BulkUnit.CAISSE,
        bulkQuantity: 2,
        unitsPerBulk: 6,
        totalBottles: 12,
        purchasePrice: 12000,
        sellingPrice: 15000,
        stock: 45,
        sales: 120,
        description: &#x27;Vin rouge de Bordeaux, mill√©sime 2018&#x27;,
        createdAt: new Date()
      },
      {
        id: &#x27;drink_3&#x27;,
        name: &#x27;Champagne Mo√´t &amp; Chandon&#x27;,
        icon: &#x27;üçæ&#x27;,
        category: DrinkCategory.CHAMPAGNE,
        format: DrinkFormat.CL_75,
        packagingType: PackagingType.BOUTEILLE,
        supplier: Supplier.AUTRES,
        depot: &#x27;D√©p√¥t Plateau&#x27;,
        commercialName: &#x27;Kon√© Moussa&#x27;,
        commercialContact: &#x27;+225 07 11 22 33 44&#x27;,
        bulkUnit: BulkUnit.CAISSE,
        bulkQuantity: 1,
        unitsPerBulk: 6,
        totalBottles: 6,
        purchasePrice: 30000,
        sellingPrice: 35000,
        stock: 20,
        sales: 85,
        description: &#x27;Champagne brut imp√©rial&#x27;,
        createdAt: new Date(),
        badge: &#x27;new&#x27;
      },
      {
        id: &#x27;drink_4&#x27;,
        name: &#x27;Guinness&#x27;,
        icon: &#x27;üç∫&#x27;,
        category: DrinkCategory.BIERES,
        format: DrinkFormat.CL_33,
        packagingType: PackagingType.CANETTE,
        supplier: Supplier.BRASSIVOIRE,
        depot: &#x27;D√©p√¥t Yopougon&#x27;,
        commercialName: &#x27;Traor√© Sekou&#x27;,
        commercialContact: &#x27;+225 01 55 66 77 88&#x27;,
        bulkUnit: BulkUnit.PACK,
        bulkQuantity: 2,
        unitsPerBulk: 24,
        totalBottles: 48,
        purchasePrice: 850,
        sellingPrice: 1000,
        stock: 100,
        sales: 320,
        description: &#x27;Bi√®re brune irlandaise&#x27;,
        createdAt: new Date()
      },
      {
        id: &#x27;drink_5&#x27;,
        name: &#x27;Chablis 2020&#x27;,
        icon: &#x27;üç∑&#x27;,
        category: DrinkCategory.VIN_BLANC,
        format: DrinkFormat.CL_75,
        packagingType: PackagingType.BOUTEILLE,
        supplier: Supplier.AUTRES,
        depot: &#x27;D√©p√¥t Cocody&#x27;,
        commercialName: &#x27;Bakayoko Aminata&#x27;,
        commercialContact: &#x27;+225 05 00 00 00 02&#x27;,
        bulkUnit: BulkUnit.CAISSE,
        bulkQuantity: 2,
        unitsPerBulk: 6,
        totalBottles: 12,
        purchasePrice: 9500,
        sellingPrice: 12000,
        stock: 30,
        sales: 95,
        description: &#x27;Vin blanc sec de Bourgogne&#x27;,
        createdAt: new Date()
      }
    ];
  }

  /**
   * G√©n√®re des caves de test
   * @returns Liste de caves simul√©es
   */
  private generateMockCaves(): Cave[] {
    return [
      {
        id: &#x27;cave_1&#x27;,
        name: &#x27;Cave Principale&#x27;,
        location: &#x27;B√¢timent A - Sous-sol&#x27;,
        capacity: 1000,
        currentStock: 650,
        description: &#x27;Cave principale de stockage&#x27;,
        temperature: &#x27;12-14¬∞C&#x27;,
        humidity: &#x27;70-75%&#x27;
      },
      {
        id: &#x27;cave_2&#x27;,
        name: &#x27;Cave Secondaire&#x27;,
        location: &#x27;B√¢timent B - RDC&#x27;,
        capacity: 500,
        currentStock: 320,
        description: &#x27;Cave secondaire pour rotation rapide&#x27;,
        temperature: &#x27;14-16¬∞C&#x27;,
        humidity: &#x27;65-70%&#x27;
      },
      {
        id: &#x27;cave_3&#x27;,
        name: &#x27;Cave de Vieillissement&#x27;,
        location: &#x27;B√¢timent A - Niveau -2&#x27;,
        capacity: 300,
        currentStock: 180,
        description: &#x27;Cave climatis√©e pour vins de garde&#x27;,
        temperature: &#x27;10-12¬∞C&#x27;,
        humidity: &#x27;75-80%&#x27;
      }
    ];
  }

 /**
 * G√©n√®re des sorties de test ENRICHIES
 * @returns Liste de sorties de stock simul√©es
 */
private generateMockExits(): StockExit[] {
  const now &#x3D; new Date();

  // D√©claration explicite du tableau avec le bon type
  const exits: StockExit[] &#x3D; [
    {
      // &#x3D;&#x3D;&#x3D; VENTE CLIENT &#x3D;&#x3D;&#x3D;
      id: &#x27;exit_1&#x27;,
      date: new Date(now.getTime() - 1 * 24 * 60 * 60 * 1000), // Hier

      // Informations boisson
      drinkId: &#x27;drink_1&#x27;,
      drinkName: &#x27;Heineken&#x27;,
      drinkIcon: &#x27;üç∫&#x27;,
      drinkCategory: DrinkCategory.BIERES,
      drinkFormat: DrinkFormat.CL_33,

      // Type : Vente (TYPAGE EXPLICITE)
      type: &#x27;vente&#x27; as ExitType,

      // Quantit√© et tarification
      quantity: 24,
      unitPrice: 800,
      totalAmount: 19200,

      // Cave source
      caveId: &#x27;cave_1&#x27;,

      // Client
      customer: &#x27;Restaurant Le Gourmet&#x27;,
      customerContact: &#x27;+225 07 22 33 44 55&#x27;,
      destination: &#x27;Restaurant Le Gourmet - Cocody&#x27;,

      // Documents
      invoiceNumber: &#x27;FACT-2024-001&#x27;,
      deliveryNote: &#x27;BL-2024-001&#x27;,

      // Trait√© par
      processedBy: &#x27;user_1&#x27;,
      processedByName: &#x27;Jean Dupont&#x27;,

      // Notes
      notes: &#x27;Livraison effectu√©e. Client satisfait, commande r√©guli√®re.&#x27;
    },
    {
      // &#x3D;&#x3D;&#x3D; VENTE CLIENT VIP &#x3D;&#x3D;&#x3D;
      id: &#x27;exit_2&#x27;,
      date: new Date(now.getTime() - 3 * 24 * 60 * 60 * 1000), // Il y a 3 jours

      drinkId: &#x27;drink_2&#x27;,
      drinkName: &#x27;Bordeaux Rouge 2018&#x27;,
      drinkIcon: &#x27;üç∑&#x27;,
      drinkCategory: DrinkCategory.VIN_ROUGE,
      drinkFormat: DrinkFormat.CL_75,

      type: &#x27;vente&#x27; as ExitType,

      quantity: 12,
      unitPrice: 15000,
      totalAmount: 180000,

      caveId: &#x27;cave_3&#x27;,

      customer: &#x27;H√¥tel Ivoire&#x27;,
      customerContact: &#x27;+225 27 22 48 10 00&#x27;,
      destination: &#x27;H√¥tel Ivoire - Cocody&#x27;,

      invoiceNumber: &#x27;FACT-2024-002&#x27;,
      deliveryNote: &#x27;BL-2024-002&#x27;,

      processedBy: &#x27;user_2&#x27;,
      processedByName: &#x27;Marie Martin&#x27;,

      notes: &#x27;Client VIP. Remise de 5% appliqu√©e. Prochain rendez-vous pr√©vu.&#x27;
    },
    {
      // &#x3D;&#x3D;&#x3D; TRANSFERT ENTRE CAVES &#x3D;&#x3D;&#x3D;
      id: &#x27;exit_3&#x27;,
      date: new Date(now.getTime() - 5 * 24 * 60 * 60 * 1000), // Il y a 5 jours

      drinkId: &#x27;drink_3&#x27;,
      drinkName: &#x27;Champagne Mo√´t &amp; Chandon&#x27;,
      drinkIcon: &#x27;üçæ&#x27;,
      drinkCategory: DrinkCategory.CHAMPAGNE,
      drinkFormat: DrinkFormat.CL_75,

      type: &#x27;transfert&#x27; as ExitType,

      quantity: 6,
      unitPrice: 35000,
      totalAmount: 210000,

      caveId: &#x27;cave_3&#x27;,
      transferToCaveId: &#x27;cave_2&#x27;,
      destination: &#x27;Cave Secondaire&#x27;,

      processedBy: &#x27;user_1&#x27;,
      processedByName: &#x27;Jean Dupont&#x27;,

      notes: &#x27;R√©organisation du stock. Transfert pour rotation rapide.&#x27;
    },
    {
      // &#x3D;&#x3D;&#x3D; VENTE √âV√âNEMENT &#x3D;&#x3D;&#x3D;
      id: &#x27;exit_4&#x27;,
      date: new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000), // Il y a 7 jours

      drinkId: &#x27;drink_4&#x27;,
      drinkName: &#x27;Guinness&#x27;,
      drinkIcon: &#x27;üç∫&#x27;,
      drinkCategory: DrinkCategory.BIERES,
      drinkFormat: DrinkFormat.CL_33,

      type: &#x27;vente&#x27; as ExitType,

      quantity: 50,
      unitPrice: 1000,
      totalAmount: 50000,

      caveId: &#x27;cave_2&#x27;,

      customer: &#x27;√âv√©nement Entreprise XYZ&#x27;,
      customerContact: &#x27;+225 05 66 77 88 99&#x27;,
      destination: &#x27;Sofitel H√¥tel Ivoire&#x27;,

      invoiceNumber: &#x27;FACT-2024-003&#x27;,
      deliveryNote: &#x27;BL-2024-003&#x27;,

      processedBy: &#x27;user_2&#x27;,
      processedByName: &#x27;Marie Martin&#x27;,

      notes: &#x27;√âv√©nement corporate. 50 participants. Livraison directe sur site.&#x27;
    },
    {
      // &#x3D;&#x3D;&#x3D; PERTE : CASSE &#x3D;&#x3D;&#x3D;
      id: &#x27;exit_5&#x27;,
      date: new Date(now.getTime() - 10 * 24 * 60 * 60 * 1000), // Il y a 10 jours

      drinkId: &#x27;drink_2&#x27;,
      drinkName: &#x27;Bordeaux Rouge 2018&#x27;,
      drinkIcon: &#x27;üç∑&#x27;,
      drinkCategory: DrinkCategory.VIN_ROUGE,
      drinkFormat: DrinkFormat.CL_75,

      type: &#x27;casse&#x27; as ExitType,

      quantity: 2,
      unitPrice: 12000,
      totalAmount: 24000,

      caveId: &#x27;cave_1&#x27;,

      lossReason: &#x27;Casse lors de la manipulation&#x27;,
      breakageDetails: &#x27;2 bouteilles tomb√©es lors du d√©placement d\&#x27;un casier&#x27;,
      destination: &#x27;Perte par casse&#x27;,

      processedBy: &#x27;user_3&#x27;,
      processedByName: &#x27;Pierre Dubois&#x27;,

      notes: &#x27;Accident lors du r√©am√©nagement de la cave. Proc√©dure de s√©curit√© revue.&#x27;
    },
    {
      // &#x3D;&#x3D;&#x3D; PERTE : P√âREMPTION &#x3D;&#x3D;&#x3D;
      id: &#x27;exit_6&#x27;,
      date: new Date(now.getTime() - 15 * 24 * 60 * 60 * 1000), // Il y a 15 jours

      drinkId: &#x27;drink_4&#x27;,
      drinkName: &#x27;Guinness&#x27;,
      drinkIcon: &#x27;üç∫&#x27;,
      drinkCategory: DrinkCategory.BIERES,
      drinkFormat: DrinkFormat.CL_33,

      type: &#x27;peremption&#x27; as ExitType,

      quantity: 12,
      unitPrice: 850,
      totalAmount: 10200,

      caveId: &#x27;cave_2&#x27;,

      lossReason: &#x27;Date de p√©remption d√©pass√©e&#x27;,
      expiryDate: new Date(now.getTime() - 2 * 24 * 60 * 60 * 1000),
      destination: &#x27;Destruction r√©glementaire&#x27;,

      processedBy: &#x27;user_3&#x27;,
      processedByName: &#x27;Pierre Dubois&#x27;,

      notes: &#x27;Contr√¥le DLUO. Produits retir√©s et d√©truits selon proc√©dure.&#x27;
    },
    {
      // &#x3D;&#x3D;&#x3D; D√âGUSTATION &#x3D;&#x3D;&#x3D;
      id: &#x27;exit_7&#x27;,
      date: new Date(now.getTime() - 18 * 24 * 60 * 60 * 1000), // Il y a 18 jours

      drinkId: &#x27;drink_5&#x27;,
      drinkName: &#x27;Chablis 2020&#x27;,
      drinkIcon: &#x27;üç∑&#x27;,
      drinkCategory: DrinkCategory.VIN_BLANC,
      drinkFormat: DrinkFormat.CL_75,

      type: &#x27;degustation&#x27; as ExitType,

      quantity: 3,
      unitPrice: 9500,
      totalAmount: 28500,

      caveId: &#x27;cave_3&#x27;,

      destination: &#x27;S√©ance de d√©gustation clients&#x27;,
      customer: &#x27;Clients VIP&#x27;,

      processedBy: &#x27;user_2&#x27;,
      processedByName: &#x27;Marie Martin&#x27;,

      notes: &#x27;D√©gustation organis√©e pour pr√©senter le nouveau mill√©sime. 15 clients pr√©sents.&#x27;
    },
    {
      // &#x3D;&#x3D;&#x3D; VENTE EN GROS &#x3D;&#x3D;&#x3D;
      id: &#x27;exit_8&#x27;,
      date: new Date(now.getTime() - 20 * 24 * 60 * 60 * 1000), // Il y a 20 jours

      drinkId: &#x27;drink_1&#x27;,
      drinkName: &#x27;Heineken&#x27;,
      drinkIcon: &#x27;üç∫&#x27;,
      drinkCategory: DrinkCategory.BIERES,
      drinkFormat: DrinkFormat.CL_33,

      type: &#x27;vente&#x27; as ExitType,

      quantity: 120,
      unitPrice: 750,
      totalAmount: 90000,

      caveId: &#x27;cave_1&#x27;,

      customer: &#x27;Bar Le Tropical&#x27;,
      customerContact: &#x27;+225 07 88 99 00 11&#x27;,
      destination: &#x27;Bar Le Tropical - Marcory&#x27;,

      invoiceNumber: &#x27;FACT-2024-004&#x27;,
      deliveryNote: &#x27;BL-2024-004&#x27;,

      processedBy: &#x27;user_1&#x27;,
      processedByName: &#x27;Jean Dupont&#x27;,

      notes: &#x27;Commande en gros. Remise de 6% appliqu√©e. Fid√©lit√© client.&#x27;
    }
  ];

  // TRI par date d√©croissante (plus r√©cent en premier)
  return exits.sort((a, b) &#x3D;&gt; new Date(b.date).getTime() - new Date(a.date).getTime());
}

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // CALCULS AUTOMATIQUES DU FORMULAIRE
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Calcule automatiquement le montant total
   * Montant &#x3D; Quantit√© √ó Prix unitaire
   */
  calculateTotalAmount(): void {
    // Multiplie la quantit√© par le prix unitaire
    this.exitForm.totalAmount &#x3D;
      (this.exitForm.quantity || 0) * (this.exitForm.unitPrice || 0);

    console.log(&#x27;üí∞ Montant total calcul√©:&#x27;, this.exitForm.totalAmount, &#x27;FCFA&#x27;);
  }

  /**
   * G√®re le changement de boisson s√©lectionn√©e
   * Remplit automatiquement le prix depuis la boisson
   */
  onDrinkSelected(): void {
    // Trouve la boisson s√©lectionn√©e
    const drink &#x3D; this.drinks.find(d &#x3D;&gt; d.id &#x3D;&#x3D;&#x3D; this.exitForm.drinkId);

    if (drink) {
      // Remplit automatiquement le prix de vente
      this.exitForm.unitPrice &#x3D; drink.sellingPrice;

      // Recalcule le montant total
      this.calculateTotalAmount();

      // Charge les suggestions d&#x27;accords mets-vins
      this.loadWinePairingSuggestions(drink);

      console.log(&#x27;‚úÖ Boisson s√©lectionn√©e:&#x27;, drink.name, &#x27;- Stock disponible:&#x27;, drink.stock);

      // V√©rifie le stock disponible
      if (drink.stock &#x3D;&#x3D;&#x3D; 0) {
        alert(&#x60;‚ö†Ô∏è Attention : Stock √©puis√© pour ${drink.name}&#x60;);
      } else if (drink.stock &lt; 10) {
        console.warn(&#x27;‚ö†Ô∏è Stock faible:&#x27;, drink.stock, &#x27;unit√©s&#x27;);
      }
    }
  }

  /**
   * G√®re le changement de type de sortie
   * Ajuste les champs n√©cessaires selon le type
   */
  onTypeChange(): void {
    const drink &#x3D; this.drinks.find(d &#x3D;&gt; d.id &#x3D;&#x3D;&#x3D; this.exitForm.drinkId);

    if (drink) {
      switch (this.exitForm.type) {
        case &#x27;vente&#x27;:
          // Pour une vente : utilise le prix de vente
          this.exitForm.unitPrice &#x3D; drink.sellingPrice;
          break;

        case &#x27;transfert&#x27;:
        case &#x27;perte&#x27;:
        case &#x27;casse&#x27;:
        case &#x27;peremption&#x27;:
        case &#x27;degustation&#x27;:
          // Pour les autres : utilise le prix d&#x27;achat (valorisation du stock)
          this.exitForm.unitPrice &#x3D; drink.purchasePrice;
          break;
      }

      this.calculateTotalAmount();
    }

    console.log(&#x27;üîÑ Type de sortie chang√©:&#x27;, this.exitForm.type);
  }

  /**
   * Charge les suggestions d&#x27;accords mets-vins pour une boisson
   * Int√©gration avec le composant wine-pairing
   * @param drink Boisson s√©lectionn√©e
   */
  loadWinePairingSuggestions(drink: Drink): void {
    // R√©initialise les suggestions
    this.winePairingSuggestions &#x3D; [];

    // Suggestions selon la cat√©gorie de boisson
    switch (drink.category) {
      case DrinkCategory.VIN_ROUGE:
        this.winePairingSuggestions &#x3D; [
          {
            dish: &#x27;Steak grill√©&#x27;,
            dishIcon: &#x27;ü•©&#x27;,
            description: &#x27;Les tanins du vin rouge subliment la richesse de la viande rouge&#x27;,
            temperature: &#x27;16-18¬∞C&#x27;
          },
          {
            dish: &#x27;Fromages affin√©s&#x27;,
            dishIcon: &#x27;üßÄ&#x27;,
            description: &#x27;Un accord classique entre la puissance du vin et l\&#x27;intensit√© du fromage&#x27;,
            temperature: &#x27;16-18¬∞C&#x27;
          },
          {
            dish: &#x27;Plats en sauce&#x27;,
            dishIcon: &#x27;üçù&#x27;,
            description: &#x27;Le vin rouge accompagne parfaitement les sauces riches&#x27;,
            temperature: &#x27;16-18¬∞C&#x27;
          }
        ];
        break;

      case DrinkCategory.VIN_BLANC:
        this.winePairingSuggestions &#x3D; [
          {
            dish: &#x27;Poisson grill√©&#x27;,
            dishIcon: &#x27;üêü&#x27;,
            description: &#x27;La fra√Æcheur du vin blanc compl√®te le go√ªt d√©licat du poisson&#x27;,
            temperature: &#x27;10-12¬∞C&#x27;
          },
          {
            dish: &#x27;Fruits de mer&#x27;,
            dishIcon: &#x27;ü¶û&#x27;,
            description: &#x27;Un mariage parfait entre la min√©ralit√© du vin et l\&#x27;iode des fruits de mer&#x27;,
            temperature: &#x27;8-10¬∞C&#x27;
          },
          {
            dish: &#x27;Volaille en sauce blanche&#x27;,
            dishIcon: &#x27;üçó&#x27;,
            description: &#x27;Le vin blanc souligne la d√©licatesse de la volaille&#x27;,
            temperature: &#x27;10-12¬∞C&#x27;
          }
        ];
        break;

      case DrinkCategory.CHAMPAGNE:
        this.winePairingSuggestions &#x3D; [
          {
            dish: &#x27;Ap√©ritif&#x27;,
            dishIcon: &#x27;ü•Ç&#x27;,
            description: &#x27;Les bulles fines du champagne sont parfaites pour l\&#x27;ap√©ritif&#x27;,
            temperature: &#x27;6-8¬∞C&#x27;
          },
          {
            dish: &#x27;Desserts l√©gers&#x27;,
            dishIcon: &#x27;üç∞&#x27;,
            description: &#x27;Un champagne demi-sec accompagne merveilleusement les desserts&#x27;,
            temperature: &#x27;6-8¬∞C&#x27;
          },
          {
            dish: &#x27;Fruits de mer&#x27;,
            dishIcon: &#x27;ü¶™&#x27;,
            description: &#x27;Les hu√Ætres et le champagne forment un duo parfait&#x27;,
            temperature: &#x27;6-8¬∞C&#x27;
          }
        ];
        break;

      case DrinkCategory.BIERES:
        this.winePairingSuggestions &#x3D; [
          {
            dish: &#x27;Grillades&#x27;,
            dishIcon: &#x27;üçñ&#x27;,
            description: &#x27;La fra√Æcheur de la bi√®re rafra√Æchit le palais entre chaque bouch√©e&#x27;,
            temperature: &#x27;4-6¬∞C&#x27;
          },
          {
            dish: &#x27;Plats √©pic√©s&#x27;,
            dishIcon: &#x27;üå∂Ô∏è&#x27;,
            description: &#x27;La bi√®re att√©nue le piquant des √©pices&#x27;,
            temperature: &#x27;4-6¬∞C&#x27;
          },
          {
            dish: &#x27;Pizza et burgers&#x27;,
            dishIcon: &#x27;üçï&#x27;,
            description: &#x27;Un classique qui fonctionne toujours&#x27;,
            temperature: &#x27;4-6¬∞C&#x27;
          }
        ];
        break;

      default:
        this.winePairingSuggestions &#x3D; [];
    }

    console.log(&#x27;üçΩÔ∏è Suggestions d\&#x27;accords charg√©es:&#x27;, this.winePairingSuggestions.length);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // FILTRAGE ET RECHERCHE
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Applique tous les filtres actifs sur les sorties
   * Combine : cave, type, cat√©gorie, p√©riode et recherche
   */
  applyFilters(): void {
    // On part de toutes les sorties
    let result &#x3D; [...this.exits];

    // FILTRE 1 : Par cave s√©lectionn√©e
    if (this.selectedCaveFilter) {
      result &#x3D; result.filter(exit &#x3D;&gt; exit.caveId &#x3D;&#x3D;&#x3D; this.selectedCaveFilter);
      console.log(&#x60;üìç Filtre cave appliqu√©: ${result.length} r√©sultats&#x60;);
    }

    // FILTRE 2 : Par type de sortie
    if (this.selectedTypeFilter) {
      result &#x3D; result.filter(exit &#x3D;&gt; exit.type &#x3D;&#x3D;&#x3D; this.selectedTypeFilter);
      console.log(&#x60;üè∑Ô∏è Filtre type appliqu√©: ${result.length} r√©sultats&#x60;);
    }

    // FILTRE 3 : Par cat√©gorie de boisson
    if (this.selectedCategoryFilter) {
      result &#x3D; result.filter(exit &#x3D;&gt; exit.drinkCategory &#x3D;&#x3D;&#x3D; this.selectedCategoryFilter);
      console.log(&#x60;üì¶ Filtre cat√©gorie appliqu√©: ${result.length} r√©sultats&#x60;);
    }

    // FILTRE 4 : Par p√©riode (nombre de jours)
    if (this.periodFilter &gt; 0) {
      const cutoffDate &#x3D; new Date();
      cutoffDate.setDate(cutoffDate.getDate() - this.periodFilter);
      result &#x3D; result.filter(exit &#x3D;&gt; new Date(exit.date) &gt;&#x3D; cutoffDate);
      console.log(&#x60;üìÖ Filtre p√©riode appliqu√© (${this.periodFilter} jours): ${result.length} r√©sultats&#x60;);
    }

    // FILTRE 5 : Par terme de recherche
    if (this.searchTerm.trim()) {
      const term &#x3D; this.searchTerm.toLowerCase();
      result &#x3D; result.filter(exit &#x3D;&gt;
        // Recherche dans le nom de la boisson
        exit.drinkName.toLowerCase().includes(term) ||
        // Recherche dans la destination
        exit.destination?.toLowerCase().includes(term) ||
        // Recherche dans le client
        exit.customer?.toLowerCase().includes(term) ||
        // Recherche dans les notes
        exit.notes?.toLowerCase().includes(term) ||
        // Recherche dans le num√©ro de facture
        exit.invoiceNumber?.toLowerCase().includes(term) ||
        // Recherche dans le num√©ro de bon de livraison
        exit.deliveryNote?.toLowerCase().includes(term) ||
        // Recherche dans le nom du traitant
        exit.processedByName?.toLowerCase().includes(term)
      );
      console.log(&#x60;üîç Recherche &quot;${term}&quot; appliqu√©e: ${result.length} r√©sultats&#x60;);
    }

    // Affecte les r√©sultats filtr√©s
    this.filteredExits &#x3D; result;

    console.log(&#x60;‚úÖ Filtrage termin√©: ${result.length} sortie(s) sur ${this.exits.length}&#x60;);
  }

  /**
   * G√®re le changement du filtre cave
   */
  onCaveFilterChange(): void {
    console.log(&#x27;üîÑ Changement filtre cave:&#x27;, this.selectedCaveFilter);
    this.applyFilters();
  }

  /**
   * G√®re le changement du filtre type
   */
  onTypeFilterChange(): void {
    console.log(&#x27;üîÑ Changement filtre type:&#x27;, this.selectedTypeFilter);
    this.applyFilters();
  }

  /**
   * G√®re le changement du filtre cat√©gorie
   */
  onCategoryFilterChange(): void {
    console.log(&#x27;üîÑ Changement filtre cat√©gorie:&#x27;, this.selectedCategoryFilter);
    this.applyFilters();
  }

  /**
   * G√®re le changement de la p√©riode de filtre
   */
  onPeriodFilterChange(): void {
    console.log(&#x27;üîÑ Changement p√©riode:&#x27;, this.periodFilter, &#x27;jours&#x27;);
    this.applyFilters();
  }

  /**
   * G√®re le changement du terme de recherche
   */
  onSearchChange(): void {
    this.applyFilters();
  }

  /**
   * R√©initialise tous les filtres
   */
  resetFilters(): void {
    this.selectedCaveFilter &#x3D; null;
    this.selectedTypeFilter &#x3D; null;
    this.selectedCategoryFilter &#x3D; null;
    this.periodFilter &#x3D; 30;
    this.searchTerm &#x3D; &#x27;&#x27;;
    this.filteredExits &#x3D; [...this.exits];

    console.log(&#x27;üîÑ Tous les filtres r√©initialis√©s&#x27;);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // CALCUL DES STATISTIQUES ENRICHIES
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Calcule toutes les statistiques des sorties
   * Version enrichie avec revenus, pertes, marges, etc.
   */
  calculateStats(): void {
    // 1. Nombre total de sorties
    this.stats.totalExits &#x3D; this.exits.length;

    // 2. Quantit√© totale sortie
    this.stats.totalQuantity &#x3D; this.exits.reduce((sum, exit) &#x3D;&gt; sum + exit.quantity, 0);

    // 3. Revenus totaux (ventes uniquement)
    this.stats.totalRevenue &#x3D; this.exits
      .filter(exit &#x3D;&gt; exit.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27;)
      .reduce((sum, exit) &#x3D;&gt; sum + exit.totalAmount, 0);

    // 4. Pertes totales (pertes + casse + p√©remption)
    this.stats.totalLoss &#x3D; this.exits
      .filter(exit &#x3D;&gt; [&#x27;perte&#x27;, &#x27;casse&#x27;, &#x27;peremption&#x27;].includes(exit.type))
      .reduce((sum, exit) &#x3D;&gt; sum + exit.totalAmount, 0);

    // 5. Sorties des 7 derniers jours
    const sevenDaysAgo &#x3D; new Date();
    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);
    this.stats.recentExits &#x3D; this.exits.filter(
      exit &#x3D;&gt; new Date(exit.date) &gt;&#x3D; sevenDaysAgo
    ).length;

    // 6. Prix unitaire moyen
    if (this.exits.length &gt; 0) {
      const totalUnitPrices &#x3D; this.exits.reduce((sum, exit) &#x3D;&gt; sum + exit.unitPrice, 0);
      this.stats.averageUnitPrice &#x3D; Math.round(totalUnitPrices / this.exits.length);
    }

    // 7. Comptage par type
    this.stats.salesCount &#x3D; this.exits.filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27;).length;
    this.stats.transfersCount &#x3D; this.exits.filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;transfert&#x27;).length;
    this.stats.lossesCount &#x3D; this.exits.filter(e &#x3D;&gt;
      [&#x27;perte&#x27;, &#x27;casse&#x27;, &#x27;peremption&#x27;].includes(e.type)
    ).length;

    // 8. Cat√©gorie la plus vendue
    const categoryCounts: { [key: string]: number } &#x3D; {};
    this.exits
      .filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27;)
      .forEach(exit &#x3D;&gt; {
        const category &#x3D; exit.drinkCategory;
        categoryCounts[category] &#x3D; (categoryCounts[category] || 0) + exit.quantity;
      });

    let maxCount &#x3D; 0;
    let topCategory &#x3D; &#x27;&#x27;;
    Object.entries(categoryCounts).forEach(([category, count]) &#x3D;&gt; {
      if (count &gt; maxCount) {
        maxCount &#x3D; count;
        topCategory &#x3D; category;
      }
    });
    this.stats.topCategory &#x3D; topCategory;

    // 9. Meilleur client
    const customerCounts: { [key: string]: number } &#x3D; {};
    this.exits
      .filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27; &amp;&amp; e.customer)
      .forEach(exit &#x3D;&gt; {
        const customer &#x3D; exit.customer!;
        customerCounts[customer] &#x3D; (customerCounts[customer] || 0) + exit.totalAmount;
      });

    let maxRevenue &#x3D; 0;
    let topCustomer &#x3D; &#x27;&#x27;;
    Object.entries(customerCounts).forEach(([customer, revenue]) &#x3D;&gt; {
      if (revenue &gt; maxRevenue) {
        maxRevenue &#x3D; revenue;
        topCustomer &#x3D; customer;
      }
    });
    this.stats.topCustomer &#x3D; topCustomer;

    // 10. Marge moyenne (%)
    const sales &#x3D; this.exits.filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27;);
    if (sales.length &gt; 0) {
      let totalMarginRate &#x3D; 0;
      sales.forEach(sale &#x3D;&gt; {
        const drink &#x3D; this.drinks.find(d &#x3D;&gt; d.id &#x3D;&#x3D;&#x3D; sale.drinkId);
        if (drink &amp;&amp; drink.purchasePrice &gt; 0) {
          const margin &#x3D; sale.unitPrice - drink.purchasePrice;
          const marginRate &#x3D; (margin / drink.purchasePrice) * 100;
          totalMarginRate +&#x3D; marginRate;
        }
      });
      this.stats.averageMargin &#x3D; Math.round((totalMarginRate / sales.length) * 100) / 100;
    }

    console.log(&#x27;üìä Statistiques calcul√©es:&#x27;, this.stats);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // MODAL - AJOUT DE SORTIE
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Ouvre le modal d&#x27;ajout d&#x27;une nouvelle sortie
   */
  openAddModal(): void {
    // R√©initialise le formulaire
    this.exitForm &#x3D; this.getEmptyForm();

    // R√©initialise les suggestions
    this.winePairingSuggestions &#x3D; [];

    // Ouvre le modal
    this.isAddModalOpen &#x3D; true;

    console.log(&#x27;‚ûï Modal d\&#x27;ajout ouvert&#x27;);
  }

  /**
   * Ferme le modal d&#x27;ajout
   */
  closeAddModal(): void {
    // Ferme le modal
    this.isAddModalOpen &#x3D; false;

    // R√©initialise le formulaire
    this.exitForm &#x3D; this.getEmptyForm();

    // R√©initialise les suggestions
    this.winePairingSuggestions &#x3D; [];

    console.log(&#x27;‚úÖ Modal d\&#x27;ajout ferm√©&#x27;);
  }

  /**
   * Sauvegarde une nouvelle sortie de stock
   * Valide, cr√©e la sortie et met √† jour les stats
   */
  saveExit(): void {
    // VALIDATION : V√©rifie tous les champs obligatoires
    if (!this.validateForm()) {
      alert(&#x27;‚ö†Ô∏è Veuillez remplir tous les champs obligatoires&#x27;);
      return;
    }

    // R√âCUP√âRATION : Trouve la boisson
    const drink &#x3D; this.drinks.find(d &#x3D;&gt; d.id &#x3D;&#x3D;&#x3D; this.exitForm.drinkId);
    if (!drink) {
      alert(&#x27;‚ùå Boisson non trouv√©e&#x27;);
      return;
    }

    // V√âRIFICATION STOCK : V√©rifie la disponibilit√©
    if (drink.stock &lt; this.exitForm.quantity) {
      alert(&#x60;‚ùå Stock insuffisant !\n\n&#x60; +
            &#x60;Stock disponible: ${drink.stock} unit√©s\n&#x60; +
            &#x60;Quantit√© demand√©e: ${this.exitForm.quantity} unit√©s\n\n&#x60; +
            &#x60;Manquant: ${this.exitForm.quantity - drink.stock} unit√©s&#x60;);
      return;
    }

    // CR√âATION : Construit la nouvelle sortie avec TOUS les d√©tails
    const newExit: StockExit &#x3D; {
      // G√©n√®re un ID unique
      id: this.generateId(),

      // Date actuelle
      date: new Date(),

      // Informations compl√®tes de la boisson
      drinkId: this.exitForm.drinkId,
      drinkName: drink.name,
      drinkIcon: drink.icon,
      drinkCategory: drink.category,
      drinkFormat: drink.format,

      // Type de sortie
      type: this.exitForm.type,

      // Quantit√© et tarification
      quantity: this.exitForm.quantity,
      unitPrice: this.exitForm.unitPrice,
      totalAmount: this.exitForm.totalAmount,

      // Cave source
      caveId: this.exitForm.caveId,

      // Destination selon le type
      destination: this.exitForm.destination,
      customer: this.exitForm.customer,
      customerContact: this.exitForm.customerContact,
      transferToCaveId: this.exitForm.transferToCaveId,

      // Documents (vente)
      invoiceNumber: this.exitForm.invoiceNumber,
      deliveryNote: this.exitForm.deliveryNote,

      // Motifs (pertes)
      lossReason: this.exitForm.lossReason,
      breakageDetails: this.exitForm.breakageDetails,

      // Trait√© par
      processedBy: &#x27;current-user-id&#x27;, // TODO: Remplacer par l&#x27;utilisateur connect√©
      processedByName: &#x27;Utilisateur actuel&#x27;,

      // Notes
      notes: this.exitForm.notes
    };

    // AJOUT : Ins√®re la nouvelle sortie en premi√®re position
    this.exits.unshift(newExit);

    // MISE √Ä JOUR : Applique les filtres
    this.applyFilters();

    // RECALCUL : Met √† jour les statistiques
    this.calculateStats();

    // TODO: APPEL API pour sauvegarder sur le serveur
    // this.exitService.createExit(newExit).subscribe(...)

    console.log(&#x27;‚úÖ Sortie ajout√©e avec succ√®s:&#x27;, newExit);

    // NOTIFICATION : Informe l&#x27;utilisateur
    const typeLabel &#x3D; this.getTypeLabel(newExit.type);
    alert(&#x60;‚úÖ ${typeLabel} enregistr√©e avec succ√®s !\n\n&#x60; +
          &#x60;üì¶ Boisson: ${drink.name}\n&#x60; +
          &#x60;üî¢ Quantit√©: ${newExit.quantity} unit√©s\n&#x60; +
          &#x60;üí∞ Montant: ${this.formatNumber(newExit.totalAmount)} FCFA&#x60;);

    // FERMETURE : Ferme le modal
    this.closeAddModal();
  }

  /**
   * Valide le formulaire de sortie
   * @returns true si valide
   */
  private validateForm(): boolean {
    // Champs obligatoires de base
    const baseValidation &#x3D; !!(
      this.exitForm.drinkId &amp;&amp;
      this.exitForm.type &amp;&amp;
      this.exitForm.quantity &gt; 0 &amp;&amp;
      this.exitForm.unitPrice &gt; 0 &amp;&amp;
      this.exitForm.totalAmount &gt; 0 &amp;&amp;
      this.exitForm.caveId
    );

    if (!baseValidation) return false;

    // Validation sp√©cifique selon le type
    switch (this.exitForm.type) {
      case &#x27;vente&#x27;:
        // Pour une vente : client obligatoire
        return !!this.exitForm.customer;

      case &#x27;transfert&#x27;:
        // Pour un transfert : cave de destination obligatoire
        return !!this.exitForm.transferToCaveId;

      case &#x27;perte&#x27;:
      case &#x27;casse&#x27;:
      case &#x27;peremption&#x27;:
        // Pour les pertes : motif obligatoire
        return !!this.exitForm.lossReason;

      default:
        return true;
    }
  }

  /**
   * Retourne un formulaire vide
   * @returns Formulaire initialis√©
   */
  private getEmptyForm(): StockExitForm {
    return {
      drinkId: &#x27;&#x27;,
      type: &#x27;vente&#x27;,
      quantity: 0,
      unitPrice: 0,
      totalAmount: 0,
      caveId: &#x27;&#x27;,
      destination: &#x27;&#x27;,
      customer: &#x27;&#x27;,
      customerContact: &#x27;&#x27;,
      transferToCaveId: &#x27;&#x27;,
      lossReason: &#x27;&#x27;,
      breakageDetails: &#x27;&#x27;,
      invoiceNumber: &#x27;&#x27;,
      deliveryNote: &#x27;&#x27;,
      notes: &#x27;&#x27;
    };
  }
  // ... (suite dans le prochain message)
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // MODAL - D√âTAILS DE SORTIE
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Affiche les d√©tails complets d&#x27;une sortie dans un modal
   * @param exit Sortie √† afficher
   */
  viewExitDetails(exit: StockExit): void {
    // S√©lectionne la sortie
    this.selectedExit &#x3D; exit;

    // Charge les informations de la boisson pour afficher les accords
    const drink &#x3D; this.drinks.find(d &#x3D;&gt; d.id &#x3D;&#x3D;&#x3D; exit.drinkId);
    if (drink) {
      this.loadWinePairingSuggestions(drink);
    }

    // Ouvre le modal de d√©tails
    this.isDetailModalOpen &#x3D; true;

    console.log(&#x27;üëÅÔ∏è D√©tails de la sortie affich√©s:&#x27;, exit);
  }

  /**
   * Ferme le modal de d√©tails
   */
  closeDetailModal(): void {
    this.isDetailModalOpen &#x3D; false;
    this.selectedExit &#x3D; null;
    this.winePairingSuggestions &#x3D; [];

    console.log(&#x27;‚úÖ Modal de d√©tails ferm√©&#x27;);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // SUPPRESSION
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Supprime une sortie apr√®s confirmation
   * @param exit Sortie √† supprimer
   */
  deleteExit(exit: StockExit): void {
    // Message de confirmation d√©taill√©
    const typeLabel &#x3D; this.getTypeLabel(exit.type);
    const confirmMessage &#x3D;
      &#x60;‚ö†Ô∏è √ätes-vous s√ªr de vouloir supprimer cette sortie ?\n\n&#x60; +
      &#x60;üì¶ Produit: ${exit.drinkIcon} ${exit.drinkName}\n&#x60; +
      &#x60;üè∑Ô∏è Type: ${typeLabel}\n&#x60; +
      &#x60;üìè Format: ${exit.drinkFormat}\n&#x60; +
      &#x60;üî¢ Quantit√©: ${exit.quantity} unit√©s\n&#x60; +
      &#x60;üí∞ Montant: ${this.formatNumber(exit.totalAmount)} FCFA\n&#x60; +
      &#x60;üìÖ Date: ${this.formatDate(exit.date)}\n&#x60; +
      &#x60;${exit.customer ? &#x60;üë§ Client: ${exit.customer}\n&#x60; : &#x27;&#x27;}&#x60; +
      &#x60;\nCette action est irr√©versible !&#x60;;

    if (confirm(confirmMessage)) {
      // Trouve l&#x27;index
      const index &#x3D; this.exits.findIndex(e &#x3D;&gt; e.id &#x3D;&#x3D;&#x3D; exit.id);

      if (index !&#x3D;&#x3D; -1) {
        // Supprime du tableau
        this.exits.splice(index, 1);

        // Met √† jour
        this.applyFilters();
        this.calculateStats();

        // TODO: APPEL API DELETE
        // this.exitService.deleteExit(exit.id).subscribe(...)

        console.log(&#x27;üóëÔ∏è Sortie supprim√©e:&#x27;, exit.id);
        alert(&#x27;‚úÖ Sortie supprim√©e avec succ√®s !&#x27;);
      }
    } else {
      console.log(&#x27;‚ùå Suppression annul√©e&#x27;);
    }
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // M√âTHODES UTILITAIRES
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * G√©n√®re un ID unique pour une sortie
   * @returns ID unique g√©n√©r√©
   */
  private generateId(): string {
    const timestamp &#x3D; Date.now();
    const random &#x3D; Math.random().toString(36).substr(2, 9);
    return &#x60;exit_${timestamp}_${random}&#x60;;
  }

  /**
   * Formate un nombre avec s√©parateurs de milliers
   * @param num Nombre √† formater
   * @returns Nombre format√©
   */
  formatNumber(num: number): string {
    return num.toString().replace(/\B(?&#x3D;(\d{3})+(?!\d))/g, &#x27; &#x27;);
  }

  /**
   * Formate une date au format fran√ßais complet
   * @param date Date √† formater
   * @returns Date format√©e
   */
  formatDate(date: Date): string {
    const d &#x3D; new Date(date);
    const options: Intl.DateTimeFormatOptions &#x3D; {
      year: &#x27;numeric&#x27;,
      month: &#x27;long&#x27;,
      day: &#x27;numeric&#x27;,
      hour: &#x27;2-digit&#x27;,
      minute: &#x27;2-digit&#x27;
    };
    return d.toLocaleDateString(&#x27;fr-FR&#x27;, options);
  }

  /**
   * Retourne le nom d&#x27;une cave par son ID
   * @param caveId ID de la cave
   * @returns Nom de la cave
   */
  getCaveName(caveId: string): string {
    const cave &#x3D; this.caves.find(c &#x3D;&gt; c.id &#x3D;&#x3D;&#x3D; caveId);
    return cave ? cave.name : &#x27;Cave inconnue&#x27;;
  }

  /**
   * Retourne le nom d&#x27;une boisson par son ID
   * @param drinkId ID de la boisson
   * @returns Nom de la boisson
   */
  getDrinkName(drinkId: string): string {
    const drink &#x3D; this.drinks.find(d &#x3D;&gt; d.id &#x3D;&#x3D;&#x3D; drinkId);
    return drink ? drink.name : &#x27;Boisson inconnue&#x27;;
  }

  /**
   * Retourne une date relative lisible
   * @param date Date √† convertir
   * @returns Texte de date relative
   */
  getRelativeDate(date: Date): string {
    const now &#x3D; new Date();
    const diff &#x3D; now.getTime() - new Date(date).getTime();
    const days &#x3D; Math.floor(diff / (1000 * 60 * 60 * 24));

    if (days &#x3D;&#x3D;&#x3D; 0) return &quot;Aujourd&#x27;hui&quot;;
    if (days &#x3D;&#x3D;&#x3D; 1) return &quot;Hier&quot;;
    if (days &lt; 7) return &#x60;Il y a ${days} jours&#x60;;
    if (days &lt; 30) {
      const weeks &#x3D; Math.floor(days / 7);
      return &#x60;Il y a ${weeks} semaine${weeks &gt; 1 ? &#x27;s&#x27; : &#x27;&#x27;}&#x60;;
    }
    const months &#x3D; Math.floor(days / 30);
    return &#x60;Il y a ${months} mois&#x60;;
  }

  /**
   * Retourne le libell√© d&#x27;un type de sortie
   * @param type Type de sortie
   * @returns Libell√© format√©
   */
  getTypeLabel(type: ExitType): string {
    const labels: { [key in ExitType]: string } &#x3D; {
      &#x27;vente&#x27;: &#x27;üí∞ Vente&#x27;,
      &#x27;transfert&#x27;: &#x27;üîÑ Transfert&#x27;,
      &#x27;perte&#x27;: &#x27;‚ùå Perte&#x27;,
      &#x27;casse&#x27;: &#x27;üíî Casse&#x27;,
      &#x27;peremption&#x27;: &#x27;‚è∞ P√©remption&#x27;,
      &#x27;degustation&#x27;: &#x27;üç∑ D√©gustation&#x27;
    };
    return labels[type] || type;
  }

  /**
   * Retourne la classe CSS pour un type de sortie
   * @param type Type de sortie
   * @returns Classe CSS
   */
  getTypeClass(type: ExitType): string {
    const classes: { [key in ExitType]: string } &#x3D; {
      &#x27;vente&#x27;: &#x27;type-sale&#x27;,
      &#x27;transfert&#x27;: &#x27;type-transfer&#x27;,
      &#x27;perte&#x27;: &#x27;type-loss&#x27;,
      &#x27;casse&#x27;: &#x27;type-breakage&#x27;,
      &#x27;peremption&#x27;: &#x27;type-expiry&#x27;,
      &#x27;degustation&#x27;: &#x27;type-tasting&#x27;
    };
    return classes[type] || &#x27;&#x27;;
  }

  /**
   * Retourne l&#x27;ic√¥ne pour un type de sortie
   * @param type Type de sortie
   * @returns Emoji repr√©sentatif
   */
  getTypeIcon(type: ExitType): string {
    const icons: { [key in ExitType]: string } &#x3D; {
      &#x27;vente&#x27;: &#x27;üí∞&#x27;,
      &#x27;transfert&#x27;: &#x27;üîÑ&#x27;,
      &#x27;perte&#x27;: &#x27;‚ùå&#x27;,
      &#x27;casse&#x27;: &#x27;üíî&#x27;,
      &#x27;peremption&#x27;: &#x27;‚è∞&#x27;,
      &#x27;degustation&#x27;: &#x27;üç∑&#x27;
    };
    return icons[type] || &#x27;üì¶&#x27;;
  }

  /**
   * Calcule la marge pour une sortie de type vente
   * @param exit Sortie √† analyser
   * @returns Marge en FCFA
   */
  calculateMargin(exit: StockExit): number {
    if (exit.type !&#x3D;&#x3D; &#x27;vente&#x27;) return 0;

    const drink &#x3D; this.drinks.find(d &#x3D;&gt; d.id &#x3D;&#x3D;&#x3D; exit.drinkId);
    if (!drink) return 0;

    return (exit.unitPrice - drink.purchasePrice) * exit.quantity;
  }

  /**
   * Calcule le taux de marge pour une sortie
   * @param exit Sortie √† analyser
   * @returns Taux de marge en %
   */
  calculateMarginRate(exit: StockExit): number {
    if (exit.type !&#x3D;&#x3D; &#x27;vente&#x27;) return 0;

    const drink &#x3D; this.drinks.find(d &#x3D;&gt; d.id &#x3D;&#x3D;&#x3D; exit.drinkId);
    if (!drink || drink.purchasePrice &#x3D;&#x3D;&#x3D; 0) return 0;

    const margin &#x3D; exit.unitPrice - drink.purchasePrice;
    const marginRate &#x3D; (margin / drink.purchasePrice) * 100;
    return Math.round(marginRate * 100) / 100;
  }

  /**
   * Retourne la classe CSS selon la cat√©gorie
   * @param category Cat√©gorie de boisson
   * @returns Classe CSS
   */
  getCategoryClass(category: DrinkCategory): string {
    const classMap: { [key in DrinkCategory]: string } &#x3D; {
      [DrinkCategory.BIERES]: &#x27;category-beer&#x27;,
      [DrinkCategory.SUCRERIES]: &#x27;category-sweet&#x27;,
      [DrinkCategory.CHAMPAGNE]: &#x27;category-champagne&#x27;,
      [DrinkCategory.VIN_BLANC]: &#x27;category-white-wine&#x27;,
      [DrinkCategory.VIN_ROUGE]: &#x27;category-red-wine&#x27;,
      [DrinkCategory.VIN_ROSE]: &#x27;category-rose-wine&#x27;,
      [DrinkCategory.VIN_MOUSSEUX]: &#x27;category-sparkling&#x27;,
      [DrinkCategory.LIQUEURS]: &#x27;category-liquor&#x27;,
      [DrinkCategory.BOISSONS_ENERGISANTES]: &#x27;category-energy&#x27;,
      [DrinkCategory.BOISSONS_LOCALES]: &#x27;category-local&#x27;
    };
    return classMap[category] || &#x27;&#x27;;
  }

  /**
   * V√©rifie si une sortie est r√©cente (moins de 7 jours)
   * @param exit Sortie √† v√©rifier
   * @returns true si r√©cente
   */
  isRecentExit(exit: StockExit): boolean {
    const sevenDaysAgo &#x3D; new Date();
    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);
    return new Date(exit.date) &gt;&#x3D; sevenDaysAgo;
  }

  /**
   * V√©rifie si une sortie repr√©sente une perte
   * @param exit Sortie √† v√©rifier
   * @returns true si c&#x27;est une perte
   */
  isLoss(exit: StockExit): boolean {
    return [&#x27;perte&#x27;, &#x27;casse&#x27;, &#x27;peremption&#x27;].includes(exit.type);
  }

  /**
   * Exporte les sorties filtr√©es en CSV
   */
  exportToCSV(): void {
    if (this.filteredExits.length &#x3D;&#x3D;&#x3D; 0) {
      alert(&#x27;‚ùå Aucune sortie √† exporter&#x27;);
      return;
    }

    // En-t√™tes CSV complets
    const headers &#x3D; [
      &#x27;Date&#x27;,
      &#x27;Boisson&#x27;,
      &#x27;Cat√©gorie&#x27;,
      &#x27;Format&#x27;,
      &#x27;Type de Sortie&#x27;,
      &#x27;Quantit√©&#x27;,
      &#x27;Prix Unitaire (FCFA)&#x27;,
      &#x27;Montant Total (FCFA)&#x27;,
      &#x27;Cave Source&#x27;,
      &#x27;Client&#x27;,
      &#x27;Contact Client&#x27;,
      &#x27;Destination&#x27;,
      &#x27;Cave Destination&#x27;,
      &#x27;Num√©ro Facture&#x27;,
      &#x27;Bon de Livraison&#x27;,
      &#x27;Motif Perte&#x27;,
      &#x27;D√©tails Casse&#x27;,
      &#x27;Trait√© par&#x27;,
      &#x27;Marge (FCFA)&#x27;,
      &#x27;Taux Marge (%)&#x27;,
      &#x27;Notes&#x27;
    ];

    // Conversion des donn√©es
    const rows &#x3D; this.filteredExits.map(exit &#x3D;&gt; {
      const margin &#x3D; this.calculateMargin(exit);
      const marginRate &#x3D; this.calculateMarginRate(exit);

      return [
        this.formatDate(exit.date),
        exit.drinkName,
        exit.drinkCategory,
        exit.drinkFormat,
        this.getTypeLabel(exit.type),
        exit.quantity.toString(),
        exit.unitPrice.toString(),
        exit.totalAmount.toString(),
        this.getCaveName(exit.caveId),
        exit.customer || &#x27;N/A&#x27;,
        exit.customerContact || &#x27;N/A&#x27;,
        exit.destination || &#x27;N/A&#x27;,
        exit.transferToCaveId ? this.getCaveName(exit.transferToCaveId) : &#x27;N/A&#x27;,
        exit.invoiceNumber || &#x27;N/A&#x27;,
        exit.deliveryNote || &#x27;N/A&#x27;,
        exit.lossReason || &#x27;N/A&#x27;,
        exit.breakageDetails || &#x27;N/A&#x27;,
        exit.processedByName || exit.processedBy,
        margin.toString(),
        marginRate.toString(),
        (exit.notes || &#x27;Aucune note&#x27;).replace(/,/g, &#x27;;&#x27;)
      ];
    });

    // Cr√©ation du contenu CSV
    const csvContent &#x3D; [
      headers.join(&#x27;,&#x27;),
      ...rows.map(row &#x3D;&gt; row.map(cell &#x3D;&gt; &#x60;&quot;${cell}&quot;&#x60;).join(&#x27;,&#x27;))
    ].join(&#x27;\n&#x27;);

    // T√©l√©chargement
    const blob &#x3D; new Blob([&#x27;\ufeff&#x27; + csvContent], { type: &#x27;text/csv;charset&#x3D;utf-8;&#x27; });
    const link &#x3D; document.createElement(&#x27;a&#x27;);
    const url &#x3D; URL.createObjectURL(blob);
    const fileName &#x3D; &#x60;sorties_stock_${new Date().toISOString().split(&#x27;T&#x27;)[0]}.csv&#x60;;

    link.setAttribute(&#x27;href&#x27;, url);
    link.setAttribute(&#x27;download&#x27;, fileName);
    link.style.visibility &#x3D; &#x27;hidden&#x27;;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    URL.revokeObjectURL(url);

    console.log(&#x60;üìä Export CSV effectu√©: ${fileName} (${this.filteredExits.length} sorties)&#x60;);
    alert(&#x60;‚úÖ Export r√©ussi !\n\nüìÑ Fichier: ${fileName}\nüìä ${this.filteredExits.length} sortie(s) export√©e(s)&#x60;);
  }

  /**
   * Lance l&#x27;impression
   */
  printExits(): void {
    console.log(&#x27;üñ®Ô∏è Impression des sorties lanc√©e&#x27;);
    window.print();
  }
}
</code></pre>
    </div>
</div>








                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'StockExit.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
