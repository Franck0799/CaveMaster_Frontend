<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>cave-master-frontend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>
          <script>
              // --- Iframe navigation tracking for Template Playground ---
              function sendCurrentUrlToParent() {
                  if (window.parent && window.parent !== window) {
                      window.parent.postMessage({
                          type: 'compodoc-iframe-navigate',
                          url: window.location.pathname + window.location.hash
                      }, '*');
                  }
              }
              window.addEventListener('hashchange', sendCurrentUrlToParent, false);
              window.addEventListener('popstate', sendCurrentUrlToParent, false);
              window.addEventListener('DOMContentLoaded', sendCurrentUrlToParent, false);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">cave-master-frontend documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">

















<ol class="breadcrumb">
  <li class="breadcrumb-item">Interfaces</li>
  <li class="breadcrumb-item"
  >
  User</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/view/admin-dashboard/user-create/user-create.component.ts</code>
        </p>




        <section data-compodoc="block-index">
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                        <a href="#avatar" 
>
                                            avatar
                                        </a>
                                </li>
                                <li>
                                        <a href="#cave" 
>
                                            cave
                                        </a>
                                </li>
                                <li>
                                        <a href="#email" 
>
                                            email
                                        </a>
                                </li>
                                <li>
                                        <a href="#firstName" 
>
                                            firstName
                                        </a>
                                </li>
                                <li>
                                        <a href="#id" 
>
                                            id
                                        </a>
                                </li>
                                <li>
                                        <a href="#joinDate" 
>
                                            joinDate
                                        </a>
                                </li>
                                <li>
                                        <a href="#lastName" 
>
                                            lastName
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#manager" 
>
                                            manager
                                        </a>
                                </li>
                                <li>
                                        <a href="#phone" 
>
                                            phone
                                        </a>
                                </li>
                                <li>
                                        <a href="#role" 
>
                                            role
                                        </a>
                                </li>
                                <li>
                                        <a href="#status" 
>
                                            status
                                        </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section data-compodoc="block-properties">
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="avatar"></a>
                                        <span class="name "><b>avatar</b>
                                            <a href="#avatar">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>avatar:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="cave"></a>
                                        <span class="name "><b>cave</b>
                                            <a href="#cave">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>cave:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="email"></a>
                                        <span class="name "><b>email</b>
                                            <a href="#email">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>email:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="firstName"></a>
                                        <span class="name "><b>firstName</b>
                                            <a href="#firstName">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>firstName:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="id"></a>
                                        <span class="name "><b>id</b>
                                            <a href="#id">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>id:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="joinDate"></a>
                                        <span class="name "><b>joinDate</b>
                                            <a href="#joinDate">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>joinDate:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="lastName"></a>
                                        <span class="name "><b>lastName</b>
                                            <a href="#lastName">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>lastName:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="manager"></a>
                                        <span class="name "><b>manager</b>
                                            <a href="#manager">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>manager:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="phone"></a>
                                        <span class="name "><b>phone</b>
                                            <a href="#phone">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>phone:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="role"></a>
                                        <span class="name "><b>role</b>
                                            <a href="#role">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>role:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="status"></a>
                                        <span class="name "><b>status</b>
                                            <a href="#status">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>status:     <code>&quot;active&quot; | &quot;inactive&quot; | &quot;on-leave&quot;</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>&quot;active&quot; | &quot;inactive&quot; | &quot;on-leave&quot;</code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit } from &#x27;@angular/core&#x27;;
import { CommonModule } from &#x27;@angular/common&#x27;;
import { FormsModule, ReactiveFormsModule, FormBuilder, FormGroup, Validators } from &#x27;@angular/forms&#x27;;

// Interface pour repr√©senter un utilisateur
interface User {
  id: string;           // Identifiant unique
  firstName: string;    // Pr√©nom
  lastName: string;     // Nom de famille
  email: string;        // Email
  phone: string;        // T√©l√©phone
  role: string;         // R√¥le/Poste
  avatar: string;       // Emoji d&#x27;avatar
  cave: string;         // Cave d&#x27;affectation
  manager?: string;     // Manager de supervision (optionnel)
  status: &#x27;active&#x27; | &#x27;inactive&#x27; | &#x27;on-leave&#x27;; // Statut
  joinDate: string;     // Date d&#x27;embauche
}

@Component({
  selector: &#x27;app-user-create&#x27;,
  standalone: true,
  // Imports des modules n√©cessaires
  imports: [CommonModule, FormsModule, ReactiveFormsModule],
  templateUrl: &#x27;./user-create.component.html&#x27;,
  styleUrls: [&#x27;./user-create.component.scss&#x27;]
})
export class UserCreateComponent implements OnInit {

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; PROPRI√âT√âS DU COMPOSANT &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  // Formulaire r√©actif pour cr√©ation/modification d&#x27;utilisateur
  userForm: FormGroup;

  // Flag indiquant si on est en mode √©dition
  isEditing: boolean &#x3D; false;

  // Liste de tous les utilisateurs
  users: User[] &#x3D; [];

  // Utilisateur actuellement en √©dition
  selectedUser: User | null &#x3D; null;

  // Message de succ√®s/erreur
  message: string &#x3D; &#x27;&#x27;;

  // Type de message (success, error, info)
  messageType: &#x27;success&#x27; | &#x27;error&#x27; | &#x27;info&#x27; &#x3D; &#x27;info&#x27;;

  // Liste des r√¥les disponibles
  roles: string[] &#x3D; [
    &#x27;Manager Principal&#x27;,
    &#x27;Manager Adjoint&#x27;,
    &#x27;Manager Nuit&#x27;,
    &#x27;Caissier(√®re)&#x27;,
    &#x27;Vendeur(se)&#x27;,
    &#x27;Magasinier&#x27;,
    &#x27;Livreur&#x27;,
    &#x27;Assistant(e)&#x27;,
    &#x27;Sommelier&#x27;,
    &#x27;Conseiller(√®re)&#x27;
  ];

  // Liste des caves disponibles
  caves: string[] &#x3D; [
    &#x27;Cave Principale&#x27;,
    &#x27;Cave Secondaire&#x27;,
    &#x27;Cave Premium&#x27;
  ];

  // Liste des statuts disponibles
  statuses: string[] &#x3D; [&#x27;active&#x27;, &#x27;inactive&#x27;, &#x27;on-leave&#x27;];

  // Liste des managers pour supervision (filtr√©e par cave)
  managers: User[] &#x3D; [];

  // Avatars disponibles (emojis)
  availableAvatars: string[] &#x3D; [
    &#x27;üë®‚Äçüíº&#x27;, &#x27;üë©‚Äçüíº&#x27;, &#x27;üë®&#x27;, &#x27;üë©&#x27;, &#x27;üë®‚Äçüî¨&#x27;, &#x27;üë©‚Äçüíª&#x27;, &#x27;üë®‚Äç‚öïÔ∏è&#x27;, &#x27;üë©‚Äç‚öïÔ∏è&#x27;
  ];

  // Avatar s√©lectionn√© pour le nouvel utilisateur
  selectedAvatar: string &#x3D; &#x27;üë®&#x27;;

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; CONSTRUCTEUR AVEC INJECTION DE D√âPENDANCES &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  constructor(private formBuilder: FormBuilder) {
    // Initialise le formulaire r√©actif avec validation
    this.userForm &#x3D; this.formBuilder.group({
      // Champ pr√©nom : obligatoire, min 2 caract√®res
      firstName: [&#x27;&#x27;, [Validators.required, Validators.minLength(2)]],

      // Champ nom : obligatoire, min 2 caract√®res
      lastName: [&#x27;&#x27;, [Validators.required, Validators.minLength(2)]],

      // Champ email : obligatoire, doit √™tre un email valide
      email: [&#x27;&#x27;, [Validators.required, Validators.email]],

      // Champ t√©l√©phone : optionnel, pattern pour valid√© le format
      phone: [&#x27;&#x27;, [Validators.pattern(/^\+?[0-9\s\-\(\)]+$/)]],

      // Champ r√¥le : obligatoire
      role: [&#x27;&#x27;, Validators.required],

      // Champ cave : obligatoire
      cave: [&#x27;&#x27;, Validators.required],

      // Champ manager : optionnel (seulement pour les employ√©s)
      manager: [&#x27;&#x27;],

      // Champ statut : obligatoire, valeur par d√©faut &#x27;active&#x27;
      status: [&#x27;active&#x27;, Validators.required],

      // Champ date d&#x27;embauche : obligatoire
      joinDate: [&#x27;&#x27;, Validators.required]
    });
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; M√âTHODE D&#x27;INITIALISATION &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  ngOnInit(): void {
    // Charge les donn√©es des utilisateurs au d√©marrage
    this.loadUsers();
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; M√âTHODE DE CHARGEMENT DES UTILISATEURS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  /**
   * Charge la liste de tous les utilisateurs
   * √Ä remplacer par un appel API backend
   */
  loadUsers(): void {
    // Donn√©es mock√©es des utilisateurs
    this.users &#x3D; [
      {
        id: &#x27;user_1&#x27;,
        firstName: &#x27;Jean&#x27;,
        lastName: &#x27;Kouassi&#x27;,
        email: &#x27;jean.kouassi@caveviking.com&#x27;,
        phone: &#x27;+234 801 234 5678&#x27;,
        role: &#x27;Manager Principal&#x27;,
        avatar: &#x27;üë®‚Äçüíº&#x27;,
        cave: &#x27;Cave Principale&#x27;,
        status: &#x27;active&#x27;,
        joinDate: &#x27;2023-01-15&#x27;
      },
      {
        id: &#x27;user_2&#x27;,
        firstName: &#x27;Marie&#x27;,
        lastName: &#x27;Diabate&#x27;,
        email: &#x27;marie.diabate@caveviking.com&#x27;,
        phone: &#x27;+234 802 345 6789&#x27;,
        role: &#x27;Manager Adjoint&#x27;,
        avatar: &#x27;üë©‚Äçüíº&#x27;,
        cave: &#x27;Cave Principale&#x27;,
        status: &#x27;active&#x27;,
        joinDate: &#x27;2023-03-20&#x27;
      },
      {
        id: &#x27;user_3&#x27;,
        firstName: &#x27;Alice&#x27;,
        lastName: &#x27;Martin&#x27;,
        email: &#x27;alice.martin@caveviking.com&#x27;,
        phone: &#x27;+234 803 456 7890&#x27;,
        role: &#x27;Caissi√®re&#x27;,
        avatar: &#x27;üë©&#x27;,
        cave: &#x27;Cave Principale&#x27;,
        manager: &#x27;Jean Kouassi&#x27;,
        status: &#x27;active&#x27;,
        joinDate: &#x27;2023-02-10&#x27;
      }
    ];

    // Met √† jour la liste des managers disponibles
    this.updateManagersList();
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; M√âTHODE DE MISE √Ä JOUR DE LA LISTE DES MANAGERS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  /**
   * Met √† jour la liste des managers bas√©e sur la cave s√©lectionn√©e
   */
  updateManagersList(): void {
    // R√©cup√®re la cave s√©lectionn√©e depuis le formulaire
    const selectedCave &#x3D; this.userForm.get(&#x27;cave&#x27;)?.value;

    // Filtre les managers de la cave s√©lectionn√©e
    // (un manager doit avoir &quot;Manager&quot; dans son r√¥le)
    this.managers &#x3D; this.users.filter(user &#x3D;&gt;
      user.cave &#x3D;&#x3D;&#x3D; selectedCave &amp;&amp;
      (user.role.includes(&#x27;Manager&#x27;) || user.role &#x3D;&#x3D;&#x3D; &#x27;Sommelier&#x27; || user.role &#x3D;&#x3D;&#x3D; &#x27;Conseiller(√®re)&#x27;)
    );
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; M√âTHODE DE CR√âATION D&#x27;UTILISATEUR &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  /**
   * Cr√©e un nouvel utilisateur avec les donn√©es du formulaire
   */
  createUser(): void {
    // V√©rifie que le formulaire est valide
    if (this.userForm.invalid) {
      // Affiche un message d&#x27;erreur
      this.showMessage(&#x27;‚ö†Ô∏è Veuillez remplir tous les champs obligatoires correctement&#x27;, &#x27;error&#x27;);
      return;
    }

    // Cr√©e un nouvel utilisateur avec les valeurs du formulaire
    const newUser: User &#x3D; {
      // G√©n√®re un ID unique bas√© sur le timestamp
      id: &#x27;user_&#x27; + Date.now(),

      // R√©cup√®re le pr√©nom
      firstName: this.userForm.get(&#x27;firstName&#x27;)?.value,

      // R√©cup√®re le nom
      lastName: this.userForm.get(&#x27;lastName&#x27;)?.value,

      // R√©cup√®re l&#x27;email
      email: this.userForm.get(&#x27;email&#x27;)?.value,

      // R√©cup√®re le t√©l√©phone (optionnel)
      phone: this.userForm.get(&#x27;phone&#x27;)?.value || &#x27;&#x27;,

      // R√©cup√®re le r√¥le
      role: this.userForm.get(&#x27;role&#x27;)?.value,

      // Utilise l&#x27;avatar s√©lectionn√©
      avatar: this.selectedAvatar,

      // R√©cup√®re la cave
      cave: this.userForm.get(&#x27;cave&#x27;)?.value,

      // R√©cup√®re le manager (optionnel)
      manager: this.userForm.get(&#x27;manager&#x27;)?.value || undefined,

      // R√©cup√®re le statut (valeur par d√©faut &#x27;active&#x27;)
      status: this.userForm.get(&#x27;status&#x27;)?.value || &#x27;active&#x27;,

      // Utilise la date d&#x27;embauche fournie ou aujourd&#x27;hui
      joinDate: this.userForm.get(&#x27;joinDate&#x27;)?.value || new Date().toISOString().split(&#x27;T&#x27;)[0]
    };

    // Ajoute le nouvel utilisateur √† la liste
    this.users.push(newUser);

    // Affiche un message de succ√®s
    this.showMessage(&#x27;‚úì Utilisateur cr√©√© avec succ√®s !&#x27;, &#x27;success&#x27;);

    // R√©initialise le formulaire
    this.resetForm();
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; M√âTHODE DE MISE √Ä JOUR D&#x27;UTILISATEUR &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  /**
   * Met √† jour un utilisateur existant
   */
  updateUser(): void {
    // V√©rifie que le formulaire est valide
    if (this.userForm.invalid) {
      // Affiche une erreur
      this.showMessage(&#x27;‚ö†Ô∏è Veuillez remplir tous les champs obligatoires correctement&#x27;, &#x27;error&#x27;);
      return;
    }

    // V√©rifie qu&#x27;un utilisateur est s√©lectionn√© pour √©dition
    if (!this.selectedUser) {
      // Affiche une erreur
      this.showMessage(&#x27;‚ö†Ô∏è Aucun utilisateur s√©lectionn√©&#x27;, &#x27;error&#x27;);
      return;
    }

    // Trouve l&#x27;index de l&#x27;utilisateur s√©lectionn√©
    const index &#x3D; this.users.findIndex(u &#x3D;&gt; u.id &#x3D;&#x3D;&#x3D; this.selectedUser?.id);

    // V√©rifie que l&#x27;utilisateur a √©t√© trouv√©
    if (index !&#x3D;&#x3D; -1) {
      // Met √† jour les propri√©t√©s de l&#x27;utilisateur
      this.users[index].firstName &#x3D; this.userForm.get(&#x27;firstName&#x27;)?.value;
      this.users[index].lastName &#x3D; this.userForm.get(&#x27;lastName&#x27;)?.value;
      this.users[index].email &#x3D; this.userForm.get(&#x27;email&#x27;)?.value;
      this.users[index].phone &#x3D; this.userForm.get(&#x27;phone&#x27;)?.value;
      this.users[index].role &#x3D; this.userForm.get(&#x27;role&#x27;)?.value;
      this.users[index].cave &#x3D; this.userForm.get(&#x27;cave&#x27;)?.value;
      this.users[index].manager &#x3D; this.userForm.get(&#x27;manager&#x27;)?.value;
      this.users[index].status &#x3D; this.userForm.get(&#x27;status&#x27;)?.value;
      this.users[index].joinDate &#x3D; this.userForm.get(&#x27;joinDate&#x27;)?.value;
    }

    // Affiche un message de succ√®s
    this.showMessage(&#x27;‚úì Utilisateur mis √† jour avec succ√®s !&#x27;, &#x27;success&#x27;);

    // R√©initialise le formulaire
    this.resetForm();
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; M√âTHODE POUR √âDITER UN UTILISATEUR &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  /**
   * √âdite un utilisateur existant
   * @param user L&#x27;utilisateur √† √©diter
   */
  editUser(user: User): void {
    // Active le mode √©dition
    this.isEditing &#x3D; true;

    // Stocke l&#x27;utilisateur s√©lectionn√©
    this.selectedUser &#x3D; user;

    // Stocke l&#x27;avatar actuel
    this.selectedAvatar &#x3D; user.avatar;

    // Remplir le formulaire avec les donn√©es de l&#x27;utilisateur
    this.userForm.patchValue({
      firstName: user.firstName,
      lastName: user.lastName,
      email: user.email,
      phone: user.phone,
      role: user.role,
      cave: user.cave,
      manager: user.manager || &#x27;&#x27;,
      status: user.status,
      joinDate: user.joinDate
    });

    // Met √† jour la liste des managers pour la cave s√©lectionn√©e
    this.updateManagersList();
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; M√âTHODE POUR SUPPRIMER UN UTILISATEUR &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  /**
   * Supprime un utilisateur apr√®s confirmation
   * @param userId L&#x27;ID de l&#x27;utilisateur √† supprimer
   */
  deleteUser(userId: string): void {
    // Demande une confirmation avant la suppression
    if (confirm(&#x27;‚ö†Ô∏è √ätes-vous s√ªr de vouloir supprimer cet utilisateur ? Cette action est irr√©versible.&#x27;)) {
      // Filtre l&#x27;utilisateur de la liste (suppression)
      this.users &#x3D; this.users.filter(u &#x3D;&gt; u.id !&#x3D;&#x3D; userId);

      // Affiche un message de succ√®s
      this.showMessage(&#x27;‚úì Utilisateur supprim√© avec succ√®s !&#x27;, &#x27;success&#x27;);
    }
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; M√âTHODE DE SOUMISSION DU FORMULAIRE &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  /**
   * G√®re la soumission du formulaire
   * Cr√©e ou met √† jour selon le mode
   */
  submitForm(): void {
    // V√©rifie si on est en mode √©dition
    if (this.isEditing) {
      // Si oui, met √† jour l&#x27;utilisateur existant
      this.updateUser();
    } else {
      // Sinon, cr√©e un nouvel utilisateur
      this.createUser();
    }
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; M√âTHODE DE R√âINITIALISATION &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  /**
   * R√©initialise le formulaire et les variables d&#x27;√©tat
   */
  resetForm(): void {
    // R√©initialise le formulaire aux valeurs par d√©faut
    this.userForm.reset({
      status: &#x27;active&#x27;  // Statut par d√©faut
    });

    // R√©initialise l&#x27;avatar s√©lectionn√©
    this.selectedAvatar &#x3D; &#x27;üë®&#x27;;

    // D√©sactive le mode √©dition
    this.isEditing &#x3D; false;

    // Efface la s√©lection d&#x27;utilisateur
    this.selectedUser &#x3D; null;

    // Vide la liste des managers
    this.managers &#x3D; [];
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; M√âTHODE D&#x27;AFFICHAGE DE MESSAGE &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  /**
   * Affiche un message temporaire (succ√®s, erreur, info)
   * @param msg Le message √† afficher
   * @param type Le type de message
   */
  showMessage(msg: string, type: &#x27;success&#x27; | &#x27;error&#x27; | &#x27;info&#x27;): void {
    // Stocke le message
    this.message &#x3D; msg;

    // Stocke le type de message
    this.messageType &#x3D; type;

    // Efface le message apr√®s 3 secondes
    setTimeout(() &#x3D;&gt; {
      this.message &#x3D; &#x27;&#x27;;
    }, 3000);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; M√âTHODE DE GESTION DU CHANGEMENT D&#x27;AVATAR &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  /**
   * Change l&#x27;avatar s√©lectionn√©
   * @param avatar Le nouvel avatar
   */
  selectAvatar(avatar: string): void {
    // Stocke le nouvel avatar
    this.selectedAvatar &#x3D; avatar;
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; M√âTHODE DE V√âRIFICATION DE VALIDIT√â DU CHAMP &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  /**
   * V√©rifie si un champ du formulaire est invalide et a √©t√© touch√©
   * @param fieldName Le nom du champ
   * @returns true si le champ est invalide et touch√©
   */
  isFieldInvalid(fieldName: string): boolean {
    // R√©cup√®re le champ du formulaire
    const field &#x3D; this.userForm.get(fieldName);

    // Retourne true si le champ est invalide ET a √©t√© touch√©
    return !!(field &amp;&amp; field.invalid &amp;&amp; field.touched);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; M√âTHODE DE GESTION DU CHANGEMENT DE CAVE &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  /**
   * R√©agit aux changements du champ cave
   */
  onCaveChange(): void {
    // Met √† jour la liste des managers pour la nouvelle cave
    this.updateManagersList();

    // R√©initialise la s√©lection du manager
    this.userForm.patchValue({
      manager: &#x27;&#x27;
    });
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; M√âTHODE DE D√âTERMINATION DU TYPE DE R√îLE &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  /**
   * D√©termine si un r√¥le est celui d&#x27;un manager
   * @param role Le r√¥le √† v√©rifier
   * @returns true si c&#x27;est un manager
   */
  isManagerRole(role: string): boolean {
    // V√©rifie si le r√¥le contient &quot;Manager&quot;
    return role.includes(&#x27;Manager&#x27;);
  }
}
</code></pre>
    </div>
</div>








                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'User.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
