<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>cave-master-frontend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>
          <script>
              // --- Iframe navigation tracking for Template Playground ---
              function sendCurrentUrlToParent() {
                  if (window.parent && window.parent !== window) {
                      window.parent.postMessage({
                          type: 'compodoc-iframe-navigate',
                          url: window.location.pathname + window.location.hash
                      }, '*');
                  }
              }
              window.addEventListener('hashchange', sendCurrentUrlToParent, false);
              window.addEventListener('popstate', sendCurrentUrlToParent, false);
              window.addEventListener('DOMContentLoaded', sendCurrentUrlToParent, false);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">cave-master-frontend documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">

















<ol class="breadcrumb">
  <li class="breadcrumb-item">Interfaces</li>
  <li class="breadcrumb-item"
  >
  Employee</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/view/admin-dashboard/admin-dashboard.component.ts</code>
        </p>




        <section data-compodoc="block-index">
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                        <a href="#avatar" 
>
                                            avatar
                                        </a>
                                </li>
                                <li>
                                        <a href="#heures" 
>
                                            heures
                                        </a>
                                </li>
                                <li>
                                        <a href="#name" 
>
                                            name
                                        </a>
                                </li>
                                <li>
                                        <a href="#position" 
>
                                            position
                                        </a>
                                </li>
                                <li>
                                        <a href="#ventes" 
>
                                            ventes
                                        </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section data-compodoc="block-properties">
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="avatar"></a>
                                        <span class="name "><b>avatar</b>
                                            <a href="#avatar">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>avatar:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="heures"></a>
                                        <span class="name "><b>heures</b>
                                            <a href="#heures">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>heures:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="name"></a>
                                        <span class="name "><b>name</b>
                                            <a href="#name">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>name:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="position"></a>
                                        <span class="name "><b>position</b>
                                            <a href="#position">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>position:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="ventes"></a>
                                        <span class="name "><b>ventes</b>
                                            <a href="#ventes">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>ventes:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit, OnDestroy, HostListener } from &#x27;@angular/core&#x27;;
import { Router, RouterModule, NavigationEnd } from &#x27;@angular/router&#x27;;
import { interval, Subscription } from &#x27;rxjs&#x27;;
import { filter } from &#x27;rxjs/operators&#x27;;
import { CommonModule } from &#x27;@angular/common&#x27;;
import { FormsModule, ReactiveFormsModule } from &#x27;@angular/forms&#x27;;
import { ThemeToggleComponent } from &#x27;../../components/theme-toggle/theme-toggle.component&#x27;;

// &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; INTERFACES &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
interface FeaturedDrink {
  icon: string;
  name: string;
  category: string;
  price: string;
  stock: string;
}

interface Product {
  id: number;
  name: string;
  category: string;
  icon: string;
  sales: number;
  price: number;
  badge?: &#x27;hot&#x27; | &#x27;new&#x27;;
}

interface RecentAction {
  icon: string;
  type: &#x27;success&#x27; | &#x27;warning&#x27; | &#x27;info&#x27;;
  title: string;
  details: string;
  time: string;
}

interface Employee {
  name: string;
  position: string;
  avatar: string;
  ventes: string;
  heures: string;
}

interface Manager {
  name: string;
  role: string;
  avatar: string;
  performance: {
    ventes: string;
    equipe: string;
    satisfaction: string;
  };
  employees: Employee[];
  showEmployees?: boolean;
}

interface ProductivityStat {
  month: string;
  value: string;
  label: string;
}

interface Cave {
  id: string;
  name: string;
  location: string;
  bottles: number;
  managersCount: number;
  employeesCount: number;
  productivity: number;
  managers: Manager[];
  productivityStats: ProductivityStat[];
  globalStats: Array&lt;{ label: string; value: string }&gt;;
}

interface WinePairing {
  id: number;
  dish: string;
  dishIcon: string;
  wine: string;
  wineIcon: string;
  description: string;
  category: string;
}

interface UserProfile {
  firstName: string;
  lastName: string;
  email: string;
  phone: string;
  role: string;
  avatar: string;
  joinDate: string;
}

interface DashboardStats {
  totalRevenue: number;
  totalOrders: number;
  totalCustomers: number;
  growthRate: number;
}

@Component({
  selector: &#x27;app-admin-dashboard&#x27;,
  standalone: true,
  imports: [CommonModule, FormsModule, ReactiveFormsModule, RouterModule, ThemeToggleComponent],
  templateUrl: &#x27;./admin-dashboard.component.html&#x27;,
  styleUrls: [&#x27;./admin-dashboard.component.scss&#x27;]
})
export class AdminDashboardComponent implements OnInit, OnDestroy {

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; √âTAT DE NAVIGATION &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  activePage: string &#x3D; &#x27;home&#x27;;
  isUserDropdownOpen: boolean &#x3D; false;
  isDrinksSubmenuOpen: boolean &#x3D; false;
  isMobileSidebarOpen: boolean &#x3D; false;
  private routerSubscription?: Subscription;

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; CAROUSEL &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  featuredDrinks: FeaturedDrink[] &#x3D; [
    {
      icon: &#x27;üç∑&#x27;,
      name: &#x27;Ch√¢teau Margaux&#x27;,
      category: &#x27;VIN ROUGE&#x27;,
      price: &#x27;25 000 FCFA&#x27;,
      stock: &#x27;Stock: 45 unit√©s&#x27;
    },
    {
      icon: &#x27;üç∫&#x27;,
      name: &#x27;Heineken Premium&#x27;,
      category: &#x27;BI√àRE&#x27;,
      price: &#x27;1 500 FCFA&#x27;,
      stock: &#x27;Stock: 200 unit√©s&#x27;
    },
    {
      icon: &#x27;ü•É&#x27;,
      name: &#x27;Hennessy VSOP&#x27;,
      category: &#x27;LIQUEUR&#x27;,
      price: &#x27;35 000 FCFA&#x27;,
      stock: &#x27;Stock: 30 unit√©s&#x27;
    },
    {
      icon: &#x27;ü•Ç&#x27;,
      name: &#x27;Dom P√©rignon&#x27;,
      category: &#x27;CHAMPAGNE&#x27;,
      price: &#x27;45 000 FCFA&#x27;,
      stock: &#x27;Stock: 12 unit√©s&#x27;
    },
    {
      icon: &#x27;ü•Ç&#x27;,
      name: &#x27;Mo√´t &amp; Chandon&#x27;,
      category: &#x27;CHAMPAGNE&#x27;,
      price: &#x27;15 000 FCFA&#x27;,
      stock: &#x27;Stock: 15 unit√©s&#x27;
    }
  ];

  currentDrinkIndex: number &#x3D; 0;
  private carouselSubscription?: Subscription;
  private carouselInterval: number &#x3D; 5000; // 5 secondes

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; DONN√âES PRODUITS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  products: Product[] &#x3D; [
    {
      id: 1,
      name: &#x27;Ch√¢teau Margaux&#x27;,
      category: &#x27;Vin Rouge&#x27;,
      icon: &#x27;üç∑&#x27;,
      sales: 156,
      price: 25000,
      badge: &#x27;hot&#x27;
    },
    {
      id: 2,
      name: &#x27;Heineken Premium&#x27;,
      category: &#x27;Bi√®re&#x27;,
      icon: &#x27;üç∫&#x27;,
      sales: 89,
      price: 1500,
      badge: &#x27;new&#x27;
    },
    {
      id: 3,
      name: &#x27;Hennessy VSOP&#x27;,
      category: &#x27;Liqueur&#x27;,
      icon: &#x27;ü•É&#x27;,
      sales: 134,
      price: 35000
    },
    {
      id: 4,
      name: &#x27;Dom P√©rignon&#x27;,
      category: &#x27;Champagne&#x27;,
      icon: &#x27;ü•Ç&#x27;,
      sales: 201,
      price: 45000,
      badge: &#x27;hot&#x27;
    },
    {
      id: 5,
      name: &#x27;Red Bull Energy&#x27;,
      category: &#x27;Boisson √ânergisante&#x27;,
      icon: &#x27;‚ö°&#x27;,
      sales: 312,
      price: 800
    },
    {
      id: 6,
      name: &#x27;Bissap D√©lice&#x27;,
      category: &#x27;Boisson Locale&#x27;,
      icon: &#x27;üçπ&#x27;,
      sales: 67,
      price: 500,
      badge: &#x27;new&#x27;
    }
  ];

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; ACTIONS R√âCENTES &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  recentActions: RecentAction[] &#x3D; [
    {
      icon: &#x27;üì•&#x27;,
      type: &#x27;success&#x27;,
      title: &#x27;Nouvelle entr√©e de stock&#x27;,
      details: &#x27;50 bouteilles de Ch√¢teau Margaux ‚Ä¢ Cave Principale ‚Ä¢ +1 250 000 FCFA&#x27;,
      time: &#x27;Il y a 2h&#x27;
    },
    {
      icon: &#x27;üì§&#x27;,
      type: &#x27;warning&#x27;,
      title: &#x27;Sortie de stock importante&#x27;,
      details: &#x27;30 bouteilles de Dom P√©rignon ‚Ä¢ Cave Premium ‚Ä¢ -1 350 000 FCFA&#x27;,
      time: &#x27;Il y a 5h&#x27;
    },
    {
      icon: &#x27;üë§&#x27;,
      type: &#x27;info&#x27;,
      title: &#x27;Nouvel employ√© ajout√©&#x27;,
      details: &#x27;Marie Dubois ‚Ä¢ Caissi√®re ‚Ä¢ Cave Secondaire&#x27;,
      time: &#x27;Hier&#x27;
    },
    {
      icon: &#x27;üí∞&#x27;,
      type: &#x27;success&#x27;,
      title: &#x27;Vente exceptionnelle&#x27;,
      details: &#x27;Commande de 100 bouteilles ‚Ä¢ Client VIP ‚Ä¢ +2 500 000 FCFA&#x27;,
      time: &#x27;Hier&#x27;
    },
    {
      icon: &#x27;üîß&#x27;,
      type: &#x27;info&#x27;,
      title: &#x27;Maintenance effectu√©e&#x27;,
      details: &#x27;Syst√®me de refroidissement ‚Ä¢ Cave Premium ‚Ä¢ Op√©ration r√©ussie&#x27;,
      time: &#x27;Il y a 2 jours&#x27;
    }
  ];

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; STATISTIQUES &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  dashboardStats: DashboardStats &#x3D; {
    totalRevenue: 4500000,
    totalOrders: 234,
    totalCustomers: 89,
    growthRate: 12.5
  };

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; CAVES &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  caves: Cave[] &#x3D; [
    {
      id: &#x27;principale&#x27;,
      name: &#x27;üç∑ Cave Principale&#x27;,
      location: &#x27;Lekki Phase 1, Lagos&#x27;,
      bottles: 450,
      managersCount: 3,
      employeesCount: 12,
      productivity: 87,
      managers: [
        {
          name: &#x27;Jean Kouassi&#x27;,
          role: &#x27;Manager Principal&#x27;,
          avatar: &#x27;üë®‚Äçüíº&#x27;,
          performance: {
            ventes: &#x27;2.5M&#x27;,
            equipe: &#x27;12&#x27;,
            satisfaction: &#x27;96%&#x27;
          },
          showEmployees: false,
          employees: [
            {
              name: &#x27;Alice Martin&#x27;,
              position: &#x27;Caissi√®re&#x27;,
              avatar: &#x27;üë©&#x27;,
              ventes: &#x27;450K&#x27;,
              heures: &#x27;160h&#x27;
            },
            {
              name: &#x27;Bob Traore&#x27;,
              position: &#x27;Magasinier&#x27;,
              avatar: &#x27;üë®&#x27;,
              ventes: &#x27;380K&#x27;,
              heures: &#x27;158h&#x27;
            },
            {
              name: &#x27;Claire Diop&#x27;,
              position: &#x27;Vendeuse&#x27;,
              avatar: &#x27;üë©&#x27;,
              ventes: &#x27;520K&#x27;,
              heures: &#x27;162h&#x27;
            }
          ]
        },
        {
          name: &#x27;Sophie Diallo&#x27;,
          role: &#x27;Manager Adjoint&#x27;,
          avatar: &#x27;üë©‚Äçüíº&#x27;,
          performance: {
            ventes: &#x27;1.8M&#x27;,
            equipe: &#x27;8&#x27;,
            satisfaction: &#x27;92%&#x27;
          },
          showEmployees: false,
          employees: [
            {
              name: &#x27;David Kone&#x27;,
              position: &#x27;Vendeur&#x27;,
              avatar: &#x27;üë®&#x27;,
              ventes: &#x27;380K&#x27;,
              heures: &#x27;155h&#x27;
            },
            {
              name: &#x27;Emma Toure&#x27;,
              position: &#x27;Caissi√®re&#x27;,
              avatar: &#x27;üë©&#x27;,
              ventes: &#x27;420K&#x27;,
              heures: &#x27;160h&#x27;
            }
          ]
        }
      ],
      productivityStats: [
        { month: &#x27;Avril 2025&#x27;, value: &#x27;3.2M&#x27;, label: &#x27;Ventes&#x27; },
        { month: &#x27;Mai 2025&#x27;, value: &#x27;3.8M&#x27;, label: &#x27;Ventes&#x27; },
        { month: &#x27;Juin 2025&#x27;, value: &#x27;4.1M&#x27;, label: &#x27;Ventes&#x27; }
      ],
      globalStats: [
        { label: &#x27;Ventes moyennes/mois&#x27;, value: &#x27;4.05M FCFA&#x27; },
        { label: &#x27;Taux de croissance&#x27;, value: &#x27;+12.5%&#x27; },
        { label: &#x27;Satisfaction client&#x27;, value: &#x27;94%&#x27; }
      ]
    },
    {
      id: &#x27;secondaire&#x27;,
      name: &#x27;ü•Ç Cave Premium&#x27;,
      location: &#x27;Victoria Island, Lagos&#x27;,
      bottles: 320,
      managersCount: 2,
      employeesCount: 8,
      productivity: 92,
      managers: [
        {
          name: &#x27;Pierre Sow&#x27;,
          role: &#x27;Manager Premium&#x27;,
          avatar: &#x27;üë®‚Äçüíº&#x27;,
          performance: {
            ventes: &#x27;3.2M&#x27;,
            equipe: &#x27;8&#x27;,
            satisfaction: &#x27;98%&#x27;
          },
          showEmployees: false,
          employees: [
            {
              name: &#x27;Fatou Ndiaye&#x27;,
              position: &#x27;Sommeli√®re&#x27;,
              avatar: &#x27;üë©&#x27;,
              ventes: &#x27;650K&#x27;,
              heures: &#x27;160h&#x27;
            },
            {
              name: &#x27;Omar Ba&#x27;,
              position: &#x27;Caviste&#x27;,
              avatar: &#x27;üë®&#x27;,
              ventes: &#x27;580K&#x27;,
              heures: &#x27;158h&#x27;
            }
          ]
        }
      ],
      productivityStats: [
        { month: &#x27;Avril 2025&#x27;, value: &#x27;2.8M&#x27;, label: &#x27;Ventes&#x27; },
        { month: &#x27;Mai 2025&#x27;, value: &#x27;3.2M&#x27;, label: &#x27;Ventes&#x27; },
        { month: &#x27;Juin 2025&#x27;, value: &#x27;3.5M&#x27;, label: &#x27;Ventes&#x27; }
      ],
      globalStats: [
        { label: &#x27;Ventes moyennes/mois&#x27;, value: &#x27;3.17M FCFA&#x27; },
        { label: &#x27;Taux de croissance&#x27;, value: &#x27;+15.2%&#x27; },
        { label: &#x27;Satisfaction client&#x27;, value: &#x27;98%&#x27; }
      ]
    }
  ];

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; MODALS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  isCaveModalOpen: boolean &#x3D; false;
  isAddCaveModalOpen: boolean &#x3D; false;
  isAddManagerModalOpen: boolean &#x3D; false;
  isAddEmployeeModalOpen: boolean &#x3D; false;
  isProfileModalOpen: boolean &#x3D; false;
  selectedCave?: Cave;
  activeModalTab: string &#x3D; &#x27;managers&#x27;;

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; ACCORDS METS &amp; VINS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  winePairings: WinePairing[] &#x3D; [
    {
      id: 1,
      dish: &#x27;Steak grill√©&#x27;,
      dishIcon: &#x27;ü•©&#x27;,
      wine: &#x27;Ch√¢teau Margaux&#x27;,
      wineIcon: &#x27;üç∑&#x27;,
      description: &#x27;Un vin rouge cors√© qui sublime la viande rouge&#x27;,
      category: &#x27;Viandes rouges&#x27;
    },
    {
      id: 2,
      dish: &#x27;Poisson grill√©&#x27;,
      dishIcon: &#x27;üêü&#x27;,
      wine: &#x27;Chablis Blanc&#x27;,
      wineIcon: &#x27;üçæ&#x27;,
      description: &#x27;Un vin blanc sec parfait pour le poisson&#x27;,
      category: &#x27;Poissons&#x27;
    },
    {
      id: 3,
      dish: &#x27;Fromages affin√©s&#x27;,
      dishIcon: &#x27;üßÄ&#x27;,
      wine: &#x27;Bordeaux Rouge&#x27;,
      wineIcon: &#x27;üç∑&#x27;,
      description: &#x27;Alliance parfaite avec les fromages √† p√¢te dure&#x27;,
      category: &#x27;Fromages&#x27;
    },
    {
      id: 4,
      dish: &#x27;Fruits de mer&#x27;,
      dishIcon: &#x27;ü¶û&#x27;,
      wine: &#x27;Champagne Brut&#x27;,
      wineIcon: &#x27;ü•Ç&#x27;,
      description: &#x27;La fra√Æcheur du champagne rehausse les saveurs marines&#x27;,
      category: &#x27;Fruits de mer&#x27;
    }
  ];

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; PROFIL UTILISATEUR &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  userProfile: UserProfile &#x3D; {
    firstName: &#x27;Franck&#x27;,
    lastName: &#x27;KONGO&#x27;,
    email: &#x27;franck.kongo@caveviking.com&#x27;,
    phone: &#x27;+234 801 234 5678&#x27;,
    role: &#x27;Administrateur&#x27;,
    avatar: &#x27;üë§&#x27;,
    joinDate: &#x27;15 Janvier 2023&#x27;
  };

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; FORMULAIRES &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  newCaveForm &#x3D; {
    name: &#x27;&#x27;,
    location: &#x27;&#x27;,
    capacity: 0,
    description: &#x27;&#x27;
  };

  newManagerForm &#x3D; {
    firstName: &#x27;&#x27;,
    lastName: &#x27;&#x27;,
    email: &#x27;&#x27;,
    phone: &#x27;&#x27;,
    caveId: &#x27;&#x27;,
    role: &#x27;Manager&#x27;
  };

  newEmployeeForm &#x3D; {
    firstName: &#x27;&#x27;,
    lastName: &#x27;&#x27;,
    email: &#x27;&#x27;,
    phone: &#x27;&#x27;,
    caveId: &#x27;&#x27;,
    managerId: &#x27;&#x27;,
    position: &#x27;&#x27;
  };

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; SCAN &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  scanResult: string &#x3D; &#x27;&#x27;;
  isScanActive: boolean &#x3D; false;

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; RECHERCHE &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  searchTerm: string &#x3D; &#x27;&#x27;;

  constructor(private router: Router) {}

  ngOnInit(): void {
    console.log(&#x27;‚úì Dashboard Admin initialis√© avec succ√®s !&#x27;);

    this.initializeRouterSubscription();
    this.updateActivePageFromRoute();
    this.startCarouselInterval();
    this.checkMobileView();
  }

  ngOnDestroy(): void {
    this.cleanupSubscriptions();
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; GESTION DES √âV√âNEMENTS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  @HostListener(&#x27;window:resize&#x27;)
  onResize(): void {
    this.checkMobileView();
  }

  @HostListener(&#x27;document:click&#x27;, [&#x27;$event&#x27;])
  onDocumentClick(event: MouseEvent): void {
    this.handleOutsideClick(event);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; INITIALISATION &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  private initializeRouterSubscription(): void {
    this.routerSubscription &#x3D; this.router.events
      .pipe(filter(event &#x3D;&gt; event instanceof NavigationEnd))
      .subscribe(() &#x3D;&gt; {
        this.updateActivePageFromRoute();
        this.closeMobileSidebar();
      });
  }

  private checkMobileView(): void {
    if (window.innerWidth &lt; 768) {
      this.isMobileSidebarOpen &#x3D; false;
    }
  }

  private cleanupSubscriptions(): void {
    if (this.carouselSubscription) {
      this.carouselSubscription.unsubscribe();
    }
    if (this.routerSubscription) {
      this.routerSubscription.unsubscribe();
    }
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; NAVIGATION &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  private updateActivePageFromRoute(): void {
    const url &#x3D; this.router.url;
    console.log(&#x27;üîç URL actuelle:&#x27;, url);

    const validPages &#x3D; [
      &#x27;caisse&#x27;, &#x27;profit&#x27;, &#x27;caves&#x27;, &#x27;managers&#x27;, &#x27;employees&#x27;, &#x27;drinks&#x27;,
      &#x27;wine-pairing&#x27;, &#x27;scan&#x27;, &#x27;settings&#x27;, &#x27;home&#x27;, &#x27;client&#x27;, &#x27;fournisseur&#x27;,
      &#x27;depenses&#x27;, &#x27;materiel&#x27;, &#x27;stock&#x27;, &#x27;entries&#x27;, &#x27;exits&#x27;, &#x27;faq&#x27;,
      &#x27;improvements&#x27;, &#x27;contact&#x27;, &#x27;about&#x27;, &#x27;profile&#x27;
    ];

    let foundPage &#x3D; &#x27;home&#x27;;
    for (const page of validPages) {
      if (url.includes(&#x60;/${page}&#x60;)) {
        foundPage &#x3D; page;
        break;
      }
    }

    this.activePage &#x3D; foundPage;
    console.log(&#x27;üìÑ Page active:&#x27;, this.activePage);
  }

  navigateTo(page: string, event?: Event): void {
    if (event) {
      event.preventDefault();
      event.stopPropagation();
    }

    console.log(&#x27;üöÄ Navigation vers:&#x27;, page);
    this.isUserDropdownOpen &#x3D; false;

    const navigationPath &#x3D; [&#x27;/admin&#x27;, page];

    this.router.navigate(navigationPath)
      .then(success &#x3D;&gt; {
        if (success) {
          console.log(&#x27;‚úÖ Navigation r√©ussie vers:&#x27;, page);
          window.scrollTo({ top: 0, behavior: &#x27;smooth&#x27; });
        } else {
          console.error(&#x27;‚ùå √âchec de la navigation vers:&#x27;, page);
        }
      })
      .catch(error &#x3D;&gt; {
        console.error(&#x27;‚ùå Erreur de navigation:&#x27;, error);
      });
  }

  isPageActive(page: string): boolean {
    return this.activePage &#x3D;&#x3D;&#x3D; page;
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; GESTION DU SIDEBAR MOBILE &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  toggleMobileSidebar(): void {
    this.isMobileSidebarOpen &#x3D; !this.isMobileSidebarOpen;
  }

  closeMobileSidebar(): void {
    if (window.innerWidth &lt; 768) {
      this.isMobileSidebarOpen &#x3D; false;
    }
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; GESTION DES DROPDOWNS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  toggleDrinksSubmenu(event?: Event): void {
    if (event) {
      event.preventDefault();
      event.stopPropagation();
    }
    this.isDrinksSubmenuOpen &#x3D; !this.isDrinksSubmenuOpen;
  }

  toggleUserDropdown(event?: Event): void {
    if (event) {
      event.preventDefault();
      event.stopPropagation();
    }
    this.isUserDropdownOpen &#x3D; !this.isUserDropdownOpen;
  }

  private handleOutsideClick(event: MouseEvent): void {
    const target &#x3D; event.target as HTMLElement;

    const userProfile &#x3D; target.closest(&#x27;.user-profile&#x27;);
    if (!userProfile &amp;&amp; this.isUserDropdownOpen) {
      this.isUserDropdownOpen &#x3D; false;
    }

    const drinksSubmenu &#x3D; target.closest(&#x27;.nav-item-with-submenu&#x27;);
    if (!drinksSubmenu &amp;&amp; this.isDrinksSubmenuOpen) {
      this.isDrinksSubmenuOpen &#x3D; false;
    }
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; CAROUSEL &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  private startCarouselInterval(): void {
    this.carouselSubscription &#x3D; interval(this.carouselInterval).subscribe(() &#x3D;&gt; {
      this.nextDrink();
    });
  }

  nextDrink(): void {
    this.currentDrinkIndex &#x3D; (this.currentDrinkIndex + 1) % this.featuredDrinks.length;
  }

  previousDrink(): void {
    this.currentDrinkIndex &#x3D;
      (this.currentDrinkIndex - 1 + this.featuredDrinks.length) % this.featuredDrinks.length;
  }

  goToDrink(index: number): void {
    this.currentDrinkIndex &#x3D; index;
  }

  getCurrentDrink(): FeaturedDrink {
    return this.featuredDrinks[this.currentDrinkIndex];
  }

  isIndicatorActive(index: number): boolean {
    return index &#x3D;&#x3D;&#x3D; this.currentDrinkIndex;
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; GESTION DES CAVES &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  openCaveModal(cave: Cave, event?: Event): void {
    if (event) {
      event.preventDefault();
      event.stopPropagation();
    }
    this.selectedCave &#x3D; cave;
    this.isCaveModalOpen &#x3D; true;
    this.activeModalTab &#x3D; &#x27;managers&#x27;;
  }

  closeCaveModal(): void {
    this.isCaveModalOpen &#x3D; false;
    this.selectedCave &#x3D; undefined;
  }

  switchModalTab(tab: string, event?: Event): void {
    if (event) {
      event.preventDefault();
      event.stopPropagation();
    }
    this.activeModalTab &#x3D; tab;
  }

  toggleEmployees(manager: Manager, event?: Event): void {
    if (event) {
      event.preventDefault();
      event.stopPropagation();
    }
    manager.showEmployees &#x3D; !manager.showEmployees;
  }

  openAddCaveModal(event?: Event): void {
    if (event) {
      event.preventDefault();
      event.stopPropagation();
    }
    this.isAddCaveModalOpen &#x3D; true;
  }

  closeAddCaveModal(): void {
    this.isAddCaveModalOpen &#x3D; false;
    this.resetNewCaveForm();
  }

  addNewCave(): void {
    if (!this.newCaveForm.name || !this.newCaveForm.location) {
      alert(&#x27;‚ö†Ô∏è Veuillez remplir tous les champs obligatoires&#x27;);
      return;
    }

    const newCave: Cave &#x3D; {
      id: Date.now().toString(),
      name: &#x60;üç∑ ${this.newCaveForm.name}&#x60;,
      location: this.newCaveForm.location,
      bottles: this.newCaveForm.capacity,
      managersCount: 0,
      employeesCount: 0,
      productivity: 0,
      managers: [],
      productivityStats: [],
      globalStats: []
    };

    this.caves.push(newCave);
    alert(&#x27;‚úì Nouvelle cave cr√©√©e avec succ√®s !&#x27;);
    this.closeAddCaveModal();
  }

  private resetNewCaveForm(): void {
    this.newCaveForm &#x3D; { name: &#x27;&#x27;, location: &#x27;&#x27;, capacity: 0, description: &#x27;&#x27; };
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; GESTION DES MANAGERS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  getAllManagers(): Manager[] {
    const allManagers: Manager[] &#x3D; [];
    this.caves.forEach(cave &#x3D;&gt; {
      cave.managers.forEach(manager &#x3D;&gt; {
        allManagers.push({
          ...manager,
          role: &#x60;${manager.role} - ${cave.name}&#x60;
        });
      });
    });
    return allManagers;
  }

  openAddManagerModal(event?: Event): void {
    if (event) {
      event.preventDefault();
      event.stopPropagation();
    }
    this.isAddManagerModalOpen &#x3D; true;
  }

  closeAddManagerModal(): void {
    this.isAddManagerModalOpen &#x3D; false;
    this.resetNewManagerForm();
  }

  addNewManager(): void {
    if (!this.newManagerForm.firstName ||
        !this.newManagerForm.lastName ||
        !this.newManagerForm.caveId) {
      alert(&#x27;‚ö†Ô∏è Veuillez remplir tous les champs obligatoires&#x27;);
      return;
    }

    const cave &#x3D; this.caves.find(c &#x3D;&gt; c.id &#x3D;&#x3D;&#x3D; this.newManagerForm.caveId);
    if (cave) {
      const newManager: Manager &#x3D; {
        name: &#x60;${this.newManagerForm.firstName} ${this.newManagerForm.lastName}&#x60;,
        role: this.newManagerForm.role,
        avatar: &#x27;üë®‚Äçüíº&#x27;,
        performance: {
          ventes: &#x27;0&#x27;,
          equipe: &#x27;0&#x27;,
          satisfaction: &#x27;0%&#x27;
        },
        employees: [],
        showEmployees: false
      };

      cave.managers.push(newManager);
      cave.managersCount++;
      alert(&#x27;‚úì Nouveau manager ajout√© avec succ√®s !&#x27;);
      this.closeAddManagerModal();
    }
  }

  private resetNewManagerForm(): void {
    this.newManagerForm &#x3D; {
      firstName: &#x27;&#x27;,
      lastName: &#x27;&#x27;,
      email: &#x27;&#x27;,
      phone: &#x27;&#x27;,
      caveId: &#x27;&#x27;,
      role: &#x27;Manager&#x27;
    };
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; GESTION DES EMPLOY√âS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  getAllEmployees(): Employee[] {
    const allEmployees: Employee[] &#x3D; [];
    this.caves.forEach(cave &#x3D;&gt; {
      cave.managers.forEach(manager &#x3D;&gt; {
        manager.employees.forEach(employee &#x3D;&gt; {
          allEmployees.push(employee);
        });
      });
    });
    return allEmployees;
  }

  openAddEmployeeModal(event?: Event): void {
    if (event) {
      event.preventDefault();
      event.stopPropagation();
    }
    this.isAddEmployeeModalOpen &#x3D; true;
  }

  closeAddEmployeeModal(): void {
    this.isAddEmployeeModalOpen &#x3D; false;
    this.resetNewEmployeeForm();
  }

  addNewEmployee(): void {
    if (!this.newEmployeeForm.firstName ||
        !this.newEmployeeForm.lastName ||
        !this.newEmployeeForm.caveId ||
        !this.newEmployeeForm.managerId) {
      alert(&#x27;‚ö†Ô∏è Veuillez remplir tous les champs obligatoires&#x27;);
      return;
    }

    const cave &#x3D; this.caves.find(c &#x3D;&gt; c.id &#x3D;&#x3D;&#x3D; this.newEmployeeForm.caveId);
    if (cave) {
      const manager &#x3D; cave.managers.find(m &#x3D;&gt; m.name &#x3D;&#x3D;&#x3D; this.newEmployeeForm.managerId);
      if (manager) {
        const newEmployee: Employee &#x3D; {
          name: &#x60;${this.newEmployeeForm.firstName} ${this.newEmployeeForm.lastName}&#x60;,
          position: this.newEmployeeForm.position,
          avatar: &#x27;üë®&#x27;,
          ventes: &#x27;0&#x27;,
          heures: &#x27;0h&#x27;
        };

        manager.employees.push(newEmployee);
        cave.employeesCount++;
        alert(&#x27;‚úì Nouvel employ√© ajout√© avec succ√®s !&#x27;);
        this.closeAddEmployeeModal();
      }
    }
  }

  private resetNewEmployeeForm(): void {
    this.newEmployeeForm &#x3D; {
      firstName: &#x27;&#x27;,
      lastName: &#x27;&#x27;,
      email: &#x27;&#x27;,
      phone: &#x27;&#x27;,
      caveId: &#x27;&#x27;,
      managerId: &#x27;&#x27;,
      position: &#x27;&#x27;
    };
  }

  getManagersByCave(caveId: string): Manager[] {
    const cave &#x3D; this.caves.find(c &#x3D;&gt; c.id &#x3D;&#x3D;&#x3D; caveId);
    return cave ? cave.managers : [];
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; GESTION DU SCAN &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  startScan(event?: Event): void {
    if (event) {
      event.preventDefault();
      event.stopPropagation();
    }

    this.isScanActive &#x3D; true;
    this.scanResult &#x3D; &#x27;&#x27;;

    setTimeout(() &#x3D;&gt; {
      this.scanResult &#x3D; JSON.stringify({
        name: &#x27;Ch√¢teau Margaux 2015&#x27;,
        category: &#x27;Vin Rouge&#x27;,
        price: 25000,
        stock: 45,
        barcode: &#x27;3245678901234&#x27;,
        origin: &#x27;France, Bordeaux&#x27;,
        vintage: 2015
      }, null, 2);
      this.isScanActive &#x3D; false;
    }, 2000);
  }

  resetScan(): void {
    this.scanResult &#x3D; &#x27;&#x27;;
    this.isScanActive &#x3D; false;
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; GESTION DU PROFIL &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  openProfileModal(event?: Event): void {
    if (event) {
      event.preventDefault();
      event.stopPropagation();
    }
    this.isProfileModalOpen &#x3D; true;
    this.isUserDropdownOpen &#x3D; false;
  }

  closeProfileModal(): void {
    this.isProfileModalOpen &#x3D; false;
  }

  saveProfile(): void {
    if (!this.userProfile.firstName ||
        !this.userProfile.lastName ||
        !this.userProfile.email) {
      alert(&#x27;‚ö†Ô∏è Veuillez remplir tous les champs obligatoires&#x27;);
      return;
    }

    alert(&#x27;‚úì Profil mis √† jour avec succ√®s !&#x27;);
    this.closeProfileModal();
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; D√âCONNEXION &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  logout(event?: Event): void {
    if (event) {
      event.preventDefault();
      event.stopPropagation();
    }

    if (confirm(&#x27;√ätes-vous s√ªr de vouloir vous d√©connecter ?&#x27;)) {
      console.log(&#x27;üëã D√©connexion...&#x27;);
      this.router.navigate([&#x27;/auth&#x27;]);
    }
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; UTILITAIRES &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  formatNumber(value: number): string {
    return value.toLocaleString(&#x27;fr-FR&#x27;);
  }

  formatCurrency(value: number): string {
    return &#x60;${this.formatNumber(value)} FCFA&#x60;;
  }

  getActionTypeClass(type: string): string {
    const classMap: { [key: string]: string } &#x3D; {
      &#x27;success&#x27;: &#x27;action-success&#x27;,
      &#x27;warning&#x27;: &#x27;action-warning&#x27;,
      &#x27;info&#x27;: &#x27;action-info&#x27;,
      &#x27;danger&#x27;: &#x27;action-danger&#x27;
    };
    return classMap[type] || &#x27;action-default&#x27;;
  }

  getBadgeClass(badge?: string): string {
    const classMap: { [key: string]: string } &#x3D; {
      &#x27;hot&#x27;: &#x27;badge-hot&#x27;,
      &#x27;new&#x27;: &#x27;badge-new&#x27;
    };
    return badge ? classMap[badge] : &#x27;&#x27;;
  }

  getProductivityColor(productivity: number): string {
    if (productivity &gt;&#x3D; 80) return &#x27;text-green-500&#x27;;
    if (productivity &gt;&#x3D; 60) return &#x27;text-yellow-500&#x27;;
    return &#x27;text-red-500&#x27;;
  }

  getProductivityBarColor(productivity: number): string {
    if (productivity &gt;&#x3D; 80) return &#x27;bg-green-500&#x27;;
    if (productivity &gt;&#x3D; 60) return &#x27;bg-yellow-500&#x27;;
    return &#x27;bg-red-500&#x27;;
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; RECHERCHE &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  onSearch(): void {
    if (!this.searchTerm.trim()) {
      console.log(&#x27;üîç Recherche vide&#x27;);
      return;
    }

    console.log(&#x27;üîç Recherche:&#x27;, this.searchTerm);
    // Impl√©mentation de la recherche
    alert(&#x60;Recherche de: ${this.searchTerm}&#x60;);
  }

  clearSearch(): void {
    this.searchTerm &#x3D; &#x27;&#x27;;
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; STATISTIQUES &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  getTotalRevenue(): number {
    return this.caves.reduce((total, cave) &#x3D;&gt; {
      return total + cave.managers.reduce((managerTotal, manager) &#x3D;&gt; {
        const sales &#x3D; parseFloat(manager.performance.ventes.replace(&#x27;M&#x27;, &#x27;&#x27;)) * 1000000;
        return managerTotal + sales;
      }, 0);
    }, 0);
  }

  getTotalBottles(): number {
    return this.caves.reduce((total, cave) &#x3D;&gt; total + cave.bottles, 0);
  }

  getTotalManagers(): number {
    return this.caves.reduce((total, cave) &#x3D;&gt; total + cave.managersCount, 0);
  }

  getTotalEmployees(): number {
    return this.caves.reduce((total, cave) &#x3D;&gt; total + cave.employeesCount, 0);
  }

  getAverageProductivity(): number {
    if (this.caves.length &#x3D;&#x3D;&#x3D; 0) return 0;
    const total &#x3D; this.caves.reduce((sum, cave) &#x3D;&gt; sum + cave.productivity, 0);
    return Math.round(total / this.caves.length);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; GESTION DES ACCORDS METS &amp; VINS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  getWinePairingsByCategory(category: string): WinePairing[] {
    return this.winePairings.filter(pairing &#x3D;&gt; pairing.category &#x3D;&#x3D;&#x3D; category);
  }

  getAllCategories(): string[] {
    const categories &#x3D; this.winePairings.map(pairing &#x3D;&gt; pairing.category);
    return [...new Set(categories)];
  }

  addWinePairing(pairing: Omit&lt;WinePairing, &#x27;id&#x27;&gt;): void {
    const newPairing: WinePairing &#x3D; {
      ...pairing,
      id: Date.now()
    };
    this.winePairings.push(newPairing);
    alert(&#x27;‚úì Accord mets &amp; vins ajout√© avec succ√®s !&#x27;);
  }

  removeWinePairing(id: number): void {
    if (confirm(&#x27;√ätes-vous s√ªr de vouloir supprimer cet accord ?&#x27;)) {
      this.winePairings &#x3D; this.winePairings.filter(pairing &#x3D;&gt; pairing.id !&#x3D;&#x3D; id);
      alert(&#x27;‚úì Accord supprim√© avec succ√®s !&#x27;);
    }
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; GESTION DES PRODUITS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  getTopProducts(limit: number &#x3D; 5): Product[] {
    return [...this.products]
      .sort((a, b) &#x3D;&gt; b.sales - a.sales)
      .slice(0, limit);
  }

  getTotalSales(): number {
    return this.products.reduce((total, product) &#x3D;&gt; {
      return total + (product.sales * product.price);
    }, 0);
  }

  getProductsByCategory(category: string): Product[] {
    return this.products.filter(product &#x3D;&gt; product.category &#x3D;&#x3D;&#x3D; category);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; EXPORT DE DONN√âES &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  exportCaveData(cave: Cave): void {
    const data &#x3D; {
      cave: {
        name: cave.name,
        location: cave.location,
        bottles: cave.bottles,
        productivity: cave.productivity
      },
      managers: cave.managers.map(m &#x3D;&gt; ({
        name: m.name,
        role: m.role,
        performance: m.performance,
        employeesCount: m.employees.length
      })),
      stats: cave.globalStats
    };

    const dataStr &#x3D; JSON.stringify(data, null, 2);
    const dataBlob &#x3D; new Blob([dataStr], { type: &#x27;application/json&#x27; });
    const url &#x3D; URL.createObjectURL(dataBlob);
    const link &#x3D; document.createElement(&#x27;a&#x27;);
    link.href &#x3D; url;
    link.download &#x3D; &#x60;${cave.name.replace(/[^a-z0-9]/gi, &#x27;_&#x27;)}_export.json&#x60;;
    link.click();
    URL.revokeObjectURL(url);

    alert(&#x27;‚úì Donn√©es export√©es avec succ√®s !&#x27;);
  }

  exportAllData(): void {
    const data &#x3D; {
      caves: this.caves,
      products: this.products,
      recentActions: this.recentActions,
      winePairings: this.winePairings,
      stats: {
        totalRevenue: this.getTotalRevenue(),
        totalBottles: this.getTotalBottles(),
        totalManagers: this.getTotalManagers(),
        totalEmployees: this.getTotalEmployees(),
        averageProductivity: this.getAverageProductivity()
      },
      exportDate: new Date().toISOString()
    };

    const dataStr &#x3D; JSON.stringify(data, null, 2);
    const dataBlob &#x3D; new Blob([dataStr], { type: &#x27;application/json&#x27; });
    const url &#x3D; URL.createObjectURL(dataBlob);
    const link &#x3D; document.createElement(&#x27;a&#x27;);
    link.href &#x3D; url;
    link.download &#x3D; &#x60;caveviking_export_${Date.now()}.json&#x60;;
    link.click();
    URL.revokeObjectURL(url);

    alert(&#x27;‚úì Export complet r√©alis√© avec succ√®s !&#x27;);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; NOTIFICATIONS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  getUnreadNotificationsCount(): number {
    return 5; // √Ä impl√©menter avec un vrai service
  }

  getUnreadMessagesCount(): number {
    return 3; // √Ä impl√©menter avec un vrai service
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; VALIDATION &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  isValidEmail(email: string): boolean {
    const emailRegex &#x3D; /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  }

  isValidPhone(phone: string): boolean {
    const phoneRegex &#x3D; /^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/;
    return phoneRegex.test(phone);
  }

  validateCaveForm(): boolean {
    if (!this.newCaveForm.name.trim()) {
      alert(&#x27;‚ö†Ô∏è Le nom de la cave est requis&#x27;);
      return false;
    }
    if (!this.newCaveForm.location.trim()) {
      alert(&#x27;‚ö†Ô∏è L\&#x27;emplacement est requis&#x27;);
      return false;
    }
    if (this.newCaveForm.capacity &lt; 0) {
      alert(&#x27;‚ö†Ô∏è La capacit√© doit √™tre positive&#x27;);
      return false;
    }
    return true;
  }

  validateManagerForm(): boolean {
    if (!this.newManagerForm.firstName.trim() || !this.newManagerForm.lastName.trim()) {
      alert(&#x27;‚ö†Ô∏è Le nom complet est requis&#x27;);
      return false;
    }
    if (this.newManagerForm.email &amp;&amp; !this.isValidEmail(this.newManagerForm.email)) {
      alert(&#x27;‚ö†Ô∏è Email invalide&#x27;);
      return false;
    }
    if (this.newManagerForm.phone &amp;&amp; !this.isValidPhone(this.newManagerForm.phone)) {
      alert(&#x27;‚ö†Ô∏è Num√©ro de t√©l√©phone invalide&#x27;);
      return false;
    }
    if (!this.newManagerForm.caveId) {
      alert(&#x27;‚ö†Ô∏è Veuillez s√©lectionner une cave&#x27;);
      return false;
    }
    return true;
  }

  validateEmployeeForm(): boolean {
    if (!this.newEmployeeForm.firstName.trim() || !this.newEmployeeForm.lastName.trim()) {
      alert(&#x27;‚ö†Ô∏è Le nom complet est requis&#x27;);
      return false;
    }
    if (this.newEmployeeForm.email &amp;&amp; !this.isValidEmail(this.newEmployeeForm.email)) {
      alert(&#x27;‚ö†Ô∏è Email invalide&#x27;);
      return false;
    }
    if (this.newEmployeeForm.phone &amp;&amp; !this.isValidPhone(this.newEmployeeForm.phone)) {
      alert(&#x27;‚ö†Ô∏è Num√©ro de t√©l√©phone invalide&#x27;);
      return false;
    }
    if (!this.newEmployeeForm.caveId) {
      alert(&#x27;‚ö†Ô∏è Veuillez s√©lectionner une cave&#x27;);
      return false;
    }
    if (!this.newEmployeeForm.managerId) {
      alert(&#x27;‚ö†Ô∏è Veuillez s√©lectionner un manager&#x27;);
      return false;
    }
    if (!this.newEmployeeForm.position.trim()) {
      alert(&#x27;‚ö†Ô∏è Le poste est requis&#x27;);
      return false;
    }
    return true;
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; DEBUG &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  debugNavigation(): void {
    console.log(&#x27;&#x3D;&#x3D;&#x3D; DEBUG NAVIGATION &#x3D;&#x3D;&#x3D;&#x27;);
    console.log(&#x27;URL actuelle:&#x27;, this.router.url);
    console.log(&#x27;Page active:&#x27;, this.activePage);
    console.log(&#x27;Routes disponibles:&#x27;, this.router.config);
    console.log(&#x27;Sidebar mobile:&#x27;, this.isMobileSidebarOpen);
    console.log(&#x27;User dropdown:&#x27;, this.isUserDropdownOpen);
    console.log(&#x27;Drinks submenu:&#x27;, this.isDrinksSubmenuOpen);
    console.log(&#x27;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x27;);
  }

  debugCaves(): void {
    console.log(&#x27;&#x3D;&#x3D;&#x3D; DEBUG CAVES &#x3D;&#x3D;&#x3D;&#x27;);
    console.log(&#x27;Nombre de caves:&#x27;, this.caves.length);
    console.log(&#x27;Total bouteilles:&#x27;, this.getTotalBottles());
    console.log(&#x27;Total managers:&#x27;, this.getTotalManagers());
    console.log(&#x27;Total employ√©s:&#x27;, this.getTotalEmployees());
    console.log(&#x27;Productivit√© moyenne:&#x27;, this.getAverageProductivity());
    console.log(&#x27;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x27;);
  }

  debugStats(): void {
    console.log(&#x27;&#x3D;&#x3D;&#x3D; DEBUG STATISTIQUES &#x3D;&#x3D;&#x3D;&#x27;);
    console.log(&#x27;Revenu total:&#x27;, this.formatCurrency(this.getTotalRevenue()));
    console.log(&#x27;Ventes totales:&#x27;, this.formatCurrency(this.getTotalSales()));
    console.log(&#x27;Top produits:&#x27;, this.getTopProducts(3));
    console.log(&#x27;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x27;);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; HELPERS POUR LE TEMPLATE &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  trackByCaveId(index: number, cave: Cave): string {
    return cave.id;
  }

  trackByManagerName(index: number, manager: Manager): string {
    return manager.name;
  }

  trackByEmployeeName(index: number, employee: Employee): string {
    return employee.name;
  }

  trackByProductId(index: number, product: Product): number {
    return product.id;
  }

  trackByActionTime(index: number, action: RecentAction): string {
    return action.time;
  }

  trackByPairingId(index: number, pairing: WinePairing): number {
    return pairing.id;
  }

  trackByIndex(index: number): number {
    return index;
  }
}
</code></pre>
    </div>
</div>








                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'Employee.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
