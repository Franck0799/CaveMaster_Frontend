<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>cave-master-frontend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>
          <script>
              // --- Iframe navigation tracking for Template Playground ---
              function sendCurrentUrlToParent() {
                  if (window.parent && window.parent !== window) {
                      window.parent.postMessage({
                          type: 'compodoc-iframe-navigate',
                          url: window.location.pathname + window.location.hash
                      }, '*');
                  }
              }
              window.addEventListener('hashchange', sendCurrentUrlToParent, false);
              window.addEventListener('popstate', sendCurrentUrlToParent, false);
              window.addEventListener('DOMContentLoaded', sendCurrentUrlToParent, false);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">cave-master-frontend documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">

















<ol class="breadcrumb">
  <li class="breadcrumb-item">Interfaces</li>
  <li class="breadcrumb-item"
  >
  StatistiqueCaisse</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/view/admin-dashboard/caisse/caisse.component.ts</code>
        </p>




        <section data-compodoc="block-index">
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                        <a href="#derniereMaj" 
>
                                            derniereMaj
                                        </a>
                                </li>
                                <li>
                                        <a href="#especes" 
>
                                            especes
                                        </a>
                                </li>
                                <li>
                                        <a href="#managerId" 
>
                                            managerId
                                        </a>
                                </li>
                                <li>
                                        <a href="#mobile" 
>
                                            mobile
                                        </a>
                                </li>
                                <li>
                                        <a href="#nombreTransactions" 
>
                                            nombreTransactions
                                        </a>
                                </li>
                                <li>
                                        <a href="#totalJour" 
>
                                            totalJour
                                        </a>
                                </li>
                                <li>
                                        <a href="#wave" 
>
                                            wave
                                        </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section data-compodoc="block-properties">
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="derniereMaj"></a>
                                        <span class="name "><b>derniereMaj</b>
                                            <a href="#derniereMaj">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>derniereMaj:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="especes"></a>
                                        <span class="name "><b>especes</b>
                                            <a href="#especes">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>especes:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="managerId"></a>
                                        <span class="name "><b>managerId</b>
                                            <a href="#managerId">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>managerId:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="mobile"></a>
                                        <span class="name "><b>mobile</b>
                                            <a href="#mobile">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>mobile:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="nombreTransactions"></a>
                                        <span class="name "><b>nombreTransactions</b>
                                            <a href="#nombreTransactions">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>nombreTransactions:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="totalJour"></a>
                                        <span class="name "><b>totalJour</b>
                                            <a href="#totalJour">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>totalJour:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="wave"></a>
                                        <span class="name "><b>wave</b>
                                            <a href="#wave">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>wave:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit } from &#x27;@angular/core&#x27;;
import { CommonModule } from &#x27;@angular/common&#x27;;
import { FormsModule, ReactiveFormsModule, FormBuilder, FormGroup, Validators } from &#x27;@angular/forms&#x27;;

// &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; INTERFACES &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

interface Manager {
  id: string;
  nom: string;
  cave: string;
  caveAdresse: string;
  avatar: string;
  statut: &#x27;actif&#x27; | &#x27;inactif&#x27; | &#x27;absent&#x27;;
}

interface Transaction {
  id: string;
  date: string;
  heure: string;
  type: &#x27;vente&#x27; | &#x27;remboursement&#x27; | &#x27;ouverture&#x27; | &#x27;fermeture&#x27;;
  typeText: string;
  montant: number;
  moyenPaiement: &#x27;especes&#x27; | &#x27;Wave&#x27; | &#x27;mobile&#x27; | &#x27;credit&#x27;;
  moyenPaiementText: string;
  client?: string;
  reference?: string;
  caissier: string;
  managerId: string;
  caveNom: string;
  details: string;
}

interface StatistiqueCaisse {
  managerId: string;
  totalJour: number;
  especes: number;
  wave: number;
  mobile: number;
  nombreTransactions: number;
  derniereMaj: string;
}

@Component({
  selector: &#x27;app-caisse&#x27;,
  standalone: true,
  imports: [CommonModule, FormsModule, ReactiveFormsModule],
  templateUrl: &#x27;./caisse.component.html&#x27;,
  styleUrls: [&#x27;./caisse.component.scss&#x27;]
})
export class CaisseComponent implements OnInit {
  // Manager s√©lectionn√©
  selectedManagerId: string &#x3D; &#x27;mgr-1&#x27;;

  // Date s√©lectionn√©e
  selectedDate: string &#x3D; new Date().toISOString().split(&#x27;T&#x27;)[0];

  // Filtre des transactions
  currentTransactionFilter: string &#x3D; &#x27;all&#x27;;

  // Vue: &#x27;resume&#x27; ou &#x27;details&#x27;
  currentView: &#x27;resume&#x27; | &#x27;details&#x27; &#x3D; &#x27;resume&#x27;;

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; DONN√âES DES MANAGERS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  managersData: Manager[] &#x3D; [
    {
      id: &#x27;mgr-1&#x27;,
      nom: &#x27;Jean Kouassi&#x27;,
      cave: &#x27;Cave Principale&#x27;,
      caveAdresse: &#x27;Lekki Phase 1, Abidjan&#x27;,
      avatar: &#x27;üë®‚Äçüíº&#x27;,
      statut: &#x27;actif&#x27;
    },
    {
      id: &#x27;mgr-2&#x27;,
      nom: &#x27;Aminata Diallo&#x27;,
      cave: &#x27;Cave Grand Maitre&#x27;,
      caveAdresse: &#x27;Grand Maitre,Abidjan&#x27;,
      avatar: &#x27;üë©‚Äçüíº&#x27;,
      statut: &#x27;actif&#x27;
    },
    {
      id: &#x27;mgr-3&#x27;,
      nom: &#x27;Ibrahim Cisse&#x27;,
      cave: &#x27;Cave Temple du repos&#x27;,
      caveAdresse: &#x27;Temple du repos, Abidjan&#x27;,
      avatar: &#x27;üë®‚Äçüíº&#x27;,
      statut: &#x27;actif&#x27;
    },
    {
      id: &#x27;mgr-4&#x27;,
      nom: &#x27;Fatou Ndiaye&#x27;,
      cave: &#x27;Cave La cachette&#x27;,
      caveAdresse: &#x27;La cachette, Abidjan&#x27;,
      avatar: &#x27;üë©‚Äçüíº&#x27;,
      statut: &#x27;absent&#x27;
    }
  ];

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; DONN√âES DES TRANSACTIONS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  transactionsData: Transaction[] &#x3D; [
    // Transactions Manager 1 (Jean Kouassi - Cave Principale)
    {
      id: &#x27;tr-1-1&#x27;,
      date: &#x27;29/10/2025&#x27;,
      heure: &#x27;14:30&#x27;,
      type: &#x27;vente&#x27;,
      typeText: &#x27;Vente&#x27;,
      montant: 185000,
      moyenPaiement: &#x27;Wave&#x27;,
      moyenPaiementText: &#x27;Wave &#x27;,
      client: &#x27;Koffi Mensah&#x27;,
      reference: &#x27;CMD-2045&#x27;,
      caissier: &#x27;Alice Martin&#x27;,
      managerId: &#x27;mgr-1&#x27;,
      caveNom: &#x27;Cave Principale&#x27;,
      details: &#x27;3x Dom P√©rignon, 2x Hennessy VSOP&#x27;
    },
    {
      id: &#x27;tr-1-2&#x27;,
      date: &#x27;29/10/2025&#x27;,
      heure: &#x27;13:30&#x27;,
      type: &#x27;vente&#x27;,
      typeText: &#x27;Vente&#x27;,
      montant: 140000,
      moyenPaiement: &#x27;mobile&#x27;,
      moyenPaiementText: &#x27;Paiement Mobile&#x27;,
      client: &#x27;Aminata Diallo&#x27;,
      reference: &#x27;CMD-2044&#x27;,
      caissier: &#x27;Grace Toure&#x27;,
      managerId: &#x27;mgr-1&#x27;,
      caveNom: &#x27;Cave Principale&#x27;,
      details: &#x27;5x Ch√¢teau Margaux, 10x Heineken&#x27;
    },
    {
      id: &#x27;tr-1-3&#x27;,
      date: &#x27;29/10/2025&#x27;,
      heure: &#x27;12:15&#x27;,
      type: &#x27;vente&#x27;,
      typeText: &#x27;Vente&#x27;,
      montant: 75000,
      moyenPaiement: &#x27;especes&#x27;,
      moyenPaiementText: &#x27;Esp√®ces&#x27;,
      client: &#x27;Ibrahim Cisse&#x27;,
      reference: &#x27;CMD-2043&#x27;,
      caissier: &#x27;Alice Martin&#x27;,
      managerId: &#x27;mgr-1&#x27;,
      caveNom: &#x27;Cave Principale&#x27;,
      details: &#x27;2x Mo√´t &amp; Chandon, 1x Whisky Premium&#x27;
    },
    {
      id: &#x27;tr-1-4&#x27;,
      date: &#x27;29/10/2025&#x27;,
      heure: &#x27;10:30&#x27;,
      type: &#x27;remboursement&#x27;,
      typeText: &#x27;Remboursement&#x27;,
      montant: -15000,
      moyenPaiement: &#x27;especes&#x27;,
      moyenPaiementText: &#x27;Esp√®ces&#x27;,
      client: &#x27;Client Anonyme&#x27;,
      reference: &#x27;RMB-001&#x27;,
      caissier: &#x27;Alice Martin&#x27;,
      managerId: &#x27;mgr-1&#x27;,
      caveNom: &#x27;Cave Principale&#x27;,
      details: &#x27;Retour produit d√©fectueux&#x27;
    },
    {
      id: &#x27;tr-1-5&#x27;,
      date: &#x27;29/10/2025&#x27;,
      heure: &#x27;08:00&#x27;,
      type: &#x27;ouverture&#x27;,
      typeText: &#x27;Ouverture Caisse&#x27;,
      montant: 50000,
      moyenPaiement: &#x27;especes&#x27;,
      moyenPaiementText: &#x27;Fond de Caisse&#x27;,
      caissier: &#x27;Alice Martin&#x27;,
      managerId: &#x27;mgr-1&#x27;,
      caveNom: &#x27;Cave Principale&#x27;,
      details: &#x27;Ouverture de caisse du jour&#x27;
    },

    // Transactions Manager 2 (Aminata Diallo - Cave Grand Maitre)
    {
      id: &#x27;tr-2-1&#x27;,
      date: &#x27;29/10/2025&#x27;,
      heure: &#x27;15:45&#x27;,
      type: &#x27;vente&#x27;,
      typeText: &#x27;Vente&#x27;,
      montant: 220000,
      moyenPaiement: &#x27;Wave&#x27;,
      moyenPaiementText: &#x27;Wave&#x27;,
      client: &#x27;Youssef Ahmed&#x27;,
      reference: &#x27;CMD-3021&#x27;,
      caissier: &#x27;Mariam Sow&#x27;,
      managerId: &#x27;mgr-2&#x27;,
      caveNom: &#x27;Cave Grand Maitre&#x27;,
      details: &#x27;10x Mo√´t &amp; Chandon, 5x Hennessy&#x27;
    },
    {
      id: &#x27;tr-2-2&#x27;,
      date: &#x27;29/10/2025&#x27;,
      heure: &#x27;14:20&#x27;,
      type: &#x27;vente&#x27;,
      typeText: &#x27;Vente&#x27;,
      montant: 95000,
      moyenPaiement: &#x27;mobile&#x27;,
      moyenPaiementText: &#x27;Paiement Mobile&#x27;,
      client: &#x27;Sandra Obi&#x27;,
      reference: &#x27;CMD-3020&#x27;,
      caissier: &#x27;David Kone&#x27;,
      managerId: &#x27;mgr-2&#x27;,
      caveNom: &#x27;Cave Grand Maitre&#x27;,
      details: &#x27;3x Champagne Ros√©, 2x Vin Rouge&#x27;
    },
    {
      id: &#x27;tr-2-3&#x27;,
      date: &#x27;29/10/2025&#x27;,
      heure: &#x27;11:30&#x27;,
      type: &#x27;vente&#x27;,
      typeText: &#x27;Vente&#x27;,
      montant: 180000,
      moyenPaiement: &#x27;especes&#x27;,
      moyenPaiementText: &#x27;Esp√®ces&#x27;,
      client: &#x27;Chief Adebayo&#x27;,
      reference: &#x27;CMD-3019&#x27;,
      caissier: &#x27;Mariam Sow&#x27;,
      managerId: &#x27;mgr-2&#x27;,
      caveNom: &#x27;Cave Grand Maitre&#x27;,
      details: &#x27;6x Dom P√©rignon&#x27;
    },
    {
      id: &#x27;tr-2-4&#x27;,
      date: &#x27;29/10/2025&#x27;,
      heure: &#x27;08:00&#x27;,
      type: &#x27;ouverture&#x27;,
      typeText: &#x27;Ouverture Caisse&#x27;,
      montant: 75000,
      moyenPaiement: &#x27;especes&#x27;,
      moyenPaiementText: &#x27;Fond de Caisse&#x27;,
      caissier: &#x27;Mariam Sow&#x27;,
      managerId: &#x27;mgr-2&#x27;,
      caveNom: &#x27;Cave Grand Maitre&#x27;,
      details: &#x27;Ouverture de caisse du jour&#x27;
    },

    // Transactions Manager 3 (Ibrahim Cisse - Cave Temple du repos)
    {
      id: &#x27;tr-3-1&#x27;,
      date: &#x27;29/10/2025&#x27;,
      heure: &#x27;16:00&#x27;,
      type: &#x27;vente&#x27;,
      typeText: &#x27;Vente&#x27;,
      montant: 310000,
      moyenPaiement: &#x27;Wave&#x27;,
      moyenPaiementText: &#x27;Wave &#x27;,
      client: &#x27;Mrs. Williams&#x27;,
      reference: &#x27;CMD-4015&#x27;,
      caissier: &#x27;Emma Sow&#x27;,
      managerId: &#x27;mgr-3&#x27;,
      caveNom: &#x27;Cave Temple du repos&#x27;,
      details: &#x27;15x Vin Rouge Premium, 5x Champagne&#x27;
    },
    {
      id: &#x27;tr-3-2&#x27;,
      date: &#x27;29/10/2025&#x27;,
      heure: &#x27;13:45&#x27;,
      type: &#x27;vente&#x27;,
      typeText: &#x27;Vente&#x27;,
      montant: 125000,
      moyenPaiement: &#x27;mobile&#x27;,
      moyenPaiementText: &#x27;Paiement Mobile&#x27;,
      client: &#x27;Ahmed Hassan&#x27;,
      reference: &#x27;CMD-4014&#x27;,
      caissier: &#x27;Frank Bamba&#x27;,
      managerId: &#x27;mgr-3&#x27;,
      caveNom: &#x27;Cave Temple du repos&#x27;,
      details: &#x27;4x Hennessy VSOP, 3x Jack Daniels&#x27;
    },
    {
      id: &#x27;tr-3-3&#x27;,
      date: &#x27;29/10/2025&#x27;,
      heure: &#x27;10:15&#x27;,
      type: &#x27;vente&#x27;,
      typeText: &#x27;Vente&#x27;,
      montant: 65000,
      moyenPaiement: &#x27;especes&#x27;,
      moyenPaiementText: &#x27;Esp√®ces&#x27;,
      client: &#x27;Kunle Ajayi&#x27;,
      reference: &#x27;CMD-4013&#x27;,
      caissier: &#x27;Emma Sow&#x27;,
      managerId: &#x27;mgr-3&#x27;,
      caveNom: &#x27;Cave Temple du repos&#x27;,
      details: &#x27;20x Heineken, 10x Soft Drinks&#x27;
    },
    {
      id: &#x27;tr-3-4&#x27;,
      date: &#x27;29/10/2025&#x27;,
      heure: &#x27;08:30&#x27;,
      type: &#x27;ouverture&#x27;,
      typeText: &#x27;Ouverture Caisse&#x27;,
      montant: 60000,
      moyenPaiement: &#x27;especes&#x27;,
      moyenPaiementText: &#x27;Fond de Caisse&#x27;,
      caissier: &#x27;Emma Sow&#x27;,
      managerId: &#x27;mgr-3&#x27;,
      caveNom: &#x27;Cave Temple du repos&#x27;,
      details: &#x27;Ouverture de caisse du jour&#x27;
    }
  ];

  ngOnInit(): void {
    console.log(&#x27;Caisse initialis√©&#x27;);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; S√âLECTION MANAGER &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  selectManager(managerId: string): void {
    this.selectedManagerId &#x3D; managerId;
  }

  get selectedManager(): Manager | undefined {
    return this.managersData.find(m &#x3D;&gt; m.id &#x3D;&#x3D;&#x3D; this.selectedManagerId);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; CHANGEMENT DE VUE &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  switchView(view: &#x27;resume&#x27; | &#x27;details&#x27;): void {
    this.currentView &#x3D; view;
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; FILTRAGE TRANSACTIONS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  filterTransactions(filter: string): void {
    this.currentTransactionFilter &#x3D; filter;
  }

  get filteredTransactions(): Transaction[] {
    let filtered &#x3D; this.transactionsData;

    // Filtre par manager
    filtered &#x3D; filtered.filter(t &#x3D;&gt; t.managerId &#x3D;&#x3D;&#x3D; this.selectedManagerId);

    // Filtre par date
    filtered &#x3D; filtered.filter(t &#x3D;&gt; t.date &#x3D;&#x3D;&#x3D; this.formatDate(this.selectedDate));

    // Filtre par type
    if (this.currentTransactionFilter !&#x3D;&#x3D; &#x27;all&#x27;) {
      filtered &#x3D; filtered.filter(t &#x3D;&gt; t.type &#x3D;&#x3D;&#x3D; this.currentTransactionFilter);
    }

    return filtered;
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; STATISTIQUES &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  get statistiquesManager(): StatistiqueCaisse {
    const transactions &#x3D; this.filteredTransactions;
    const positives &#x3D; transactions.filter(t &#x3D;&gt; t.montant &gt; 0);

    return {
      managerId: this.selectedManagerId,
      totalJour: transactions.reduce((sum, t) &#x3D;&gt; sum + t.montant, 0),
      especes: positives.filter(t &#x3D;&gt; t.moyenPaiement &#x3D;&#x3D;&#x3D; &#x27;especes&#x27;).reduce((sum, t) &#x3D;&gt; sum + t.montant, 0),
      wave: positives.filter(t &#x3D;&gt; t.moyenPaiement &#x3D;&#x3D;&#x3D; &#x27;Wave&#x27;).reduce((sum, t) &#x3D;&gt; sum + t.montant, 0),
      mobile: positives.filter(t &#x3D;&gt; t.moyenPaiement &#x3D;&#x3D;&#x3D; &#x27;mobile&#x27;).reduce((sum, t) &#x3D;&gt; sum + t.montant, 0),
      nombreTransactions: transactions.length,
      derniereMaj: new Date().toLocaleTimeString(&#x27;fr-FR&#x27;, { hour: &#x27;2-digit&#x27;, minute: &#x27;2-digit&#x27; })
    };
  }

  get statistiquesGlobales() {
    const stats &#x3D; this.managersData.map(manager &#x3D;&gt; {
      const transactions &#x3D; this.transactionsData.filter(
        t &#x3D;&gt; t.managerId &#x3D;&#x3D;&#x3D; manager.id &amp;&amp; t.date &#x3D;&#x3D;&#x3D; this.formatDate(this.selectedDate)
      );
      const positives &#x3D; transactions.filter(t &#x3D;&gt; t.montant &gt; 0);

      return {
        managerId: manager.id,
        managerNom: manager.nom,
        cave: manager.cave,
        totalJour: transactions.reduce((sum, t) &#x3D;&gt; sum + t.montant, 0),
        especes: positives.filter(t &#x3D;&gt; t.moyenPaiement &#x3D;&#x3D;&#x3D; &#x27;especes&#x27;).reduce((sum, t) &#x3D;&gt; sum + t.montant, 0),
        Wave: positives.filter(t &#x3D;&gt; t.moyenPaiement &#x3D;&#x3D;&#x3D; &#x27;Wave&#x27;).reduce((sum, t) &#x3D;&gt; sum + t.montant, 0),
        mobile: positives.filter(t &#x3D;&gt; t.moyenPaiement &#x3D;&#x3D;&#x3D; &#x27;mobile&#x27;).reduce((sum, t) &#x3D;&gt; sum + t.montant, 0),
        nombreTransactions: transactions.length
      };
    });

    return stats;
  }

  get totalGlobal(): number {
    return this.statistiquesGlobales.reduce((sum, s) &#x3D;&gt; sum + s.totalJour, 0);
  }

  get totalEspecesGlobal(): number {
    return this.statistiquesGlobales.reduce((sum, s) &#x3D;&gt; sum + s.especes, 0);
  }

  get totalWaveGlobal(): number {
    return this.statistiquesGlobales.reduce((sum, s) &#x3D;&gt; sum + s.Wave, 0);
  }

  get totalMobileGlobal(): number {
    return this.statistiquesGlobales.reduce((sum, s) &#x3D;&gt; sum + s.mobile, 0);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; COMPTAGE &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  getTransactionCount(type: string): number {
    let transactions &#x3D; this.transactionsData.filter(
      t &#x3D;&gt; t.managerId &#x3D;&#x3D;&#x3D; this.selectedManagerId &amp;&amp; t.date &#x3D;&#x3D;&#x3D; this.formatDate(this.selectedDate)
    );

    if (type &#x3D;&#x3D;&#x3D; &#x27;all&#x27;) {
      return transactions.length;
    }
    return transactions.filter(t &#x3D;&gt; t.type &#x3D;&#x3D;&#x3D; type).length;
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; FORMATAGE &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  formatDate(isoDate: string): string {
    const date &#x3D; new Date(isoDate);
    const day &#x3D; String(date.getDate()).padStart(2, &#x27;0&#x27;);
    const month &#x3D; String(date.getMonth() + 1).padStart(2, &#x27;0&#x27;);
    const year &#x3D; date.getFullYear();
    return &#x60;${day}/${month}/${year}&#x60;;
  }

  formatMontant(montant: number): string {
    return new Intl.NumberFormat(&#x27;fr-FR&#x27;).format(Math.abs(montant)) + &#x27; FCFA&#x27;;
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; M√âTHODES UTILITAIRES &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  getManagerById(managerId: string): Manager | undefined {
    return this.managersData.find(m &#x3D;&gt; m.id &#x3D;&#x3D;&#x3D; managerId);
  }

  getManagerAvatar(managerId: string): string {
    return this.getManagerById(managerId)?.avatar || &#x27;üë§&#x27;;
  }

  getManagerStatut(managerId: string): string {
    return this.getManagerById(managerId)?.statut || &#x27;inactif&#x27;;
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; ACTIONS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  exporterRapport(): void {
    alert(&#x27;Export du rapport en PDF/Excel...&#x27;);
  }

  envoyerNotification(managerId: string): void {
    const manager &#x3D; this.managersData.find(m &#x3D;&gt; m.id &#x3D;&#x3D;&#x3D; managerId);
    alert(&#x60;Notification envoy√©e √† ${manager?.nom}&#x60;);
  }

  fermerCaisse(managerId: string): void {
    const manager &#x3D; this.managersData.find(m &#x3D;&gt; m.id &#x3D;&#x3D;&#x3D; managerId);
    if (confirm(&#x60;√ätes-vous s√ªr de vouloir fermer la caisse de ${manager?.nom} ?&#x60;)) {
      alert(&#x27;Caisse ferm√©e avec succ√®s&#x27;);
    }
  }
}
</code></pre>
    </div>
</div>








                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'StatistiqueCaisse.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
