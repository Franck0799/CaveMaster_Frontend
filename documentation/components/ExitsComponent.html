<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>cave-master-frontend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>
          <script>
              // --- Iframe navigation tracking for Template Playground ---
              function sendCurrentUrlToParent() {
                  if (window.parent && window.parent !== window) {
                      window.parent.postMessage({
                          type: 'compodoc-iframe-navigate',
                          url: window.location.pathname + window.location.hash
                      }, '*');
                  }
              }
              window.addEventListener('hashchange', sendCurrentUrlToParent, false);
              window.addEventListener('popstate', sendCurrentUrlToParent, false);
              window.addEventListener('DOMContentLoaded', sendCurrentUrlToParent, false);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">cave-master-frontend documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Components</li>
  <li class="breadcrumb-item"
  >
  ExitsComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" class="nav-link"
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
        <li class="nav-item">
            <a href="#templateData" class="nav-link"
                role="tab" id="templateData-tab" data-bs-toggle="tab" data-link="template">Template</a>
        </li>
        <li class="nav-item">
            <a href="#styleData" class="nav-link"
                role="tab" id="styleData-tab" data-bs-toggle="tab" data-link="style">Styles</a>
        </li>
        <li class="nav-item">
            <a href="#tree" class="nav-link"
                role="tab" id="tree-tab" data-bs-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/view/admin-dashboard/exits/exits.component.ts</code>
</p>


    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>Composant ExitsComponent - VERSION ENRICHIE
Gestion complète des sorties de stock avec tous les détails</p>

    </p>


    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                <code>OnInit</code>
    </p>


<section data-compodoc="block-metadata">
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>












            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-exits</code></td>
            </tr>

            <tr>
                <td class="col-md-3">standalone</td>
                <td class="col-md-9"><code>true</code></td>
            </tr>

            <tr>
                <td class="col-md-3">imports</td>
                <td class="col-md-9">
                            <code>CommonModule</code>
                            <code>FormsModule</code>
                            <code>ReactiveFormsModule</code>
                </td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./exits.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./exits.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#caves" >caves</a>
                            </li>
                            <li>
                                <a href="#drinkCategories" >drinkCategories</a>
                            </li>
                            <li>
                                <a href="#drinks" >drinks</a>
                            </li>
                            <li>
                                <a href="#exitForm" >exitForm</a>
                            </li>
                            <li>
                                <a href="#exits" >exits</a>
                            </li>
                            <li>
                                <a href="#exitTypes" >exitTypes</a>
                            </li>
                            <li>
                                <a href="#filteredExits" >filteredExits</a>
                            </li>
                            <li>
                                <a href="#isAddModalOpen" >isAddModalOpen</a>
                            </li>
                            <li>
                                <a href="#isDetailModalOpen" >isDetailModalOpen</a>
                            </li>
                            <li>
                                <a href="#isLoading" >isLoading</a>
                            </li>
                            <li>
                                <a href="#periodFilter" >periodFilter</a>
                            </li>
                            <li>
                                <a href="#searchTerm" >searchTerm</a>
                            </li>
                            <li>
                                <a href="#selectedCategoryFilter" >selectedCategoryFilter</a>
                            </li>
                            <li>
                                <a href="#selectedCaveFilter" >selectedCaveFilter</a>
                            </li>
                            <li>
                                <a href="#selectedExit" >selectedExit</a>
                            </li>
                            <li>
                                <a href="#selectedTypeFilter" >selectedTypeFilter</a>
                            </li>
                            <li>
                                <a href="#stats" >stats</a>
                            </li>
                            <li>
                                <a href="#winePairingSuggestions" >winePairingSuggestions</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#applyFilters" >applyFilters</a>
                            </li>
                            <li>
                                <a href="#calculateMargin" >calculateMargin</a>
                            </li>
                            <li>
                                <a href="#calculateMarginRate" >calculateMarginRate</a>
                            </li>
                            <li>
                                <a href="#calculateStats" >calculateStats</a>
                            </li>
                            <li>
                                <a href="#calculateTotalAmount" >calculateTotalAmount</a>
                            </li>
                            <li>
                                <a href="#closeAddModal" >closeAddModal</a>
                            </li>
                            <li>
                                <a href="#closeDetailModal" >closeDetailModal</a>
                            </li>
                            <li>
                                <a href="#deleteExit" >deleteExit</a>
                            </li>
                            <li>
                                <a href="#exportToCSV" >exportToCSV</a>
                            </li>
                            <li>
                                <a href="#formatDate" >formatDate</a>
                            </li>
                            <li>
                                <a href="#formatNumber" >formatNumber</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#generateId" >generateId</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#generateMockCaves" >generateMockCaves</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#generateMockDrinks" >generateMockDrinks</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#generateMockExits" >generateMockExits</a>
                            </li>
                            <li>
                                <a href="#getCategoryClass" >getCategoryClass</a>
                            </li>
                            <li>
                                <a href="#getCaveName" >getCaveName</a>
                            </li>
                            <li>
                                <a href="#getDrinkName" >getDrinkName</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getEmptyForm" >getEmptyForm</a>
                            </li>
                            <li>
                                <a href="#getRelativeDate" >getRelativeDate</a>
                            </li>
                            <li>
                                <a href="#getTypeClass" >getTypeClass</a>
                            </li>
                            <li>
                                <a href="#getTypeIcon" >getTypeIcon</a>
                            </li>
                            <li>
                                <a href="#getTypeLabel" >getTypeLabel</a>
                            </li>
                            <li>
                                <a href="#isLoss" >isLoss</a>
                            </li>
                            <li>
                                <a href="#isRecentExit" >isRecentExit</a>
                            </li>
                            <li>
                                <a href="#loadData" >loadData</a>
                            </li>
                            <li>
                                <a href="#loadWinePairingSuggestions" >loadWinePairingSuggestions</a>
                            </li>
                            <li>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                            <li>
                                <a href="#onCategoryFilterChange" >onCategoryFilterChange</a>
                            </li>
                            <li>
                                <a href="#onCaveFilterChange" >onCaveFilterChange</a>
                            </li>
                            <li>
                                <a href="#onDrinkSelected" >onDrinkSelected</a>
                            </li>
                            <li>
                                <a href="#onPeriodFilterChange" >onPeriodFilterChange</a>
                            </li>
                            <li>
                                <a href="#onSearchChange" >onSearchChange</a>
                            </li>
                            <li>
                                <a href="#onTypeChange" >onTypeChange</a>
                            </li>
                            <li>
                                <a href="#onTypeFilterChange" >onTypeFilterChange</a>
                            </li>
                            <li>
                                <a href="#openAddModal" >openAddModal</a>
                            </li>
                            <li>
                                <a href="#printExits" >printExits</a>
                            </li>
                            <li>
                                <a href="#resetFilters" >resetFilters</a>
                            </li>
                            <li>
                                <a href="#saveExit" >saveExit</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#validateForm" >validateForm</a>
                            </li>
                            <li>
                                <a href="#viewExitDetails" >viewExitDetails</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor()</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="285" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:285</a></div>
                            </td>
                        </tr>

            </tbody>
        </table>
</section>





    <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="applyFilters"></a>
                    <span class="name">
                        <span ><b>applyFilters</b></span>
                        <a href="#applyFilters"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>applyFilters()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="951"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:951</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Applique tous les filtres actifs sur les sorties
Combine : cave, type, catégorie, période et recherche</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calculateMargin"></a>
                    <span class="name">
                        <span ><b>calculateMargin</b></span>
                        <a href="#calculateMargin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>calculateMargin(exit: <a href="../interfaces/StockExit.html" target="_self">StockExit</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1578"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1578</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Calcule la marge pour une sortie de type vente</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>exit</td>
                                            <td>
                                                            <code><a href="../interfaces/StockExit.html" target="_self" >StockExit</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Sortie à analyser</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </div>
                            <div class="io-description">
                                <p>Marge en FCFA</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calculateMarginRate"></a>
                    <span class="name">
                        <span ><b>calculateMarginRate</b></span>
                        <a href="#calculateMarginRate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>calculateMarginRate(exit: <a href="../interfaces/StockExit.html" target="_self">StockExit</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1592"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1592</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Calcule le taux de marge pour une sortie</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>exit</td>
                                            <td>
                                                            <code><a href="../interfaces/StockExit.html" target="_self" >StockExit</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Sortie à analyser</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </div>
                            <div class="io-description">
                                <p>Taux de marge en %</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calculateStats"></a>
                    <span class="name">
                        <span ><b>calculateStats</b></span>
                        <a href="#calculateStats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>calculateStats()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1070"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1070</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Calcule toutes les statistiques des sorties
Version enrichie avec revenus, pertes, marges, etc.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calculateTotalAmount"></a>
                    <span class="name">
                        <span ><b>calculateTotalAmount</b></span>
                        <a href="#calculateTotalAmount"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>calculateTotalAmount()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="766"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:766</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Calcule automatiquement le montant total
Montant = Quantité × Prix unitaire</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="closeAddModal"></a>
                    <span class="name">
                        <span ><b>closeAddModal</b></span>
                        <a href="#closeAddModal"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>closeAddModal()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1186"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1186</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Ferme le modal d&#39;ajout</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="closeDetailModal"></a>
                    <span class="name">
                        <span ><b>closeDetailModal</b></span>
                        <a href="#closeDetailModal"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>closeDetailModal()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1388"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1388</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Ferme le modal de détails</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteExit"></a>
                    <span class="name">
                        <span ><b>deleteExit</b></span>
                        <a href="#deleteExit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>deleteExit(exit: <a href="../interfaces/StockExit.html" target="_self">StockExit</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1404"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1404</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Supprime une sortie après confirmation</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>exit</td>
                                            <td>
                                                            <code><a href="../interfaces/StockExit.html" target="_self" >StockExit</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Sortie à supprimer</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="exportToCSV"></a>
                    <span class="name">
                        <span ><b>exportToCSV</b></span>
                        <a href="#exportToCSV"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>exportToCSV()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1647"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1647</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Exporte les sorties filtrées en CSV</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="formatDate"></a>
                    <span class="name">
                        <span ><b>formatDate</b></span>
                        <a href="#formatDate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>formatDate(date: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank">Date</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1469"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1469</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Formate une date au format français complet</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>date</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Date à formater</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>Date formatée</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="formatNumber"></a>
                    <span class="name">
                        <span ><b>formatNumber</b></span>
                        <a href="#formatNumber"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>formatNumber(num: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1460"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1460</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Formate un nombre avec séparateurs de milliers</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>num</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Nombre à formater</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>Nombre formaté</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateId"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>generateId</b></span>
                        <a href="#generateId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateId()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1449"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1449</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Génère un ID unique pour une sortie</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>ID unique généré</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateMockCaves"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>generateMockCaves</b></span>
                        <a href="#generateMockCaves"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateMockCaves()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="467"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:467</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Génère des caves de test</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Cave[]</code>

                        </div>
                            <div class="io-description">
                                <p>Liste de caves simulées</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateMockDrinks"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>generateMockDrinks</b></span>
                        <a href="#generateMockDrinks"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateMockDrinks()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="346"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:346</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Génère des boissons de test avec tous les détails</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Drink[]</code>

                        </div>
                            <div class="io-description">
                                <p>Liste de boissons simulées</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateMockExits"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>generateMockExits</b></span>
                        <a href="#generateMockExits"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateMockExits()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="506"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:506</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Génère des sorties de test ENRICHIES</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>StockExit[]</code>

                        </div>
                            <div class="io-description">
                                <p>Liste de sorties de stock simulées</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCategoryClass"></a>
                    <span class="name">
                        <span ><b>getCategoryClass</b></span>
                        <a href="#getCategoryClass"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getCategoryClass(category: <a href="../undefineds/DrinkCategory.html" target="_self">DrinkCategory</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1608"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1608</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retourne la classe CSS selon la catégorie</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>category</td>
                                            <td>
                                                            <code><a href="../miscellaneous/enumerations.html#DrinkCategory" target="_self" >DrinkCategory</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Catégorie de boisson</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>Classe CSS</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCaveName"></a>
                    <span class="name">
                        <span ><b>getCaveName</b></span>
                        <a href="#getCaveName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getCaveName(caveId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1486"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1486</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retourne le nom d&#39;une cave par son ID</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>caveId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>ID de la cave</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>Nom de la cave</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDrinkName"></a>
                    <span class="name">
                        <span ><b>getDrinkName</b></span>
                        <a href="#getDrinkName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDrinkName(drinkId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1496"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1496</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retourne le nom d&#39;une boisson par son ID</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>drinkId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>ID de la boisson</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>Nom de la boisson</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getEmptyForm"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>getEmptyForm</b></span>
                        <a href="#getEmptyForm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getEmptyForm()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1341"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1341</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retourne un formulaire vide</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/StockExitForm.html" target="_self" >StockExitForm</a></code>

                        </div>
                            <div class="io-description">
                                <p>Formulaire initialisé</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRelativeDate"></a>
                    <span class="name">
                        <span ><b>getRelativeDate</b></span>
                        <a href="#getRelativeDate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getRelativeDate(date: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank">Date</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1506"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1506</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retourne une date relative lisible</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>date</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Date à convertir</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>Texte de date relative</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getTypeClass"></a>
                    <span class="name">
                        <span ><b>getTypeClass</b></span>
                        <a href="#getTypeClass"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getTypeClass(type: <a href="../undefineds/ExitType.html" target="_self">ExitType</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1544"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1544</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retourne la classe CSS pour un type de sortie</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>type</td>
                                            <td>
                                                            <code><a href="../miscellaneous/typealiases.html#ExitType" target="_self" >ExitType</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Type de sortie</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>Classe CSS</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getTypeIcon"></a>
                    <span class="name">
                        <span ><b>getTypeIcon</b></span>
                        <a href="#getTypeIcon"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getTypeIcon(type: <a href="../undefineds/ExitType.html" target="_self">ExitType</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1561"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1561</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retourne l&#39;icône pour un type de sortie</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>type</td>
                                            <td>
                                                            <code><a href="../miscellaneous/typealiases.html#ExitType" target="_self" >ExitType</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Type de sortie</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>Emoji représentatif</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getTypeLabel"></a>
                    <span class="name">
                        <span ><b>getTypeLabel</b></span>
                        <a href="#getTypeLabel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getTypeLabel(type: <a href="../undefineds/ExitType.html" target="_self">ExitType</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1527"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1527</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retourne le libellé d&#39;un type de sortie</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>type</td>
                                            <td>
                                                            <code><a href="../miscellaneous/typealiases.html#ExitType" target="_self" >ExitType</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Type de sortie</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>Libellé formaté</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isLoss"></a>
                    <span class="name">
                        <span ><b>isLoss</b></span>
                        <a href="#isLoss"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isLoss(exit: <a href="../interfaces/StockExit.html" target="_self">StockExit</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1640"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1640</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Vérifie si une sortie représente une perte</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>exit</td>
                                            <td>
                                                            <code><a href="../interfaces/StockExit.html" target="_self" >StockExit</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Sortie à vérifier</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                <p>true si c&#39;est une perte</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isRecentExit"></a>
                    <span class="name">
                        <span ><b>isRecentExit</b></span>
                        <a href="#isRecentExit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isRecentExit(exit: <a href="../interfaces/StockExit.html" target="_self">StockExit</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1629"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1629</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Vérifie si une sortie est récente (moins de 7 jours)</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>exit</td>
                                            <td>
                                                            <code><a href="../interfaces/StockExit.html" target="_self" >StockExit</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Sortie à vérifier</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                <p>true si récente</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadData"></a>
                    <span class="name">
                        <span ><b>loadData</b></span>
                        <a href="#loadData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadData()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="313"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:313</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Charge toutes les données nécessaires</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadWinePairingSuggestions"></a>
                    <span class="name">
                        <span ><b>loadWinePairingSuggestions</b></span>
                        <a href="#loadWinePairingSuggestions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadWinePairingSuggestions(drink: <a href="../interfaces/Drink.html" target="_self">Drink</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="838"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:838</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Charge les suggestions d&#39;accords mets-vins pour une boisson
Intégration avec le composant wine-pairing</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>drink</td>
                                            <td>
                                                            <code><a href="../interfaces/Drink.html" target="_self" >Drink</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Boisson sélectionnée</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="301"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:301</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Initialisation du composant
Charge toutes les données au démarrage</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onCategoryFilterChange"></a>
                    <span class="name">
                        <span ><b>onCategoryFilterChange</b></span>
                        <a href="#onCategoryFilterChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onCategoryFilterChange()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1028"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1028</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Gère le changement du filtre catégorie</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onCaveFilterChange"></a>
                    <span class="name">
                        <span ><b>onCaveFilterChange</b></span>
                        <a href="#onCaveFilterChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onCaveFilterChange()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1012"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1012</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Gère le changement du filtre cave</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onDrinkSelected"></a>
                    <span class="name">
                        <span ><b>onDrinkSelected</b></span>
                        <a href="#onDrinkSelected"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onDrinkSelected()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="778"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:778</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Gère le changement de boisson sélectionnée
Remplit automatiquement le prix depuis la boisson</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onPeriodFilterChange"></a>
                    <span class="name">
                        <span ><b>onPeriodFilterChange</b></span>
                        <a href="#onPeriodFilterChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onPeriodFilterChange()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1036"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1036</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Gère le changement de la période de filtre</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onSearchChange"></a>
                    <span class="name">
                        <span ><b>onSearchChange</b></span>
                        <a href="#onSearchChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onSearchChange()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1044"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1044</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Gère le changement du terme de recherche</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onTypeChange"></a>
                    <span class="name">
                        <span ><b>onTypeChange</b></span>
                        <a href="#onTypeChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onTypeChange()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="807"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:807</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Gère le changement de type de sortie
Ajuste les champs nécessaires selon le type</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onTypeFilterChange"></a>
                    <span class="name">
                        <span ><b>onTypeFilterChange</b></span>
                        <a href="#onTypeFilterChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onTypeFilterChange()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1020"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1020</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Gère le changement du filtre type</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openAddModal"></a>
                    <span class="name">
                        <span ><b>openAddModal</b></span>
                        <a href="#openAddModal"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openAddModal()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1170"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1170</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Ouvre le modal d&#39;ajout d&#39;une nouvelle sortie</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="printExits"></a>
                    <span class="name">
                        <span ><b>printExits</b></span>
                        <a href="#printExits"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>printExits()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1735"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1735</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Lance l&#39;impression</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resetFilters"></a>
                    <span class="name">
                        <span ><b>resetFilters</b></span>
                        <a href="#resetFilters"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resetFilters()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1051"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1051</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Réinitialise tous les filtres</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="saveExit"></a>
                    <span class="name">
                        <span ><b>saveExit</b></span>
                        <a href="#saveExit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>saveExit()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1203"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1203</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Sauvegarde une nouvelle sortie de stock
Valide, crée la sortie et met à jour les stats</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="validateForm"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>validateForm</b></span>
                        <a href="#validateForm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>validateForm()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1303"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1303</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Valide le formulaire de sortie</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                <p>true si valide</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="viewExitDetails"></a>
                    <span class="name">
                        <span ><b>viewExitDetails</b></span>
                        <a href="#viewExitDetails"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>viewExitDetails(exit: <a href="../interfaces/StockExit.html" target="_self">StockExit</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1369"
                                    class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:1369</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Affiche les détails complets d&#39;une sortie dans un modal</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>exit</td>
                                            <td>
                                                            <code><a href="../interfaces/StockExit.html" target="_self" >StockExit</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Sortie à afficher</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="caves"></a>
                    <span class="name">
                        <span ><b>caves</b></span>
                        <a href="#caves"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Cave[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="222" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:222</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Liste des caves disponibles</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="drinkCategories"></a>
                    <span class="name">
                        <span ><b>drinkCategories</b></span>
                        <a href="#drinkCategories"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>unknown</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>Object.values(DrinkCategory)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="261" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:261</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Énumérations pour le template</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="drinks"></a>
                    <span class="name">
                        <span ><b>drinks</b></span>
                        <a href="#drinks"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Drink[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="217" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:217</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Liste des boissons disponibles (avec détails complets)</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="exitForm"></a>
                    <span class="name">
                        <span ><b>exitForm</b></span>
                        <a href="#exitForm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/StockExitForm.html" target="_self" >StockExitForm</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.getEmptyForm()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="247" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:247</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Formulaire pour ajouter une sortie</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="exits"></a>
                    <span class="name">
                        <span ><b>exits</b></span>
                        <a href="#exits"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>StockExit[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="207" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:207</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Liste complète des sorties de stock</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="exitTypes"></a>
                    <span class="name">
                        <span ><b>exitTypes</b></span>
                        <a href="#exitTypes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>ExitType[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[&#x27;vente&#x27;, &#x27;transfert&#x27;, &#x27;perte&#x27;, &#x27;casse&#x27;, &#x27;peremption&#x27;, &#x27;degustation&#x27;]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="262" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:262</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="filteredExits"></a>
                    <span class="name">
                        <span ><b>filteredExits</b></span>
                        <a href="#filteredExits"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>StockExit[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="212" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:212</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Liste filtrée des sorties à afficher</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isAddModalOpen"></a>
                    <span class="name">
                        <span ><b>isAddModalOpen</b></span>
                        <a href="#isAddModalOpen"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="232" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:232</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Indique si le modal d&#39;ajout est ouvert</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isDetailModalOpen"></a>
                    <span class="name">
                        <span ><b>isDetailModalOpen</b></span>
                        <a href="#isDetailModalOpen"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="237" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:237</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Indique si le modal de détails est ouvert</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isLoading"></a>
                    <span class="name">
                        <span ><b>isLoading</b></span>
                        <a href="#isLoading"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="227" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:227</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Indicateur de chargement</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="periodFilter"></a>
                    <span class="name">
                        <span ><b>periodFilter</b></span>
                        <a href="#periodFilter"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>30</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="255" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:255</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="searchTerm"></a>
                    <span class="name">
                        <span ><b>searchTerm</b></span>
                        <a href="#searchTerm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="256" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:256</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedCategoryFilter"></a>
                    <span class="name">
                        <span ><b>selectedCategoryFilter</b></span>
                        <a href="#selectedCategoryFilter"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>DrinkCategory | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="254" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:254</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedCaveFilter"></a>
                    <span class="name">
                        <span ><b>selectedCaveFilter</b></span>
                        <a href="#selectedCaveFilter"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="252" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:252</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Filtres</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedExit"></a>
                    <span class="name">
                        <span ><b>selectedExit</b></span>
                        <a href="#selectedExit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>StockExit | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="242" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:242</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Sortie sélectionnée pour afficher les détails</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedTypeFilter"></a>
                    <span class="name">
                        <span ><b>selectedTypeFilter</b></span>
                        <a href="#selectedTypeFilter"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>ExitType | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="253" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:253</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="stats"></a>
                    <span class="name">
                        <span ><b>stats</b></span>
                        <a href="#stats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    totalExits: 0,              // Nombre total de sorties
    totalQuantity: 0,           // Quantité totale sortie
    totalRevenue: 0,            // Revenus totaux (ventes uniquement)
    totalLoss: 0,               // Pertes totales (pertes + casse + péremption)
    recentExits: 0,             // Sorties des 7 derniers jours
    averageUnitPrice: 0,        // Prix unitaire moyen
    salesCount: 0,              // Nombre de ventes
    transfersCount: 0,          // Nombre de transferts
    lossesCount: 0,             // Nombre de pertes
    topCategory: &#x27;&#x27;,            // Catégorie la plus vendue
    topCustomer: &#x27;&#x27;,            // Meilleur client
    averageMargin: 0            // Marge moyenne en %
  }</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="267" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:267</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Statistiques enrichies des sorties</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="winePairingSuggestions"></a>
                    <span class="name">
                        <span ><b>winePairingSuggestions</b></span>
                        <a href="#winePairingSuggestions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>WinePairingSuggestion[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="285" class="link-to-prism">src/app/view/admin-dashboard/exits/exits.component.ts:285</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Suggestions d&#39;accords mets-vins pour la boisson sélectionnée</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit } from &#x27;@angular/core&#x27;;
import { CommonModule } from &#x27;@angular/common&#x27;;
import { FormsModule, ReactiveFormsModule } from &#x27;@angular/forms&#x27;;

/**
 * Import des énumérations depuis drinks
 */
export enum DrinkCategory {
  BIERES &#x3D; &#x27;Bières&#x27;,
  SUCRERIES &#x3D; &#x27;Sucreries&#x27;,
  CHAMPAGNE &#x3D; &#x27;Champagne&#x27;,
  VIN_BLANC &#x3D; &#x27;Vin Blanc&#x27;,
  VIN_ROUGE &#x3D; &#x27;Vin Rouge&#x27;,
  VIN_ROSE &#x3D; &#x27;Vin Rosé&#x27;,
  VIN_MOUSSEUX &#x3D; &#x27;Vin Mousseux&#x27;,
  LIQUEURS &#x3D; &#x27;Liqueurs&#x27;,
  BOISSONS_ENERGISANTES &#x3D; &#x27;Boissons Énergisantes&#x27;,
  BOISSONS_LOCALES &#x3D; &#x27;Boissons Locales&#x27;
}

export enum DrinkFormat {
  CL_25 &#x3D; &#x27;25cl&#x27;,
  CL_33 &#x3D; &#x27;33cl&#x27;,
  CL_50 &#x3D; &#x27;50cl&#x27;,
  CL_65 &#x3D; &#x27;65cl&#x27;,
  CL_75 &#x3D; &#x27;75cl&#x27;,
  L_1 &#x3D; &#x27;1L&#x27;,
  L_1_5 &#x3D; &#x27;1.5L&#x27;,
  L_2 &#x3D; &#x27;2L&#x27;
}

export enum Supplier {
  SOLIBRA &#x3D; &#x27;Solibra&#x27;,
  BRASSIVOIRE &#x3D; &#x27;Brassivoire&#x27;,
  SICOBRA &#x3D; &#x27;Sicobra&#x27;,
  UNIBRA &#x3D; &#x27;Unibra&#x27;,
  AUTRES &#x3D; &#x27;Autres&#x27;
}

export enum PackagingType {
  BOUTEILLE &#x3D; &#x27;Bouteille&#x27;,
  CANETTE &#x3D; &#x27;Canette&#x27;,
  VERRE &#x3D; &#x27;Verre&#x27;,
  PLASTIQUE &#x3D; &#x27;Plastique&#x27;,
  SACHET &#x3D; &#x27;Sachet&#x27;
}

export enum BulkUnit {
  CARTON &#x3D; &#x27;Carton&#x27;,
  CASIER &#x3D; &#x27;Casier&#x27;,
  PACK &#x3D; &#x27;Pack&#x27;,
  CAISSE &#x3D; &#x27;Caisse&#x27;
}

/**
 * Interface pour définir une boisson complète
 */
interface Drink {
  id: string;
  name: string;
  icon: string;
  category: DrinkCategory;
  format: DrinkFormat;
  packagingType: PackagingType;
  supplier: Supplier;
  depot: string;
  commercialName: string;
  commercialContact: string;
  bulkUnit: BulkUnit;
  bulkQuantity: number;
  unitsPerBulk: number;
  totalBottles: number;
  purchasePrice: number;
  sellingPrice: number;
  stock: number;
  sales?: number;
  description?: string;
  createdAt?: Date;
  badge?: &#x27;hot&#x27; | &#x27;new&#x27;;
}

/**
 * Interface pour définir une cave
 */
interface Cave {
  id: string;
  name: string;
  location: string;
  capacity: number;
  currentStock: number;
  description?: string;
  temperature?: string;
  humidity?: string;
}

/**
 * Type de sortie de stock
 */
type ExitType &#x3D; &#x27;vente&#x27; | &#x27;transfert&#x27; | &#x27;perte&#x27; | &#x27;casse&#x27; | &#x27;peremption&#x27; | &#x27;degustation&#x27;;

/**
 * Interface pour définir une sortie de stock enrichie
 */
interface StockExit {
  // Identifiants
  id: string;
  date: Date;

  // Informations boisson complètes
  drinkId: string;
  drinkName: string;
  drinkIcon: string;
  drinkCategory: DrinkCategory;
  drinkFormat: DrinkFormat;

  // Type de sortie
  type: ExitType;

  // Quantité
  quantity: number;

  // Destination/Motif selon le type
  destination?: string;        // Client, cave destination, etc.
  customer?: string;           // Nom du client pour les ventes
  customerContact?: string;    // Contact du client
  transferToCaveId?: string;   // Cave de destination pour transfert

  // Tarification
  unitPrice: number;           // Prix unitaire de sortie
  totalAmount: number;         // Montant total

  // Cave source
  caveId: string;

  // Commercial ayant traité la sortie
  processedBy: string;
  processedByName?: string;

  // Informations spécifiques selon le type
  invoiceNumber?: string;      // Numéro de facture (vente)
  deliveryNote?: string;       // Bon de livraison
  lossReason?: string;         // Raison de la perte
  breakageDetails?: string;    // Détails de la casse
  expiryDate?: Date;           // Date de péremption

  // Notes
  notes?: string;
}

/**
 * Interface pour le formulaire de sortie
 */
interface StockExitForm {
  drinkId: string;
  type: ExitType;
  quantity: number;
  unitPrice: number;
  totalAmount: number;
  caveId: string;
  destination: string;
  customer: string;
  customerContact: string;
  transferToCaveId: string;
  lossReason: string;
  breakageDetails: string;
  invoiceNumber: string;
  deliveryNote: string;
  notes: string;
}

/**
 * Interface pour les suggestions d&#x27;accords mets-vins
 */
interface WinePairingSuggestion {
  dish: string;
  dishIcon: string;
  description: string;
  temperature: string;
}

/**
 * Composant ExitsComponent - VERSION ENRICHIE
 * Gestion complète des sorties de stock avec tous les détails
 */
@Component({
  selector: &#x27;app-exits&#x27;,
  standalone: true,
  imports: [CommonModule, FormsModule, ReactiveFormsModule],
  templateUrl: &#x27;./exits.component.html&#x27;,
  styleUrls: [&#x27;./exits.component.scss&#x27;]
})
export class ExitsComponent implements OnInit {

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // PROPRIÉTÉS
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Liste complète des sorties de stock
   */
  exits: StockExit[] &#x3D; [];

  /**
   * Liste filtrée des sorties à afficher
   */
  filteredExits: StockExit[] &#x3D; [];

  /**
   * Liste des boissons disponibles (avec détails complets)
   */
  drinks: Drink[] &#x3D; [];

  /**
   * Liste des caves disponibles
   */
  caves: Cave[] &#x3D; [];

  /**
   * Indicateur de chargement
   */
  isLoading: boolean &#x3D; false;

  /**
   * Indique si le modal d&#x27;ajout est ouvert
   */
  isAddModalOpen: boolean &#x3D; false;

  /**
   * Indique si le modal de détails est ouvert
   */
  isDetailModalOpen: boolean &#x3D; false;

  /**
   * Sortie sélectionnée pour afficher les détails
   */
  selectedExit: StockExit | null &#x3D; null;

  /**
   * Formulaire pour ajouter une sortie
   */
  exitForm: StockExitForm &#x3D; this.getEmptyForm();

  /**
   * Filtres
   */
  selectedCaveFilter: string | null &#x3D; null;
  selectedTypeFilter: ExitType | null &#x3D; null;
  selectedCategoryFilter: DrinkCategory | null &#x3D; null;
  periodFilter: number &#x3D; 30;
  searchTerm: string &#x3D; &#x27;&#x27;;

  /**
   * Énumérations pour le template
   */
  drinkCategories &#x3D; Object.values(DrinkCategory);
  exitTypes: ExitType[] &#x3D; [&#x27;vente&#x27;, &#x27;transfert&#x27;, &#x27;perte&#x27;, &#x27;casse&#x27;, &#x27;peremption&#x27;, &#x27;degustation&#x27;];

  /**
   * Statistiques enrichies des sorties
   */
  stats &#x3D; {
    totalExits: 0,              // Nombre total de sorties
    totalQuantity: 0,           // Quantité totale sortie
    totalRevenue: 0,            // Revenus totaux (ventes uniquement)
    totalLoss: 0,               // Pertes totales (pertes + casse + péremption)
    recentExits: 0,             // Sorties des 7 derniers jours
    averageUnitPrice: 0,        // Prix unitaire moyen
    salesCount: 0,              // Nombre de ventes
    transfersCount: 0,          // Nombre de transferts
    lossesCount: 0,             // Nombre de pertes
    topCategory: &#x27;&#x27;,            // Catégorie la plus vendue
    topCustomer: &#x27;&#x27;,            // Meilleur client
    averageMargin: 0            // Marge moyenne en %
  };

  /**
   * Suggestions d&#x27;accords mets-vins pour la boisson sélectionnée
   */
  winePairingSuggestions: WinePairingSuggestion[] &#x3D; [];

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // CONSTRUCTEUR
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  constructor() {}

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // LIFECYCLE HOOKS
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Initialisation du composant
   * Charge toutes les données au démarrage
   */
  ngOnInit(): void {
    console.log(&#x27;✅ ExitsComponent initialisé avec détails complets&#x27;);
    this.loadData();
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // CHARGEMENT DES DONNÉES
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Charge toutes les données nécessaires
   */
  loadData(): void {
    // Active le chargement
    this.isLoading &#x3D; true;

    // Charge les boissons avec tous les détails
    this.drinks &#x3D; this.generateMockDrinks();

    // Charge les caves
    this.caves &#x3D; this.generateMockCaves();

    // Charge l&#x27;historique des sorties
    this.exits &#x3D; this.generateMockExits();

    // Initialise les sorties filtrées
    this.filteredExits &#x3D; [...this.exits];

    // Calcule les statistiques
    this.calculateStats();

    // Désactive le chargement
    this.isLoading &#x3D; false;

    console.log(&#x27;✅ Données chargées:&#x27;, {
      exits: this.exits.length,
      drinks: this.drinks.length,
      caves: this.caves.length
    });
  }

  /**
   * Génère des boissons de test avec tous les détails
   * @returns Liste de boissons simulées
   */
  private generateMockDrinks(): Drink[] {
    return [
      {
        id: &#x27;drink_1&#x27;,
        name: &#x27;Heineken&#x27;,
        icon: &#x27;🍺&#x27;,
        category: DrinkCategory.BIERES,
        format: DrinkFormat.CL_33,
        packagingType: PackagingType.BOUTEILLE,
        supplier: Supplier.SOLIBRA,
        depot: &#x27;Dépôt Abidjan Zone 4&#x27;,
        commercialName: &#x27;Kouadio Jean&#x27;,
        commercialContact: &#x27;+225 07 00 00 00 01&#x27;,
        bulkUnit: BulkUnit.CARTON,
        bulkQuantity: 3,
        unitsPerBulk: 12,
        totalBottles: 36,
        purchasePrice: 650,        // Prix d&#x27;achat
        sellingPrice: 800,         // Prix de vente
        stock: 150,
        sales: 450,
        description: &#x27;Bière blonde hollandaise&#x27;,
        createdAt: new Date(),
        badge: &#x27;hot&#x27;
      },
      {
        id: &#x27;drink_2&#x27;,
        name: &#x27;Bordeaux Rouge 2018&#x27;,
        icon: &#x27;🍷&#x27;,
        category: DrinkCategory.VIN_ROUGE,
        format: DrinkFormat.CL_75,
        packagingType: PackagingType.BOUTEILLE,
        supplier: Supplier.AUTRES,
        depot: &#x27;Dépôt Cocody&#x27;,
        commercialName: &#x27;Bakayoko Aminata&#x27;,
        commercialContact: &#x27;+225 05 00 00 00 02&#x27;,
        bulkUnit: BulkUnit.CAISSE,
        bulkQuantity: 2,
        unitsPerBulk: 6,
        totalBottles: 12,
        purchasePrice: 12000,
        sellingPrice: 15000,
        stock: 45,
        sales: 120,
        description: &#x27;Vin rouge de Bordeaux, millésime 2018&#x27;,
        createdAt: new Date()
      },
      {
        id: &#x27;drink_3&#x27;,
        name: &#x27;Champagne Moët &amp; Chandon&#x27;,
        icon: &#x27;🍾&#x27;,
        category: DrinkCategory.CHAMPAGNE,
        format: DrinkFormat.CL_75,
        packagingType: PackagingType.BOUTEILLE,
        supplier: Supplier.AUTRES,
        depot: &#x27;Dépôt Plateau&#x27;,
        commercialName: &#x27;Koné Moussa&#x27;,
        commercialContact: &#x27;+225 07 11 22 33 44&#x27;,
        bulkUnit: BulkUnit.CAISSE,
        bulkQuantity: 1,
        unitsPerBulk: 6,
        totalBottles: 6,
        purchasePrice: 30000,
        sellingPrice: 35000,
        stock: 20,
        sales: 85,
        description: &#x27;Champagne brut impérial&#x27;,
        createdAt: new Date(),
        badge: &#x27;new&#x27;
      },
      {
        id: &#x27;drink_4&#x27;,
        name: &#x27;Guinness&#x27;,
        icon: &#x27;🍺&#x27;,
        category: DrinkCategory.BIERES,
        format: DrinkFormat.CL_33,
        packagingType: PackagingType.CANETTE,
        supplier: Supplier.BRASSIVOIRE,
        depot: &#x27;Dépôt Yopougon&#x27;,
        commercialName: &#x27;Traoré Sekou&#x27;,
        commercialContact: &#x27;+225 01 55 66 77 88&#x27;,
        bulkUnit: BulkUnit.PACK,
        bulkQuantity: 2,
        unitsPerBulk: 24,
        totalBottles: 48,
        purchasePrice: 850,
        sellingPrice: 1000,
        stock: 100,
        sales: 320,
        description: &#x27;Bière brune irlandaise&#x27;,
        createdAt: new Date()
      },
      {
        id: &#x27;drink_5&#x27;,
        name: &#x27;Chablis 2020&#x27;,
        icon: &#x27;🍷&#x27;,
        category: DrinkCategory.VIN_BLANC,
        format: DrinkFormat.CL_75,
        packagingType: PackagingType.BOUTEILLE,
        supplier: Supplier.AUTRES,
        depot: &#x27;Dépôt Cocody&#x27;,
        commercialName: &#x27;Bakayoko Aminata&#x27;,
        commercialContact: &#x27;+225 05 00 00 00 02&#x27;,
        bulkUnit: BulkUnit.CAISSE,
        bulkQuantity: 2,
        unitsPerBulk: 6,
        totalBottles: 12,
        purchasePrice: 9500,
        sellingPrice: 12000,
        stock: 30,
        sales: 95,
        description: &#x27;Vin blanc sec de Bourgogne&#x27;,
        createdAt: new Date()
      }
    ];
  }

  /**
   * Génère des caves de test
   * @returns Liste de caves simulées
   */
  private generateMockCaves(): Cave[] {
    return [
      {
        id: &#x27;cave_1&#x27;,
        name: &#x27;Cave Principale&#x27;,
        location: &#x27;Bâtiment A - Sous-sol&#x27;,
        capacity: 1000,
        currentStock: 650,
        description: &#x27;Cave principale de stockage&#x27;,
        temperature: &#x27;12-14°C&#x27;,
        humidity: &#x27;70-75%&#x27;
      },
      {
        id: &#x27;cave_2&#x27;,
        name: &#x27;Cave Secondaire&#x27;,
        location: &#x27;Bâtiment B - RDC&#x27;,
        capacity: 500,
        currentStock: 320,
        description: &#x27;Cave secondaire pour rotation rapide&#x27;,
        temperature: &#x27;14-16°C&#x27;,
        humidity: &#x27;65-70%&#x27;
      },
      {
        id: &#x27;cave_3&#x27;,
        name: &#x27;Cave de Vieillissement&#x27;,
        location: &#x27;Bâtiment A - Niveau -2&#x27;,
        capacity: 300,
        currentStock: 180,
        description: &#x27;Cave climatisée pour vins de garde&#x27;,
        temperature: &#x27;10-12°C&#x27;,
        humidity: &#x27;75-80%&#x27;
      }
    ];
  }

 /**
 * Génère des sorties de test ENRICHIES
 * @returns Liste de sorties de stock simulées
 */
private generateMockExits(): StockExit[] {
  const now &#x3D; new Date();

  // Déclaration explicite du tableau avec le bon type
  const exits: StockExit[] &#x3D; [
    {
      // &#x3D;&#x3D;&#x3D; VENTE CLIENT &#x3D;&#x3D;&#x3D;
      id: &#x27;exit_1&#x27;,
      date: new Date(now.getTime() - 1 * 24 * 60 * 60 * 1000), // Hier

      // Informations boisson
      drinkId: &#x27;drink_1&#x27;,
      drinkName: &#x27;Heineken&#x27;,
      drinkIcon: &#x27;🍺&#x27;,
      drinkCategory: DrinkCategory.BIERES,
      drinkFormat: DrinkFormat.CL_33,

      // Type : Vente (TYPAGE EXPLICITE)
      type: &#x27;vente&#x27; as ExitType,

      // Quantité et tarification
      quantity: 24,
      unitPrice: 800,
      totalAmount: 19200,

      // Cave source
      caveId: &#x27;cave_1&#x27;,

      // Client
      customer: &#x27;Restaurant Le Gourmet&#x27;,
      customerContact: &#x27;+225 07 22 33 44 55&#x27;,
      destination: &#x27;Restaurant Le Gourmet - Cocody&#x27;,

      // Documents
      invoiceNumber: &#x27;FACT-2024-001&#x27;,
      deliveryNote: &#x27;BL-2024-001&#x27;,

      // Traité par
      processedBy: &#x27;user_1&#x27;,
      processedByName: &#x27;Jean Dupont&#x27;,

      // Notes
      notes: &#x27;Livraison effectuée. Client satisfait, commande régulière.&#x27;
    },
    {
      // &#x3D;&#x3D;&#x3D; VENTE CLIENT VIP &#x3D;&#x3D;&#x3D;
      id: &#x27;exit_2&#x27;,
      date: new Date(now.getTime() - 3 * 24 * 60 * 60 * 1000), // Il y a 3 jours

      drinkId: &#x27;drink_2&#x27;,
      drinkName: &#x27;Bordeaux Rouge 2018&#x27;,
      drinkIcon: &#x27;🍷&#x27;,
      drinkCategory: DrinkCategory.VIN_ROUGE,
      drinkFormat: DrinkFormat.CL_75,

      type: &#x27;vente&#x27; as ExitType,

      quantity: 12,
      unitPrice: 15000,
      totalAmount: 180000,

      caveId: &#x27;cave_3&#x27;,

      customer: &#x27;Hôtel Ivoire&#x27;,
      customerContact: &#x27;+225 27 22 48 10 00&#x27;,
      destination: &#x27;Hôtel Ivoire - Cocody&#x27;,

      invoiceNumber: &#x27;FACT-2024-002&#x27;,
      deliveryNote: &#x27;BL-2024-002&#x27;,

      processedBy: &#x27;user_2&#x27;,
      processedByName: &#x27;Marie Martin&#x27;,

      notes: &#x27;Client VIP. Remise de 5% appliquée. Prochain rendez-vous prévu.&#x27;
    },
    {
      // &#x3D;&#x3D;&#x3D; TRANSFERT ENTRE CAVES &#x3D;&#x3D;&#x3D;
      id: &#x27;exit_3&#x27;,
      date: new Date(now.getTime() - 5 * 24 * 60 * 60 * 1000), // Il y a 5 jours

      drinkId: &#x27;drink_3&#x27;,
      drinkName: &#x27;Champagne Moët &amp; Chandon&#x27;,
      drinkIcon: &#x27;🍾&#x27;,
      drinkCategory: DrinkCategory.CHAMPAGNE,
      drinkFormat: DrinkFormat.CL_75,

      type: &#x27;transfert&#x27; as ExitType,

      quantity: 6,
      unitPrice: 35000,
      totalAmount: 210000,

      caveId: &#x27;cave_3&#x27;,
      transferToCaveId: &#x27;cave_2&#x27;,
      destination: &#x27;Cave Secondaire&#x27;,

      processedBy: &#x27;user_1&#x27;,
      processedByName: &#x27;Jean Dupont&#x27;,

      notes: &#x27;Réorganisation du stock. Transfert pour rotation rapide.&#x27;
    },
    {
      // &#x3D;&#x3D;&#x3D; VENTE ÉVÉNEMENT &#x3D;&#x3D;&#x3D;
      id: &#x27;exit_4&#x27;,
      date: new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000), // Il y a 7 jours

      drinkId: &#x27;drink_4&#x27;,
      drinkName: &#x27;Guinness&#x27;,
      drinkIcon: &#x27;🍺&#x27;,
      drinkCategory: DrinkCategory.BIERES,
      drinkFormat: DrinkFormat.CL_33,

      type: &#x27;vente&#x27; as ExitType,

      quantity: 50,
      unitPrice: 1000,
      totalAmount: 50000,

      caveId: &#x27;cave_2&#x27;,

      customer: &#x27;Événement Entreprise XYZ&#x27;,
      customerContact: &#x27;+225 05 66 77 88 99&#x27;,
      destination: &#x27;Sofitel Hôtel Ivoire&#x27;,

      invoiceNumber: &#x27;FACT-2024-003&#x27;,
      deliveryNote: &#x27;BL-2024-003&#x27;,

      processedBy: &#x27;user_2&#x27;,
      processedByName: &#x27;Marie Martin&#x27;,

      notes: &#x27;Événement corporate. 50 participants. Livraison directe sur site.&#x27;
    },
    {
      // &#x3D;&#x3D;&#x3D; PERTE : CASSE &#x3D;&#x3D;&#x3D;
      id: &#x27;exit_5&#x27;,
      date: new Date(now.getTime() - 10 * 24 * 60 * 60 * 1000), // Il y a 10 jours

      drinkId: &#x27;drink_2&#x27;,
      drinkName: &#x27;Bordeaux Rouge 2018&#x27;,
      drinkIcon: &#x27;🍷&#x27;,
      drinkCategory: DrinkCategory.VIN_ROUGE,
      drinkFormat: DrinkFormat.CL_75,

      type: &#x27;casse&#x27; as ExitType,

      quantity: 2,
      unitPrice: 12000,
      totalAmount: 24000,

      caveId: &#x27;cave_1&#x27;,

      lossReason: &#x27;Casse lors de la manipulation&#x27;,
      breakageDetails: &#x27;2 bouteilles tombées lors du déplacement d\&#x27;un casier&#x27;,
      destination: &#x27;Perte par casse&#x27;,

      processedBy: &#x27;user_3&#x27;,
      processedByName: &#x27;Pierre Dubois&#x27;,

      notes: &#x27;Accident lors du réaménagement de la cave. Procédure de sécurité revue.&#x27;
    },
    {
      // &#x3D;&#x3D;&#x3D; PERTE : PÉREMPTION &#x3D;&#x3D;&#x3D;
      id: &#x27;exit_6&#x27;,
      date: new Date(now.getTime() - 15 * 24 * 60 * 60 * 1000), // Il y a 15 jours

      drinkId: &#x27;drink_4&#x27;,
      drinkName: &#x27;Guinness&#x27;,
      drinkIcon: &#x27;🍺&#x27;,
      drinkCategory: DrinkCategory.BIERES,
      drinkFormat: DrinkFormat.CL_33,

      type: &#x27;peremption&#x27; as ExitType,

      quantity: 12,
      unitPrice: 850,
      totalAmount: 10200,

      caveId: &#x27;cave_2&#x27;,

      lossReason: &#x27;Date de péremption dépassée&#x27;,
      expiryDate: new Date(now.getTime() - 2 * 24 * 60 * 60 * 1000),
      destination: &#x27;Destruction réglementaire&#x27;,

      processedBy: &#x27;user_3&#x27;,
      processedByName: &#x27;Pierre Dubois&#x27;,

      notes: &#x27;Contrôle DLUO. Produits retirés et détruits selon procédure.&#x27;
    },
    {
      // &#x3D;&#x3D;&#x3D; DÉGUSTATION &#x3D;&#x3D;&#x3D;
      id: &#x27;exit_7&#x27;,
      date: new Date(now.getTime() - 18 * 24 * 60 * 60 * 1000), // Il y a 18 jours

      drinkId: &#x27;drink_5&#x27;,
      drinkName: &#x27;Chablis 2020&#x27;,
      drinkIcon: &#x27;🍷&#x27;,
      drinkCategory: DrinkCategory.VIN_BLANC,
      drinkFormat: DrinkFormat.CL_75,

      type: &#x27;degustation&#x27; as ExitType,

      quantity: 3,
      unitPrice: 9500,
      totalAmount: 28500,

      caveId: &#x27;cave_3&#x27;,

      destination: &#x27;Séance de dégustation clients&#x27;,
      customer: &#x27;Clients VIP&#x27;,

      processedBy: &#x27;user_2&#x27;,
      processedByName: &#x27;Marie Martin&#x27;,

      notes: &#x27;Dégustation organisée pour présenter le nouveau millésime. 15 clients présents.&#x27;
    },
    {
      // &#x3D;&#x3D;&#x3D; VENTE EN GROS &#x3D;&#x3D;&#x3D;
      id: &#x27;exit_8&#x27;,
      date: new Date(now.getTime() - 20 * 24 * 60 * 60 * 1000), // Il y a 20 jours

      drinkId: &#x27;drink_1&#x27;,
      drinkName: &#x27;Heineken&#x27;,
      drinkIcon: &#x27;🍺&#x27;,
      drinkCategory: DrinkCategory.BIERES,
      drinkFormat: DrinkFormat.CL_33,

      type: &#x27;vente&#x27; as ExitType,

      quantity: 120,
      unitPrice: 750,
      totalAmount: 90000,

      caveId: &#x27;cave_1&#x27;,

      customer: &#x27;Bar Le Tropical&#x27;,
      customerContact: &#x27;+225 07 88 99 00 11&#x27;,
      destination: &#x27;Bar Le Tropical - Marcory&#x27;,

      invoiceNumber: &#x27;FACT-2024-004&#x27;,
      deliveryNote: &#x27;BL-2024-004&#x27;,

      processedBy: &#x27;user_1&#x27;,
      processedByName: &#x27;Jean Dupont&#x27;,

      notes: &#x27;Commande en gros. Remise de 6% appliquée. Fidélité client.&#x27;
    }
  ];

  // TRI par date décroissante (plus récent en premier)
  return exits.sort((a, b) &#x3D;&gt; new Date(b.date).getTime() - new Date(a.date).getTime());
}

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // CALCULS AUTOMATIQUES DU FORMULAIRE
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Calcule automatiquement le montant total
   * Montant &#x3D; Quantité × Prix unitaire
   */
  calculateTotalAmount(): void {
    // Multiplie la quantité par le prix unitaire
    this.exitForm.totalAmount &#x3D;
      (this.exitForm.quantity || 0) * (this.exitForm.unitPrice || 0);

    console.log(&#x27;💰 Montant total calculé:&#x27;, this.exitForm.totalAmount, &#x27;FCFA&#x27;);
  }

  /**
   * Gère le changement de boisson sélectionnée
   * Remplit automatiquement le prix depuis la boisson
   */
  onDrinkSelected(): void {
    // Trouve la boisson sélectionnée
    const drink &#x3D; this.drinks.find(d &#x3D;&gt; d.id &#x3D;&#x3D;&#x3D; this.exitForm.drinkId);

    if (drink) {
      // Remplit automatiquement le prix de vente
      this.exitForm.unitPrice &#x3D; drink.sellingPrice;

      // Recalcule le montant total
      this.calculateTotalAmount();

      // Charge les suggestions d&#x27;accords mets-vins
      this.loadWinePairingSuggestions(drink);

      console.log(&#x27;✅ Boisson sélectionnée:&#x27;, drink.name, &#x27;- Stock disponible:&#x27;, drink.stock);

      // Vérifie le stock disponible
      if (drink.stock &#x3D;&#x3D;&#x3D; 0) {
        alert(&#x60;⚠️ Attention : Stock épuisé pour ${drink.name}&#x60;);
      } else if (drink.stock &lt; 10) {
        console.warn(&#x27;⚠️ Stock faible:&#x27;, drink.stock, &#x27;unités&#x27;);
      }
    }
  }

  /**
   * Gère le changement de type de sortie
   * Ajuste les champs nécessaires selon le type
   */
  onTypeChange(): void {
    const drink &#x3D; this.drinks.find(d &#x3D;&gt; d.id &#x3D;&#x3D;&#x3D; this.exitForm.drinkId);

    if (drink) {
      switch (this.exitForm.type) {
        case &#x27;vente&#x27;:
          // Pour une vente : utilise le prix de vente
          this.exitForm.unitPrice &#x3D; drink.sellingPrice;
          break;

        case &#x27;transfert&#x27;:
        case &#x27;perte&#x27;:
        case &#x27;casse&#x27;:
        case &#x27;peremption&#x27;:
        case &#x27;degustation&#x27;:
          // Pour les autres : utilise le prix d&#x27;achat (valorisation du stock)
          this.exitForm.unitPrice &#x3D; drink.purchasePrice;
          break;
      }

      this.calculateTotalAmount();
    }

    console.log(&#x27;🔄 Type de sortie changé:&#x27;, this.exitForm.type);
  }

  /**
   * Charge les suggestions d&#x27;accords mets-vins pour une boisson
   * Intégration avec le composant wine-pairing
   * @param drink Boisson sélectionnée
   */
  loadWinePairingSuggestions(drink: Drink): void {
    // Réinitialise les suggestions
    this.winePairingSuggestions &#x3D; [];

    // Suggestions selon la catégorie de boisson
    switch (drink.category) {
      case DrinkCategory.VIN_ROUGE:
        this.winePairingSuggestions &#x3D; [
          {
            dish: &#x27;Steak grillé&#x27;,
            dishIcon: &#x27;🥩&#x27;,
            description: &#x27;Les tanins du vin rouge subliment la richesse de la viande rouge&#x27;,
            temperature: &#x27;16-18°C&#x27;
          },
          {
            dish: &#x27;Fromages affinés&#x27;,
            dishIcon: &#x27;🧀&#x27;,
            description: &#x27;Un accord classique entre la puissance du vin et l\&#x27;intensité du fromage&#x27;,
            temperature: &#x27;16-18°C&#x27;
          },
          {
            dish: &#x27;Plats en sauce&#x27;,
            dishIcon: &#x27;🍝&#x27;,
            description: &#x27;Le vin rouge accompagne parfaitement les sauces riches&#x27;,
            temperature: &#x27;16-18°C&#x27;
          }
        ];
        break;

      case DrinkCategory.VIN_BLANC:
        this.winePairingSuggestions &#x3D; [
          {
            dish: &#x27;Poisson grillé&#x27;,
            dishIcon: &#x27;🐟&#x27;,
            description: &#x27;La fraîcheur du vin blanc complète le goût délicat du poisson&#x27;,
            temperature: &#x27;10-12°C&#x27;
          },
          {
            dish: &#x27;Fruits de mer&#x27;,
            dishIcon: &#x27;🦞&#x27;,
            description: &#x27;Un mariage parfait entre la minéralité du vin et l\&#x27;iode des fruits de mer&#x27;,
            temperature: &#x27;8-10°C&#x27;
          },
          {
            dish: &#x27;Volaille en sauce blanche&#x27;,
            dishIcon: &#x27;🍗&#x27;,
            description: &#x27;Le vin blanc souligne la délicatesse de la volaille&#x27;,
            temperature: &#x27;10-12°C&#x27;
          }
        ];
        break;

      case DrinkCategory.CHAMPAGNE:
        this.winePairingSuggestions &#x3D; [
          {
            dish: &#x27;Apéritif&#x27;,
            dishIcon: &#x27;🥂&#x27;,
            description: &#x27;Les bulles fines du champagne sont parfaites pour l\&#x27;apéritif&#x27;,
            temperature: &#x27;6-8°C&#x27;
          },
          {
            dish: &#x27;Desserts légers&#x27;,
            dishIcon: &#x27;🍰&#x27;,
            description: &#x27;Un champagne demi-sec accompagne merveilleusement les desserts&#x27;,
            temperature: &#x27;6-8°C&#x27;
          },
          {
            dish: &#x27;Fruits de mer&#x27;,
            dishIcon: &#x27;🦪&#x27;,
            description: &#x27;Les huîtres et le champagne forment un duo parfait&#x27;,
            temperature: &#x27;6-8°C&#x27;
          }
        ];
        break;

      case DrinkCategory.BIERES:
        this.winePairingSuggestions &#x3D; [
          {
            dish: &#x27;Grillades&#x27;,
            dishIcon: &#x27;🍖&#x27;,
            description: &#x27;La fraîcheur de la bière rafraîchit le palais entre chaque bouchée&#x27;,
            temperature: &#x27;4-6°C&#x27;
          },
          {
            dish: &#x27;Plats épicés&#x27;,
            dishIcon: &#x27;🌶️&#x27;,
            description: &#x27;La bière atténue le piquant des épices&#x27;,
            temperature: &#x27;4-6°C&#x27;
          },
          {
            dish: &#x27;Pizza et burgers&#x27;,
            dishIcon: &#x27;🍕&#x27;,
            description: &#x27;Un classique qui fonctionne toujours&#x27;,
            temperature: &#x27;4-6°C&#x27;
          }
        ];
        break;

      default:
        this.winePairingSuggestions &#x3D; [];
    }

    console.log(&#x27;🍽️ Suggestions d\&#x27;accords chargées:&#x27;, this.winePairingSuggestions.length);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // FILTRAGE ET RECHERCHE
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Applique tous les filtres actifs sur les sorties
   * Combine : cave, type, catégorie, période et recherche
   */
  applyFilters(): void {
    // On part de toutes les sorties
    let result &#x3D; [...this.exits];

    // FILTRE 1 : Par cave sélectionnée
    if (this.selectedCaveFilter) {
      result &#x3D; result.filter(exit &#x3D;&gt; exit.caveId &#x3D;&#x3D;&#x3D; this.selectedCaveFilter);
      console.log(&#x60;📍 Filtre cave appliqué: ${result.length} résultats&#x60;);
    }

    // FILTRE 2 : Par type de sortie
    if (this.selectedTypeFilter) {
      result &#x3D; result.filter(exit &#x3D;&gt; exit.type &#x3D;&#x3D;&#x3D; this.selectedTypeFilter);
      console.log(&#x60;🏷️ Filtre type appliqué: ${result.length} résultats&#x60;);
    }

    // FILTRE 3 : Par catégorie de boisson
    if (this.selectedCategoryFilter) {
      result &#x3D; result.filter(exit &#x3D;&gt; exit.drinkCategory &#x3D;&#x3D;&#x3D; this.selectedCategoryFilter);
      console.log(&#x60;📦 Filtre catégorie appliqué: ${result.length} résultats&#x60;);
    }

    // FILTRE 4 : Par période (nombre de jours)
    if (this.periodFilter &gt; 0) {
      const cutoffDate &#x3D; new Date();
      cutoffDate.setDate(cutoffDate.getDate() - this.periodFilter);
      result &#x3D; result.filter(exit &#x3D;&gt; new Date(exit.date) &gt;&#x3D; cutoffDate);
      console.log(&#x60;📅 Filtre période appliqué (${this.periodFilter} jours): ${result.length} résultats&#x60;);
    }

    // FILTRE 5 : Par terme de recherche
    if (this.searchTerm.trim()) {
      const term &#x3D; this.searchTerm.toLowerCase();
      result &#x3D; result.filter(exit &#x3D;&gt;
        // Recherche dans le nom de la boisson
        exit.drinkName.toLowerCase().includes(term) ||
        // Recherche dans la destination
        exit.destination?.toLowerCase().includes(term) ||
        // Recherche dans le client
        exit.customer?.toLowerCase().includes(term) ||
        // Recherche dans les notes
        exit.notes?.toLowerCase().includes(term) ||
        // Recherche dans le numéro de facture
        exit.invoiceNumber?.toLowerCase().includes(term) ||
        // Recherche dans le numéro de bon de livraison
        exit.deliveryNote?.toLowerCase().includes(term) ||
        // Recherche dans le nom du traitant
        exit.processedByName?.toLowerCase().includes(term)
      );
      console.log(&#x60;🔍 Recherche &quot;${term}&quot; appliquée: ${result.length} résultats&#x60;);
    }

    // Affecte les résultats filtrés
    this.filteredExits &#x3D; result;

    console.log(&#x60;✅ Filtrage terminé: ${result.length} sortie(s) sur ${this.exits.length}&#x60;);
  }

  /**
   * Gère le changement du filtre cave
   */
  onCaveFilterChange(): void {
    console.log(&#x27;🔄 Changement filtre cave:&#x27;, this.selectedCaveFilter);
    this.applyFilters();
  }

  /**
   * Gère le changement du filtre type
   */
  onTypeFilterChange(): void {
    console.log(&#x27;🔄 Changement filtre type:&#x27;, this.selectedTypeFilter);
    this.applyFilters();
  }

  /**
   * Gère le changement du filtre catégorie
   */
  onCategoryFilterChange(): void {
    console.log(&#x27;🔄 Changement filtre catégorie:&#x27;, this.selectedCategoryFilter);
    this.applyFilters();
  }

  /**
   * Gère le changement de la période de filtre
   */
  onPeriodFilterChange(): void {
    console.log(&#x27;🔄 Changement période:&#x27;, this.periodFilter, &#x27;jours&#x27;);
    this.applyFilters();
  }

  /**
   * Gère le changement du terme de recherche
   */
  onSearchChange(): void {
    this.applyFilters();
  }

  /**
   * Réinitialise tous les filtres
   */
  resetFilters(): void {
    this.selectedCaveFilter &#x3D; null;
    this.selectedTypeFilter &#x3D; null;
    this.selectedCategoryFilter &#x3D; null;
    this.periodFilter &#x3D; 30;
    this.searchTerm &#x3D; &#x27;&#x27;;
    this.filteredExits &#x3D; [...this.exits];

    console.log(&#x27;🔄 Tous les filtres réinitialisés&#x27;);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // CALCUL DES STATISTIQUES ENRICHIES
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Calcule toutes les statistiques des sorties
   * Version enrichie avec revenus, pertes, marges, etc.
   */
  calculateStats(): void {
    // 1. Nombre total de sorties
    this.stats.totalExits &#x3D; this.exits.length;

    // 2. Quantité totale sortie
    this.stats.totalQuantity &#x3D; this.exits.reduce((sum, exit) &#x3D;&gt; sum + exit.quantity, 0);

    // 3. Revenus totaux (ventes uniquement)
    this.stats.totalRevenue &#x3D; this.exits
      .filter(exit &#x3D;&gt; exit.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27;)
      .reduce((sum, exit) &#x3D;&gt; sum + exit.totalAmount, 0);

    // 4. Pertes totales (pertes + casse + péremption)
    this.stats.totalLoss &#x3D; this.exits
      .filter(exit &#x3D;&gt; [&#x27;perte&#x27;, &#x27;casse&#x27;, &#x27;peremption&#x27;].includes(exit.type))
      .reduce((sum, exit) &#x3D;&gt; sum + exit.totalAmount, 0);

    // 5. Sorties des 7 derniers jours
    const sevenDaysAgo &#x3D; new Date();
    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);
    this.stats.recentExits &#x3D; this.exits.filter(
      exit &#x3D;&gt; new Date(exit.date) &gt;&#x3D; sevenDaysAgo
    ).length;

    // 6. Prix unitaire moyen
    if (this.exits.length &gt; 0) {
      const totalUnitPrices &#x3D; this.exits.reduce((sum, exit) &#x3D;&gt; sum + exit.unitPrice, 0);
      this.stats.averageUnitPrice &#x3D; Math.round(totalUnitPrices / this.exits.length);
    }

    // 7. Comptage par type
    this.stats.salesCount &#x3D; this.exits.filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27;).length;
    this.stats.transfersCount &#x3D; this.exits.filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;transfert&#x27;).length;
    this.stats.lossesCount &#x3D; this.exits.filter(e &#x3D;&gt;
      [&#x27;perte&#x27;, &#x27;casse&#x27;, &#x27;peremption&#x27;].includes(e.type)
    ).length;

    // 8. Catégorie la plus vendue
    const categoryCounts: { [key: string]: number } &#x3D; {};
    this.exits
      .filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27;)
      .forEach(exit &#x3D;&gt; {
        const category &#x3D; exit.drinkCategory;
        categoryCounts[category] &#x3D; (categoryCounts[category] || 0) + exit.quantity;
      });

    let maxCount &#x3D; 0;
    let topCategory &#x3D; &#x27;&#x27;;
    Object.entries(categoryCounts).forEach(([category, count]) &#x3D;&gt; {
      if (count &gt; maxCount) {
        maxCount &#x3D; count;
        topCategory &#x3D; category;
      }
    });
    this.stats.topCategory &#x3D; topCategory;

    // 9. Meilleur client
    const customerCounts: { [key: string]: number } &#x3D; {};
    this.exits
      .filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27; &amp;&amp; e.customer)
      .forEach(exit &#x3D;&gt; {
        const customer &#x3D; exit.customer!;
        customerCounts[customer] &#x3D; (customerCounts[customer] || 0) + exit.totalAmount;
      });

    let maxRevenue &#x3D; 0;
    let topCustomer &#x3D; &#x27;&#x27;;
    Object.entries(customerCounts).forEach(([customer, revenue]) &#x3D;&gt; {
      if (revenue &gt; maxRevenue) {
        maxRevenue &#x3D; revenue;
        topCustomer &#x3D; customer;
      }
    });
    this.stats.topCustomer &#x3D; topCustomer;

    // 10. Marge moyenne (%)
    const sales &#x3D; this.exits.filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27;);
    if (sales.length &gt; 0) {
      let totalMarginRate &#x3D; 0;
      sales.forEach(sale &#x3D;&gt; {
        const drink &#x3D; this.drinks.find(d &#x3D;&gt; d.id &#x3D;&#x3D;&#x3D; sale.drinkId);
        if (drink &amp;&amp; drink.purchasePrice &gt; 0) {
          const margin &#x3D; sale.unitPrice - drink.purchasePrice;
          const marginRate &#x3D; (margin / drink.purchasePrice) * 100;
          totalMarginRate +&#x3D; marginRate;
        }
      });
      this.stats.averageMargin &#x3D; Math.round((totalMarginRate / sales.length) * 100) / 100;
    }

    console.log(&#x27;📊 Statistiques calculées:&#x27;, this.stats);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // MODAL - AJOUT DE SORTIE
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Ouvre le modal d&#x27;ajout d&#x27;une nouvelle sortie
   */
  openAddModal(): void {
    // Réinitialise le formulaire
    this.exitForm &#x3D; this.getEmptyForm();

    // Réinitialise les suggestions
    this.winePairingSuggestions &#x3D; [];

    // Ouvre le modal
    this.isAddModalOpen &#x3D; true;

    console.log(&#x27;➕ Modal d\&#x27;ajout ouvert&#x27;);
  }

  /**
   * Ferme le modal d&#x27;ajout
   */
  closeAddModal(): void {
    // Ferme le modal
    this.isAddModalOpen &#x3D; false;

    // Réinitialise le formulaire
    this.exitForm &#x3D; this.getEmptyForm();

    // Réinitialise les suggestions
    this.winePairingSuggestions &#x3D; [];

    console.log(&#x27;✅ Modal d\&#x27;ajout fermé&#x27;);
  }

  /**
   * Sauvegarde une nouvelle sortie de stock
   * Valide, crée la sortie et met à jour les stats
   */
  saveExit(): void {
    // VALIDATION : Vérifie tous les champs obligatoires
    if (!this.validateForm()) {
      alert(&#x27;⚠️ Veuillez remplir tous les champs obligatoires&#x27;);
      return;
    }

    // RÉCUPÉRATION : Trouve la boisson
    const drink &#x3D; this.drinks.find(d &#x3D;&gt; d.id &#x3D;&#x3D;&#x3D; this.exitForm.drinkId);
    if (!drink) {
      alert(&#x27;❌ Boisson non trouvée&#x27;);
      return;
    }

    // VÉRIFICATION STOCK : Vérifie la disponibilité
    if (drink.stock &lt; this.exitForm.quantity) {
      alert(&#x60;❌ Stock insuffisant !\n\n&#x60; +
            &#x60;Stock disponible: ${drink.stock} unités\n&#x60; +
            &#x60;Quantité demandée: ${this.exitForm.quantity} unités\n\n&#x60; +
            &#x60;Manquant: ${this.exitForm.quantity - drink.stock} unités&#x60;);
      return;
    }

    // CRÉATION : Construit la nouvelle sortie avec TOUS les détails
    const newExit: StockExit &#x3D; {
      // Génère un ID unique
      id: this.generateId(),

      // Date actuelle
      date: new Date(),

      // Informations complètes de la boisson
      drinkId: this.exitForm.drinkId,
      drinkName: drink.name,
      drinkIcon: drink.icon,
      drinkCategory: drink.category,
      drinkFormat: drink.format,

      // Type de sortie
      type: this.exitForm.type,

      // Quantité et tarification
      quantity: this.exitForm.quantity,
      unitPrice: this.exitForm.unitPrice,
      totalAmount: this.exitForm.totalAmount,

      // Cave source
      caveId: this.exitForm.caveId,

      // Destination selon le type
      destination: this.exitForm.destination,
      customer: this.exitForm.customer,
      customerContact: this.exitForm.customerContact,
      transferToCaveId: this.exitForm.transferToCaveId,

      // Documents (vente)
      invoiceNumber: this.exitForm.invoiceNumber,
      deliveryNote: this.exitForm.deliveryNote,

      // Motifs (pertes)
      lossReason: this.exitForm.lossReason,
      breakageDetails: this.exitForm.breakageDetails,

      // Traité par
      processedBy: &#x27;current-user-id&#x27;, // TODO: Remplacer par l&#x27;utilisateur connecté
      processedByName: &#x27;Utilisateur actuel&#x27;,

      // Notes
      notes: this.exitForm.notes
    };

    // AJOUT : Insère la nouvelle sortie en première position
    this.exits.unshift(newExit);

    // MISE À JOUR : Applique les filtres
    this.applyFilters();

    // RECALCUL : Met à jour les statistiques
    this.calculateStats();

    // TODO: APPEL API pour sauvegarder sur le serveur
    // this.exitService.createExit(newExit).subscribe(...)

    console.log(&#x27;✅ Sortie ajoutée avec succès:&#x27;, newExit);

    // NOTIFICATION : Informe l&#x27;utilisateur
    const typeLabel &#x3D; this.getTypeLabel(newExit.type);
    alert(&#x60;✅ ${typeLabel} enregistrée avec succès !\n\n&#x60; +
          &#x60;📦 Boisson: ${drink.name}\n&#x60; +
          &#x60;🔢 Quantité: ${newExit.quantity} unités\n&#x60; +
          &#x60;💰 Montant: ${this.formatNumber(newExit.totalAmount)} FCFA&#x60;);

    // FERMETURE : Ferme le modal
    this.closeAddModal();
  }

  /**
   * Valide le formulaire de sortie
   * @returns true si valide
   */
  private validateForm(): boolean {
    // Champs obligatoires de base
    const baseValidation &#x3D; !!(
      this.exitForm.drinkId &amp;&amp;
      this.exitForm.type &amp;&amp;
      this.exitForm.quantity &gt; 0 &amp;&amp;
      this.exitForm.unitPrice &gt; 0 &amp;&amp;
      this.exitForm.totalAmount &gt; 0 &amp;&amp;
      this.exitForm.caveId
    );

    if (!baseValidation) return false;

    // Validation spécifique selon le type
    switch (this.exitForm.type) {
      case &#x27;vente&#x27;:
        // Pour une vente : client obligatoire
        return !!this.exitForm.customer;

      case &#x27;transfert&#x27;:
        // Pour un transfert : cave de destination obligatoire
        return !!this.exitForm.transferToCaveId;

      case &#x27;perte&#x27;:
      case &#x27;casse&#x27;:
      case &#x27;peremption&#x27;:
        // Pour les pertes : motif obligatoire
        return !!this.exitForm.lossReason;

      default:
        return true;
    }
  }

  /**
   * Retourne un formulaire vide
   * @returns Formulaire initialisé
   */
  private getEmptyForm(): StockExitForm {
    return {
      drinkId: &#x27;&#x27;,
      type: &#x27;vente&#x27;,
      quantity: 0,
      unitPrice: 0,
      totalAmount: 0,
      caveId: &#x27;&#x27;,
      destination: &#x27;&#x27;,
      customer: &#x27;&#x27;,
      customerContact: &#x27;&#x27;,
      transferToCaveId: &#x27;&#x27;,
      lossReason: &#x27;&#x27;,
      breakageDetails: &#x27;&#x27;,
      invoiceNumber: &#x27;&#x27;,
      deliveryNote: &#x27;&#x27;,
      notes: &#x27;&#x27;
    };
  }
  // ... (suite dans le prochain message)
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // MODAL - DÉTAILS DE SORTIE
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Affiche les détails complets d&#x27;une sortie dans un modal
   * @param exit Sortie à afficher
   */
  viewExitDetails(exit: StockExit): void {
    // Sélectionne la sortie
    this.selectedExit &#x3D; exit;

    // Charge les informations de la boisson pour afficher les accords
    const drink &#x3D; this.drinks.find(d &#x3D;&gt; d.id &#x3D;&#x3D;&#x3D; exit.drinkId);
    if (drink) {
      this.loadWinePairingSuggestions(drink);
    }

    // Ouvre le modal de détails
    this.isDetailModalOpen &#x3D; true;

    console.log(&#x27;👁️ Détails de la sortie affichés:&#x27;, exit);
  }

  /**
   * Ferme le modal de détails
   */
  closeDetailModal(): void {
    this.isDetailModalOpen &#x3D; false;
    this.selectedExit &#x3D; null;
    this.winePairingSuggestions &#x3D; [];

    console.log(&#x27;✅ Modal de détails fermé&#x27;);
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // SUPPRESSION
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Supprime une sortie après confirmation
   * @param exit Sortie à supprimer
   */
  deleteExit(exit: StockExit): void {
    // Message de confirmation détaillé
    const typeLabel &#x3D; this.getTypeLabel(exit.type);
    const confirmMessage &#x3D;
      &#x60;⚠️ Êtes-vous sûr de vouloir supprimer cette sortie ?\n\n&#x60; +
      &#x60;📦 Produit: ${exit.drinkIcon} ${exit.drinkName}\n&#x60; +
      &#x60;🏷️ Type: ${typeLabel}\n&#x60; +
      &#x60;📏 Format: ${exit.drinkFormat}\n&#x60; +
      &#x60;🔢 Quantité: ${exit.quantity} unités\n&#x60; +
      &#x60;💰 Montant: ${this.formatNumber(exit.totalAmount)} FCFA\n&#x60; +
      &#x60;📅 Date: ${this.formatDate(exit.date)}\n&#x60; +
      &#x60;${exit.customer ? &#x60;👤 Client: ${exit.customer}\n&#x60; : &#x27;&#x27;}&#x60; +
      &#x60;\nCette action est irréversible !&#x60;;

    if (confirm(confirmMessage)) {
      // Trouve l&#x27;index
      const index &#x3D; this.exits.findIndex(e &#x3D;&gt; e.id &#x3D;&#x3D;&#x3D; exit.id);

      if (index !&#x3D;&#x3D; -1) {
        // Supprime du tableau
        this.exits.splice(index, 1);

        // Met à jour
        this.applyFilters();
        this.calculateStats();

        // TODO: APPEL API DELETE
        // this.exitService.deleteExit(exit.id).subscribe(...)

        console.log(&#x27;🗑️ Sortie supprimée:&#x27;, exit.id);
        alert(&#x27;✅ Sortie supprimée avec succès !&#x27;);
      }
    } else {
      console.log(&#x27;❌ Suppression annulée&#x27;);
    }
  }

  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
  // MÉTHODES UTILITAIRES
  // &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

  /**
   * Génère un ID unique pour une sortie
   * @returns ID unique généré
   */
  private generateId(): string {
    const timestamp &#x3D; Date.now();
    const random &#x3D; Math.random().toString(36).substr(2, 9);
    return &#x60;exit_${timestamp}_${random}&#x60;;
  }

  /**
   * Formate un nombre avec séparateurs de milliers
   * @param num Nombre à formater
   * @returns Nombre formaté
   */
  formatNumber(num: number): string {
    return num.toString().replace(/\B(?&#x3D;(\d{3})+(?!\d))/g, &#x27; &#x27;);
  }

  /**
   * Formate une date au format français complet
   * @param date Date à formater
   * @returns Date formatée
   */
  formatDate(date: Date): string {
    const d &#x3D; new Date(date);
    const options: Intl.DateTimeFormatOptions &#x3D; {
      year: &#x27;numeric&#x27;,
      month: &#x27;long&#x27;,
      day: &#x27;numeric&#x27;,
      hour: &#x27;2-digit&#x27;,
      minute: &#x27;2-digit&#x27;
    };
    return d.toLocaleDateString(&#x27;fr-FR&#x27;, options);
  }

  /**
   * Retourne le nom d&#x27;une cave par son ID
   * @param caveId ID de la cave
   * @returns Nom de la cave
   */
  getCaveName(caveId: string): string {
    const cave &#x3D; this.caves.find(c &#x3D;&gt; c.id &#x3D;&#x3D;&#x3D; caveId);
    return cave ? cave.name : &#x27;Cave inconnue&#x27;;
  }

  /**
   * Retourne le nom d&#x27;une boisson par son ID
   * @param drinkId ID de la boisson
   * @returns Nom de la boisson
   */
  getDrinkName(drinkId: string): string {
    const drink &#x3D; this.drinks.find(d &#x3D;&gt; d.id &#x3D;&#x3D;&#x3D; drinkId);
    return drink ? drink.name : &#x27;Boisson inconnue&#x27;;
  }

  /**
   * Retourne une date relative lisible
   * @param date Date à convertir
   * @returns Texte de date relative
   */
  getRelativeDate(date: Date): string {
    const now &#x3D; new Date();
    const diff &#x3D; now.getTime() - new Date(date).getTime();
    const days &#x3D; Math.floor(diff / (1000 * 60 * 60 * 24));

    if (days &#x3D;&#x3D;&#x3D; 0) return &quot;Aujourd&#x27;hui&quot;;
    if (days &#x3D;&#x3D;&#x3D; 1) return &quot;Hier&quot;;
    if (days &lt; 7) return &#x60;Il y a ${days} jours&#x60;;
    if (days &lt; 30) {
      const weeks &#x3D; Math.floor(days / 7);
      return &#x60;Il y a ${weeks} semaine${weeks &gt; 1 ? &#x27;s&#x27; : &#x27;&#x27;}&#x60;;
    }
    const months &#x3D; Math.floor(days / 30);
    return &#x60;Il y a ${months} mois&#x60;;
  }

  /**
   * Retourne le libellé d&#x27;un type de sortie
   * @param type Type de sortie
   * @returns Libellé formaté
   */
  getTypeLabel(type: ExitType): string {
    const labels: { [key in ExitType]: string } &#x3D; {
      &#x27;vente&#x27;: &#x27;💰 Vente&#x27;,
      &#x27;transfert&#x27;: &#x27;🔄 Transfert&#x27;,
      &#x27;perte&#x27;: &#x27;❌ Perte&#x27;,
      &#x27;casse&#x27;: &#x27;💔 Casse&#x27;,
      &#x27;peremption&#x27;: &#x27;⏰ Péremption&#x27;,
      &#x27;degustation&#x27;: &#x27;🍷 Dégustation&#x27;
    };
    return labels[type] || type;
  }

  /**
   * Retourne la classe CSS pour un type de sortie
   * @param type Type de sortie
   * @returns Classe CSS
   */
  getTypeClass(type: ExitType): string {
    const classes: { [key in ExitType]: string } &#x3D; {
      &#x27;vente&#x27;: &#x27;type-sale&#x27;,
      &#x27;transfert&#x27;: &#x27;type-transfer&#x27;,
      &#x27;perte&#x27;: &#x27;type-loss&#x27;,
      &#x27;casse&#x27;: &#x27;type-breakage&#x27;,
      &#x27;peremption&#x27;: &#x27;type-expiry&#x27;,
      &#x27;degustation&#x27;: &#x27;type-tasting&#x27;
    };
    return classes[type] || &#x27;&#x27;;
  }

  /**
   * Retourne l&#x27;icône pour un type de sortie
   * @param type Type de sortie
   * @returns Emoji représentatif
   */
  getTypeIcon(type: ExitType): string {
    const icons: { [key in ExitType]: string } &#x3D; {
      &#x27;vente&#x27;: &#x27;💰&#x27;,
      &#x27;transfert&#x27;: &#x27;🔄&#x27;,
      &#x27;perte&#x27;: &#x27;❌&#x27;,
      &#x27;casse&#x27;: &#x27;💔&#x27;,
      &#x27;peremption&#x27;: &#x27;⏰&#x27;,
      &#x27;degustation&#x27;: &#x27;🍷&#x27;
    };
    return icons[type] || &#x27;📦&#x27;;
  }

  /**
   * Calcule la marge pour une sortie de type vente
   * @param exit Sortie à analyser
   * @returns Marge en FCFA
   */
  calculateMargin(exit: StockExit): number {
    if (exit.type !&#x3D;&#x3D; &#x27;vente&#x27;) return 0;

    const drink &#x3D; this.drinks.find(d &#x3D;&gt; d.id &#x3D;&#x3D;&#x3D; exit.drinkId);
    if (!drink) return 0;

    return (exit.unitPrice - drink.purchasePrice) * exit.quantity;
  }

  /**
   * Calcule le taux de marge pour une sortie
   * @param exit Sortie à analyser
   * @returns Taux de marge en %
   */
  calculateMarginRate(exit: StockExit): number {
    if (exit.type !&#x3D;&#x3D; &#x27;vente&#x27;) return 0;

    const drink &#x3D; this.drinks.find(d &#x3D;&gt; d.id &#x3D;&#x3D;&#x3D; exit.drinkId);
    if (!drink || drink.purchasePrice &#x3D;&#x3D;&#x3D; 0) return 0;

    const margin &#x3D; exit.unitPrice - drink.purchasePrice;
    const marginRate &#x3D; (margin / drink.purchasePrice) * 100;
    return Math.round(marginRate * 100) / 100;
  }

  /**
   * Retourne la classe CSS selon la catégorie
   * @param category Catégorie de boisson
   * @returns Classe CSS
   */
  getCategoryClass(category: DrinkCategory): string {
    const classMap: { [key in DrinkCategory]: string } &#x3D; {
      [DrinkCategory.BIERES]: &#x27;category-beer&#x27;,
      [DrinkCategory.SUCRERIES]: &#x27;category-sweet&#x27;,
      [DrinkCategory.CHAMPAGNE]: &#x27;category-champagne&#x27;,
      [DrinkCategory.VIN_BLANC]: &#x27;category-white-wine&#x27;,
      [DrinkCategory.VIN_ROUGE]: &#x27;category-red-wine&#x27;,
      [DrinkCategory.VIN_ROSE]: &#x27;category-rose-wine&#x27;,
      [DrinkCategory.VIN_MOUSSEUX]: &#x27;category-sparkling&#x27;,
      [DrinkCategory.LIQUEURS]: &#x27;category-liquor&#x27;,
      [DrinkCategory.BOISSONS_ENERGISANTES]: &#x27;category-energy&#x27;,
      [DrinkCategory.BOISSONS_LOCALES]: &#x27;category-local&#x27;
    };
    return classMap[category] || &#x27;&#x27;;
  }

  /**
   * Vérifie si une sortie est récente (moins de 7 jours)
   * @param exit Sortie à vérifier
   * @returns true si récente
   */
  isRecentExit(exit: StockExit): boolean {
    const sevenDaysAgo &#x3D; new Date();
    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);
    return new Date(exit.date) &gt;&#x3D; sevenDaysAgo;
  }

  /**
   * Vérifie si une sortie représente une perte
   * @param exit Sortie à vérifier
   * @returns true si c&#x27;est une perte
   */
  isLoss(exit: StockExit): boolean {
    return [&#x27;perte&#x27;, &#x27;casse&#x27;, &#x27;peremption&#x27;].includes(exit.type);
  }

  /**
   * Exporte les sorties filtrées en CSV
   */
  exportToCSV(): void {
    if (this.filteredExits.length &#x3D;&#x3D;&#x3D; 0) {
      alert(&#x27;❌ Aucune sortie à exporter&#x27;);
      return;
    }

    // En-têtes CSV complets
    const headers &#x3D; [
      &#x27;Date&#x27;,
      &#x27;Boisson&#x27;,
      &#x27;Catégorie&#x27;,
      &#x27;Format&#x27;,
      &#x27;Type de Sortie&#x27;,
      &#x27;Quantité&#x27;,
      &#x27;Prix Unitaire (FCFA)&#x27;,
      &#x27;Montant Total (FCFA)&#x27;,
      &#x27;Cave Source&#x27;,
      &#x27;Client&#x27;,
      &#x27;Contact Client&#x27;,
      &#x27;Destination&#x27;,
      &#x27;Cave Destination&#x27;,
      &#x27;Numéro Facture&#x27;,
      &#x27;Bon de Livraison&#x27;,
      &#x27;Motif Perte&#x27;,
      &#x27;Détails Casse&#x27;,
      &#x27;Traité par&#x27;,
      &#x27;Marge (FCFA)&#x27;,
      &#x27;Taux Marge (%)&#x27;,
      &#x27;Notes&#x27;
    ];

    // Conversion des données
    const rows &#x3D; this.filteredExits.map(exit &#x3D;&gt; {
      const margin &#x3D; this.calculateMargin(exit);
      const marginRate &#x3D; this.calculateMarginRate(exit);

      return [
        this.formatDate(exit.date),
        exit.drinkName,
        exit.drinkCategory,
        exit.drinkFormat,
        this.getTypeLabel(exit.type),
        exit.quantity.toString(),
        exit.unitPrice.toString(),
        exit.totalAmount.toString(),
        this.getCaveName(exit.caveId),
        exit.customer || &#x27;N/A&#x27;,
        exit.customerContact || &#x27;N/A&#x27;,
        exit.destination || &#x27;N/A&#x27;,
        exit.transferToCaveId ? this.getCaveName(exit.transferToCaveId) : &#x27;N/A&#x27;,
        exit.invoiceNumber || &#x27;N/A&#x27;,
        exit.deliveryNote || &#x27;N/A&#x27;,
        exit.lossReason || &#x27;N/A&#x27;,
        exit.breakageDetails || &#x27;N/A&#x27;,
        exit.processedByName || exit.processedBy,
        margin.toString(),
        marginRate.toString(),
        (exit.notes || &#x27;Aucune note&#x27;).replace(/,/g, &#x27;;&#x27;)
      ];
    });

    // Création du contenu CSV
    const csvContent &#x3D; [
      headers.join(&#x27;,&#x27;),
      ...rows.map(row &#x3D;&gt; row.map(cell &#x3D;&gt; &#x60;&quot;${cell}&quot;&#x60;).join(&#x27;,&#x27;))
    ].join(&#x27;\n&#x27;);

    // Téléchargement
    const blob &#x3D; new Blob([&#x27;\ufeff&#x27; + csvContent], { type: &#x27;text/csv;charset&#x3D;utf-8;&#x27; });
    const link &#x3D; document.createElement(&#x27;a&#x27;);
    const url &#x3D; URL.createObjectURL(blob);
    const fileName &#x3D; &#x60;sorties_stock_${new Date().toISOString().split(&#x27;T&#x27;)[0]}.csv&#x60;;

    link.setAttribute(&#x27;href&#x27;, url);
    link.setAttribute(&#x27;download&#x27;, fileName);
    link.style.visibility &#x3D; &#x27;hidden&#x27;;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    URL.revokeObjectURL(url);

    console.log(&#x60;📊 Export CSV effectué: ${fileName} (${this.filteredExits.length} sorties)&#x60;);
    alert(&#x60;✅ Export réussi !\n\n📄 Fichier: ${fileName}\n📊 ${this.filteredExits.length} sortie(s) exportée(s)&#x60;);
  }

  /**
   * Lance l&#x27;impression
   */
  printExits(): void {
    console.log(&#x27;🖨️ Impression des sorties lancée&#x27;);
    window.print();
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="templateData">
        <pre class="line-numbers"><code class="language-html">&lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
FICHIER: src/app/view/admin-dashboard/exits/exits.component.html
DESCRIPTION: Template enrichi pour les sorties de stock avec détails complets
VERSION ACTUALISÉE
&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;

&lt;div class&#x3D;&quot;exits-container&quot;&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; EN-TÊTE &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;header class&#x3D;&quot;page-header&quot;&gt;
    &lt;div class&#x3D;&quot;header-content&quot;&gt;
      &lt;h1 class&#x3D;&quot;page-title&quot;&gt;📤 Mes Sorties de Stock&lt;/h1&gt;
      &lt;p class&#x3D;&quot;page-subtitle&quot;&gt;
        Gestion des ventes, transferts et pertes - {{ filteredExits.length }} sortie(s)
      &lt;/p&gt;
    &lt;/div&gt;
    &lt;div class&#x3D;&quot;header-actions&quot;&gt;
      &lt;button class&#x3D;&quot;btn btn-secondary&quot; (click)&#x3D;&quot;exportToCSV()&quot;&gt;
        📊 Exporter
      &lt;/button&gt;
      &lt;button class&#x3D;&quot;btn btn-secondary&quot; (click)&#x3D;&quot;printExits()&quot;&gt;
        🖨️ Imprimer
      &lt;/button&gt;
      &lt;button class&#x3D;&quot;btn btn-primary&quot; (click)&#x3D;&quot;openAddModal()&quot;&gt;
        ➕ Nouvelle sortie
      &lt;/button&gt;
    &lt;/div&gt;
  &lt;/header&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; STATISTIQUES ENRICHIES &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;section class&#x3D;&quot;stats-section&quot;&gt;
    &lt;div class&#x3D;&quot;stat-card stat-primary&quot;&gt;
      &lt;div class&#x3D;&quot;stat-icon&quot;&gt;📤&lt;/div&gt;
      &lt;div class&#x3D;&quot;stat-content&quot;&gt;
        &lt;div class&#x3D;&quot;stat-value&quot;&gt;{{ stats.totalExits }}&lt;/div&gt;
        &lt;div class&#x3D;&quot;stat-label&quot;&gt;Sorties totales&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class&#x3D;&quot;stat-card stat-warning&quot;&gt;
      &lt;div class&#x3D;&quot;stat-icon&quot;&gt;📉&lt;/div&gt;
      &lt;div class&#x3D;&quot;stat-content&quot;&gt;
        &lt;div class&#x3D;&quot;stat-value&quot;&gt;{{ formatNumber(stats.totalQuantity) }}&lt;/div&gt;
        &lt;div class&#x3D;&quot;stat-label&quot;&gt;Unités sorties&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class&#x3D;&quot;stat-card stat-success&quot;&gt;
      &lt;div class&#x3D;&quot;stat-icon&quot;&gt;💰&lt;/div&gt;
      &lt;div class&#x3D;&quot;stat-content&quot;&gt;
        &lt;div class&#x3D;&quot;stat-value&quot;&gt;{{ formatNumber(stats.totalRevenue) }} F&lt;/div&gt;
        &lt;div class&#x3D;&quot;stat-label&quot;&gt;Revenus (ventes)&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class&#x3D;&quot;stat-card stat-danger&quot;&gt;
      &lt;div class&#x3D;&quot;stat-icon&quot;&gt;❌&lt;/div&gt;
      &lt;div class&#x3D;&quot;stat-content&quot;&gt;
        &lt;div class&#x3D;&quot;stat-value&quot;&gt;{{ formatNumber(stats.totalLoss) }} F&lt;/div&gt;
        &lt;div class&#x3D;&quot;stat-label&quot;&gt;Pertes totales&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class&#x3D;&quot;stat-card stat-info&quot;&gt;
      &lt;div class&#x3D;&quot;stat-icon&quot;&gt;💵&lt;/div&gt;
      &lt;div class&#x3D;&quot;stat-content&quot;&gt;
        &lt;div class&#x3D;&quot;stat-value&quot;&gt;{{ stats.averageMargin }}%&lt;/div&gt;
        &lt;div class&#x3D;&quot;stat-label&quot;&gt;Marge moyenne&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class&#x3D;&quot;stat-card stat-success&quot;&gt;
      &lt;div class&#x3D;&quot;stat-icon&quot;&gt;🛒&lt;/div&gt;
      &lt;div class&#x3D;&quot;stat-content&quot;&gt;
        &lt;div class&#x3D;&quot;stat-value&quot;&gt;{{ stats.salesCount }}&lt;/div&gt;
        &lt;div class&#x3D;&quot;stat-label&quot;&gt;Nombre de ventes&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class&#x3D;&quot;stat-card stat-info&quot;&gt;
      &lt;div class&#x3D;&quot;stat-icon&quot;&gt;🔄&lt;/div&gt;
      &lt;div class&#x3D;&quot;stat-content&quot;&gt;
        &lt;div class&#x3D;&quot;stat-value&quot;&gt;{{ stats.transfersCount }}&lt;/div&gt;
        &lt;div class&#x3D;&quot;stat-label&quot;&gt;Transferts&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class&#x3D;&quot;stat-card stat-warning&quot; *ngIf&#x3D;&quot;stats.topCustomer&quot;&gt;
      &lt;div class&#x3D;&quot;stat-icon&quot;&gt;👤&lt;/div&gt;
      &lt;div class&#x3D;&quot;stat-content&quot;&gt;
        &lt;div class&#x3D;&quot;stat-value&quot;&gt;{{ stats.topCustomer }}&lt;/div&gt;
        &lt;div class&#x3D;&quot;stat-label&quot;&gt;Meilleur client&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/section&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; FILTRES ENRICHIS &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;section class&#x3D;&quot;filters-section&quot;&gt;
    &lt;!-- Recherche --&gt;
    &lt;div class&#x3D;&quot;search-box&quot;&gt;
      &lt;input
        type&#x3D;&quot;text&quot;
        class&#x3D;&quot;search-input&quot;
        placeholder&#x3D;&quot;🔍 Rechercher par boisson, client, facture...&quot;
        [(ngModel)]&#x3D;&quot;searchTerm&quot;
        (ngModelChange)&#x3D;&quot;onSearchChange()&quot;&gt;
      &lt;button
        *ngIf&#x3D;&quot;searchTerm&quot;
        class&#x3D;&quot;clear-btn&quot;
        (click)&#x3D;&quot;searchTerm &#x3D; &#x27;&#x27;; onSearchChange()&quot;&gt;✕&lt;/button&gt;
    &lt;/div&gt;

    &lt;!-- Filtre par cave --&gt;
    &lt;div class&#x3D;&quot;filter-group&quot;&gt;
      &lt;label class&#x3D;&quot;filter-label&quot;&gt;Cave :&lt;/label&gt;
      &lt;select
        class&#x3D;&quot;filter-select&quot;
        [(ngModel)]&#x3D;&quot;selectedCaveFilter&quot;
        (ngModelChange)&#x3D;&quot;onCaveFilterChange()&quot;&gt;
        &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;Toutes les caves&lt;/option&gt;
        &lt;option *ngFor&#x3D;&quot;let cave of caves&quot; [ngValue]&#x3D;&quot;cave.id&quot;&gt;
          📍 {{ cave.name }}
        &lt;/option&gt;
      &lt;/select&gt;
    &lt;/div&gt;

    &lt;!-- Filtre par type --&gt;
    &lt;div class&#x3D;&quot;filter-group&quot;&gt;
      &lt;label class&#x3D;&quot;filter-label&quot;&gt;Type :&lt;/label&gt;
      &lt;select
        class&#x3D;&quot;filter-select&quot;
        [(ngModel)]&#x3D;&quot;selectedTypeFilter&quot;
        (ngModelChange)&#x3D;&quot;onTypeFilterChange()&quot;&gt;
        &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;Tous les types&lt;/option&gt;
        &lt;option *ngFor&#x3D;&quot;let type of exitTypes&quot; [ngValue]&#x3D;&quot;type&quot;&gt;
          {{ getTypeLabel(type) }}
        &lt;/option&gt;
      &lt;/select&gt;
    &lt;/div&gt;

    &lt;!-- Filtre par catégorie --&gt;
    &lt;div class&#x3D;&quot;filter-group&quot;&gt;
      &lt;label class&#x3D;&quot;filter-label&quot;&gt;Catégorie :&lt;/label&gt;
      &lt;select
        class&#x3D;&quot;filter-select&quot;
        [(ngModel)]&#x3D;&quot;selectedCategoryFilter&quot;
        (ngModelChange)&#x3D;&quot;onCategoryFilterChange()&quot;&gt;
        &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;Toutes les catégories&lt;/option&gt;
        &lt;option *ngFor&#x3D;&quot;let category of drinkCategories&quot; [ngValue]&#x3D;&quot;category&quot;&gt;
          {{ category }}
        &lt;/option&gt;
      &lt;/select&gt;
    &lt;/div&gt;

    &lt;!-- Filtre par période --&gt;
    &lt;div class&#x3D;&quot;filter-group&quot;&gt;
      &lt;label class&#x3D;&quot;filter-label&quot;&gt;Période :&lt;/label&gt;
      &lt;select
        class&#x3D;&quot;filter-select&quot;
        [(ngModel)]&#x3D;&quot;periodFilter&quot;
        (ngModelChange)&#x3D;&quot;onPeriodFilterChange()&quot;&gt;
        &lt;option [value]&#x3D;&quot;7&quot;&gt;7 derniers jours&lt;/option&gt;
        &lt;option [value]&#x3D;&quot;30&quot;&gt;30 derniers jours&lt;/option&gt;
        &lt;option [value]&#x3D;&quot;90&quot;&gt;3 derniers mois&lt;/option&gt;
        &lt;option [value]&#x3D;&quot;0&quot;&gt;Toutes les sorties&lt;/option&gt;
      &lt;/select&gt;
    &lt;/div&gt;

    &lt;!-- Bouton de réinitialisation --&gt;
    &lt;button
      class&#x3D;&quot;btn btn-secondary&quot;
      (click)&#x3D;&quot;resetFilters()&quot;
      *ngIf&#x3D;&quot;selectedCaveFilter || selectedTypeFilter || selectedCategoryFilter || searchTerm&quot;&gt;
      🔄 Réinitialiser
    &lt;/button&gt;
  &lt;/section&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; CHARGEMENT &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;div *ngIf&#x3D;&quot;isLoading&quot; class&#x3D;&quot;loading-spinner&quot;&gt;
    &lt;div class&#x3D;&quot;spinner&quot;&gt;&lt;/div&gt;
    &lt;p&gt;Chargement des sorties...&lt;/p&gt;
  &lt;/div&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; AUCUN RÉSULTAT &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;div *ngIf&#x3D;&quot;!isLoading &amp;&amp; filteredExits.length &#x3D;&#x3D;&#x3D; 0&quot; class&#x3D;&quot;no-results&quot;&gt;
    &lt;div class&#x3D;&quot;no-results-icon&quot;&gt;📤&lt;/div&gt;
    &lt;h3&gt;Aucune sortie trouvée&lt;/h3&gt;
    &lt;p *ngIf&#x3D;&quot;searchTerm || selectedCaveFilter || selectedTypeFilter || selectedCategoryFilter&quot;&gt;
      Aucune sortie ne correspond à vos critères
    &lt;/p&gt;
    &lt;p *ngIf&#x3D;&quot;!searchTerm &amp;&amp; !selectedCaveFilter &amp;&amp; !selectedTypeFilter &amp;&amp; !selectedCategoryFilter&quot;&gt;
      Commencez par enregistrer votre première sortie de stock
    &lt;/p&gt;
    &lt;button class&#x3D;&quot;btn btn-primary&quot; (click)&#x3D;&quot;openAddModal()&quot;&gt;
      ➕ Nouvelle sortie
    &lt;/button&gt;
  &lt;/div&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; TABLEAU DES SORTIES ENRICHI &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;section *ngIf&#x3D;&quot;!isLoading &amp;&amp; filteredExits.length &gt; 0&quot; class&#x3D;&quot;exits-table&quot;&gt;
    &lt;div class&#x3D;&quot;table-wrapper&quot;&gt;
      &lt;table class&#x3D;&quot;data-table&quot;&gt;
        &lt;!-- En-têtes --&gt;
        &lt;thead&gt;
          &lt;tr&gt;
            &lt;th&gt;Date&lt;/th&gt;
            &lt;th&gt;Boisson&lt;/th&gt;
            &lt;th&gt;Type&lt;/th&gt;
            &lt;th&gt;Catégorie&lt;/th&gt;
            &lt;th class&#x3D;&quot;text-center&quot;&gt;Quantité&lt;/th&gt;
            &lt;th class&#x3D;&quot;text-right&quot;&gt;Prix Unit.&lt;/th&gt;
            &lt;th class&#x3D;&quot;text-right&quot;&gt;Montant&lt;/th&gt;
            &lt;th&gt;Client/Destination&lt;/th&gt;
            &lt;th&gt;Cave&lt;/th&gt;
            &lt;th class&#x3D;&quot;text-right&quot;&gt;Marge&lt;/th&gt;
            &lt;th class&#x3D;&quot;text-center&quot;&gt;Actions&lt;/th&gt;
          &lt;/tr&gt;
        &lt;/thead&gt;

        &lt;!-- Corps --&gt;
        &lt;tbody&gt;
          &lt;tr *ngFor&#x3D;&quot;let exit of filteredExits&quot;
              class&#x3D;&quot;table-row&quot;
              [class.recent-exit]&#x3D;&quot;isRecentExit(exit)&quot;
              [class.loss-row]&#x3D;&quot;isLoss(exit)&quot;&gt;

            &lt;!-- Date --&gt;
            &lt;td class&#x3D;&quot;date-cell&quot;&gt;
              &lt;div class&#x3D;&quot;date-main&quot;&gt;
                {{ formatDate(exit.date).split(&#x27; à &#x27;)[0] }}
              &lt;/div&gt;
              &lt;div class&#x3D;&quot;date-relative&quot;&gt;{{ getRelativeDate(exit.date) }}&lt;/div&gt;
            &lt;/td&gt;

            &lt;!-- Boisson avec icône --&gt;
            &lt;td class&#x3D;&quot;drink-cell&quot;&gt;
              &lt;div class&#x3D;&quot;drink-info&quot;&gt;
                &lt;span class&#x3D;&quot;drink-icon&quot;&gt;{{ exit.drinkIcon }}&lt;/span&gt;
                &lt;div&gt;
                  &lt;div class&#x3D;&quot;drink-name&quot;&gt;{{ exit.drinkName }}&lt;/div&gt;
                  &lt;div class&#x3D;&quot;drink-format&quot;&gt;{{ exit.drinkFormat }}&lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/td&gt;

            &lt;!-- Type avec badge coloré --&gt;
            &lt;td&gt;
              &lt;span class&#x3D;&quot;type-badge&quot; [ngClass]&#x3D;&quot;getTypeClass(exit.type)&quot;&gt;
                {{ getTypeIcon(exit.type) }} {{ getTypeLabel(exit.type).split(&#x27; &#x27;)[1] }}
              &lt;/span&gt;
            &lt;/td&gt;

            &lt;!-- Catégorie --&gt;
            &lt;td&gt;
              &lt;span class&#x3D;&quot;category-badge&quot; [ngClass]&#x3D;&quot;getCategoryClass(exit.drinkCategory)&quot;&gt;
                {{ exit.drinkCategory }}
              &lt;/span&gt;
            &lt;/td&gt;

            &lt;!-- Quantité --&gt;
            &lt;td class&#x3D;&quot;text-center quantity-cell&quot;&gt;
              &lt;span class&#x3D;&quot;quantity-badge&quot;&gt;
                {{ exit.quantity }}
              &lt;/span&gt;
            &lt;/td&gt;

            &lt;!-- Prix unitaire --&gt;
            &lt;td class&#x3D;&quot;text-right&quot;&gt;
              {{ formatNumber(exit.unitPrice) }} F
            &lt;/td&gt;

            &lt;!-- Montant total --&gt;
            &lt;td class&#x3D;&quot;text-right total-cell&quot;&gt;
              &lt;strong [class.revenue]&#x3D;&quot;exit.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27;&quot;
                      [class.loss]&#x3D;&quot;isLoss(exit)&quot;&gt;
                {{ formatNumber(exit.totalAmount) }} F
              &lt;/strong&gt;
            &lt;/td&gt;

            &lt;!-- Client/Destination --&gt;
            &lt;td class&#x3D;&quot;destination-cell&quot;&gt;
              &lt;div class&#x3D;&quot;destination-info&quot;&gt;
                &lt;div class&#x3D;&quot;destination-main&quot; *ngIf&#x3D;&quot;exit.customer&quot;&gt;👤 {{ exit.customer }}
                &lt;/div&gt;
                &lt;div class&#x3D;&quot;destination-secondary&quot; *ngIf&#x3D;&quot;!exit.customer &amp;&amp; exit.destination&quot;&gt;
                  {{ exit.destination }}
                &lt;/div&gt;
                &lt;div class&#x3D;&quot;destination-secondary&quot; *ngIf&#x3D;&quot;exit.transferToCaveId&quot;&gt;
                  🔄 {{ getCaveName(exit.transferToCaveId) }}
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/td&gt;

            &lt;!-- Cave source --&gt;
            &lt;td class&#x3D;&quot;cave-cell&quot;&gt;
              &lt;span class&#x3D;&quot;cave-badge&quot;&gt;
                📍 {{ getCaveName(exit.caveId) }}
              &lt;/span&gt;
            &lt;/td&gt;

            &lt;!-- Marge --&gt;
            &lt;td class&#x3D;&quot;text-right margin-cell&quot;&gt;
              &lt;div *ngIf&#x3D;&quot;exit.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27;&quot; class&#x3D;&quot;margin-info&quot;&gt;
                &lt;div class&#x3D;&quot;margin-amount&quot;&gt;
                  {{ formatNumber(calculateMargin(exit)) }} F
                &lt;/div&gt;
                &lt;div class&#x3D;&quot;margin-rate&quot;
                     [class.margin-good]&#x3D;&quot;calculateMarginRate(exit) &gt;&#x3D; 20&quot;
                     [class.margin-medium]&#x3D;&quot;calculateMarginRate(exit) &gt;&#x3D; 10 &amp;&amp; calculateMarginRate(exit) &lt; 20&quot;
                     [class.margin-low]&#x3D;&quot;calculateMarginRate(exit) &lt; 10&quot;&gt;
                  {{ calculateMarginRate(exit) }}%
                &lt;/div&gt;
              &lt;/div&gt;
              &lt;span *ngIf&#x3D;&quot;exit.type !&#x3D;&#x3D; &#x27;vente&#x27;&quot; class&#x3D;&quot;margin-na&quot;&gt;—&lt;/span&gt;
            &lt;/td&gt;

            &lt;!-- Actions --&gt;
            &lt;td class&#x3D;&quot;text-center actions-cell&quot;&gt;
              &lt;button
                class&#x3D;&quot;btn-icon&quot;
                title&#x3D;&quot;Voir les détails&quot;
                (click)&#x3D;&quot;viewExitDetails(exit)&quot;&gt;
                👁️
              &lt;/button&gt;
              &lt;button
                class&#x3D;&quot;btn-icon btn-danger&quot;
                title&#x3D;&quot;Supprimer&quot;
                (click)&#x3D;&quot;deleteExit(exit)&quot;&gt;
                🗑️
              &lt;/button&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
        &lt;/tbody&gt;
      &lt;/table&gt;
    &lt;/div&gt;
  &lt;/section&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; MODAL AJOUT DE SORTIE ENRICHI &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;div *ngIf&#x3D;&quot;isAddModalOpen&quot; class&#x3D;&quot;modal-overlay&quot; (click)&#x3D;&quot;closeAddModal()&quot;&gt;
    &lt;div class&#x3D;&quot;modal-container modal-large&quot; (click)&#x3D;&quot;$event.stopPropagation()&quot;&gt;

      &lt;!-- En-tête --&gt;
      &lt;header class&#x3D;&quot;modal-header&quot;&gt;
        &lt;h2 class&#x3D;&quot;modal-title&quot;&gt;➕ Nouvelle Sortie de Stock&lt;/h2&gt;
        &lt;button class&#x3D;&quot;modal-close-btn&quot; (click)&#x3D;&quot;closeAddModal()&quot;&gt;✕&lt;/button&gt;
      &lt;/header&gt;

      &lt;!-- Corps --&gt;
      &lt;div class&#x3D;&quot;modal-body&quot;&gt;
        &lt;form class&#x3D;&quot;exit-form&quot;&gt;

          &lt;!-- SECTION 1: SÉLECTION BOISSON ET TYPE --&gt;
          &lt;div class&#x3D;&quot;form-section&quot;&gt;
            &lt;h3 class&#x3D;&quot;section-title&quot;&gt;📦 Produit et type de sortie&lt;/h3&gt;

            &lt;div class&#x3D;&quot;form-group&quot;&gt;
              &lt;label class&#x3D;&quot;form-label&quot; for&#x3D;&quot;exit-drink&quot;&gt;
                Boisson &lt;span class&#x3D;&quot;required&quot;&gt;*&lt;/span&gt;
              &lt;/label&gt;
              &lt;select
                id&#x3D;&quot;exit-drink&quot;
                class&#x3D;&quot;form-input&quot;
                [(ngModel)]&#x3D;&quot;exitForm.drinkId&quot;
                name&#x3D;&quot;drinkId&quot;
                (ngModelChange)&#x3D;&quot;onDrinkSelected()&quot;
                required&gt;
                &lt;option value&#x3D;&quot;&quot;&gt;Sélectionner une boisson...&lt;/option&gt;
                &lt;option *ngFor&#x3D;&quot;let drink of drinks&quot; [value]&#x3D;&quot;drink.id&quot;&gt;
                  {{ drink.icon }} {{ drink.name }} ({{ drink.format }}) - Stock: {{ drink.stock }}
                &lt;/option&gt;
              &lt;/select&gt;
            &lt;/div&gt;

            &lt;div class&#x3D;&quot;form-group&quot;&gt;
              &lt;label class&#x3D;&quot;form-label&quot; for&#x3D;&quot;exit-type&quot;&gt;
                Type de sortie &lt;span class&#x3D;&quot;required&quot;&gt;*&lt;/span&gt;
              &lt;/label&gt;
              &lt;select
                id&#x3D;&quot;exit-type&quot;
                class&#x3D;&quot;form-input&quot;
                [(ngModel)]&#x3D;&quot;exitForm.type&quot;
                name&#x3D;&quot;type&quot;
                (ngModelChange)&#x3D;&quot;onTypeChange()&quot;
                required&gt;
                &lt;option *ngFor&#x3D;&quot;let type of exitTypes&quot; [value]&#x3D;&quot;type&quot;&gt;
                  {{ getTypeLabel(type) }}
                &lt;/option&gt;
              &lt;/select&gt;
              &lt;small class&#x3D;&quot;helper-text&quot;&gt;
                &lt;span *ngIf&#x3D;&quot;exitForm.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27;&quot;&gt;💡 Pour une vente à un client&lt;/span&gt;
                &lt;span *ngIf&#x3D;&quot;exitForm.type &#x3D;&#x3D;&#x3D; &#x27;transfert&#x27;&quot;&gt;💡 Pour un transfert vers une autre cave&lt;/span&gt;
                &lt;span *ngIf&#x3D;&quot;exitForm.type &#x3D;&#x3D;&#x3D; &#x27;perte&#x27;&quot;&gt;💡 Pour une perte de stock&lt;/span&gt;
                &lt;span *ngIf&#x3D;&quot;exitForm.type &#x3D;&#x3D;&#x3D; &#x27;casse&#x27;&quot;&gt;💡 Pour des produits cassés&lt;/span&gt;
                &lt;span *ngIf&#x3D;&quot;exitForm.type &#x3D;&#x3D;&#x3D; &#x27;peremption&#x27;&quot;&gt;💡 Pour des produits périmés&lt;/span&gt;
                &lt;span *ngIf&#x3D;&quot;exitForm.type &#x3D;&#x3D;&#x3D; &#x27;degustation&#x27;&quot;&gt;💡 Pour une dégustation&lt;/span&gt;
              &lt;/small&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- SECTION 2: QUANTITÉ ET TARIFICATION --&gt;
          &lt;div class&#x3D;&quot;form-section&quot; *ngIf&#x3D;&quot;exitForm.drinkId&quot;&gt;
            &lt;h3 class&#x3D;&quot;section-title&quot;&gt;🔢 Quantité et tarification&lt;/h3&gt;

            &lt;div class&#x3D;&quot;form-row&quot;&gt;
              &lt;div class&#x3D;&quot;form-group&quot;&gt;
                &lt;label class&#x3D;&quot;form-label&quot; for&#x3D;&quot;exit-quantity&quot;&gt;
                  Quantité &lt;span class&#x3D;&quot;required&quot;&gt;*&lt;/span&gt;
                &lt;/label&gt;
                &lt;input
                  type&#x3D;&quot;number&quot;
                  id&#x3D;&quot;exit-quantity&quot;
                  class&#x3D;&quot;form-input&quot;
                  [(ngModel)]&#x3D;&quot;exitForm.quantity&quot;
                  name&#x3D;&quot;quantity&quot;
                  min&#x3D;&quot;1&quot;
                  (ngModelChange)&#x3D;&quot;calculateTotalAmount()&quot;
                  placeholder&#x3D;&quot;Ex: 24&quot;
                  required&gt;
              &lt;/div&gt;

              &lt;div class&#x3D;&quot;form-group&quot;&gt;
                &lt;label class&#x3D;&quot;form-label&quot; for&#x3D;&quot;exit-price&quot;&gt;
                  Prix unitaire (FCFA) &lt;span class&#x3D;&quot;required&quot;&gt;*&lt;/span&gt;
                &lt;/label&gt;
                &lt;input
                  type&#x3D;&quot;number&quot;
                  id&#x3D;&quot;exit-price&quot;
                  class&#x3D;&quot;form-input&quot;
                  [(ngModel)]&#x3D;&quot;exitForm.unitPrice&quot;
                  name&#x3D;&quot;unitPrice&quot;
                  min&#x3D;&quot;0&quot;
                  (ngModelChange)&#x3D;&quot;calculateTotalAmount()&quot;
                  placeholder&#x3D;&quot;Ex: 800&quot;
                  required&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            &lt;!-- Montant total calculé --&gt;
            &lt;div class&#x3D;&quot;total-amount-display&quot; [class.revenue-display]&#x3D;&quot;exitForm.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27;&quot;&gt;
              &lt;span class&#x3D;&quot;total-label&quot;&gt;
                {{ exitForm.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27; ? &#x27;💵 Montant de la vente&#x27; : &#x27;💰 Montant total&#x27; }} :
              &lt;/span&gt;
              &lt;span class&#x3D;&quot;total-value&quot;&gt;
                {{ formatNumber(exitForm.totalAmount) }} FCFA
              &lt;/span&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- SECTION 3: CAVE SOURCE --&gt;
          &lt;div class&#x3D;&quot;form-section&quot;&gt;
            &lt;h3 class&#x3D;&quot;section-title&quot;&gt;📍 Cave source&lt;/h3&gt;

            &lt;div class&#x3D;&quot;form-group&quot;&gt;
              &lt;label class&#x3D;&quot;form-label&quot; for&#x3D;&quot;exit-cave&quot;&gt;
                Cave de prélèvement &lt;span class&#x3D;&quot;required&quot;&gt;*&lt;/span&gt;
              &lt;/label&gt;
              &lt;select
                id&#x3D;&quot;exit-cave&quot;
                class&#x3D;&quot;form-input&quot;
                [(ngModel)]&#x3D;&quot;exitForm.caveId&quot;
                name&#x3D;&quot;caveId&quot;
                required&gt;
                &lt;option value&#x3D;&quot;&quot;&gt;Sélectionner une cave...&lt;/option&gt;
                &lt;option *ngFor&#x3D;&quot;let cave of caves&quot; [value]&#x3D;&quot;cave.id&quot;&gt;
                  📍 {{ cave.name }} - {{ cave.location }}
                &lt;/option&gt;
              &lt;/select&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- SECTION 4: DESTINATION (selon le type) --&gt;

          &lt;!-- Pour VENTE : Client --&gt;
          &lt;div class&#x3D;&quot;form-section&quot; *ngIf&#x3D;&quot;exitForm.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27;&quot;&gt;
            &lt;h3 class&#x3D;&quot;section-title&quot;&gt;👤 Informations client&lt;/h3&gt;

            &lt;div class&#x3D;&quot;form-group&quot;&gt;
              &lt;label class&#x3D;&quot;form-label&quot; for&#x3D;&quot;exit-customer&quot;&gt;
                Nom du client &lt;span class&#x3D;&quot;required&quot;&gt;*&lt;/span&gt;
              &lt;/label&gt;
              &lt;input
                type&#x3D;&quot;text&quot;
                id&#x3D;&quot;exit-customer&quot;
                class&#x3D;&quot;form-input&quot;
                [(ngModel)]&#x3D;&quot;exitForm.customer&quot;
                name&#x3D;&quot;customer&quot;
                placeholder&#x3D;&quot;Ex: Restaurant Le Gourmet&quot;
                required&gt;
            &lt;/div&gt;

            &lt;div class&#x3D;&quot;form-group&quot;&gt;
              &lt;label class&#x3D;&quot;form-label&quot; for&#x3D;&quot;exit-customer-contact&quot;&gt;
                Contact du client
              &lt;/label&gt;
              &lt;input
                type&#x3D;&quot;text&quot;
                id&#x3D;&quot;exit-customer-contact&quot;
                class&#x3D;&quot;form-input&quot;
                [(ngModel)]&#x3D;&quot;exitForm.customerContact&quot;
                name&#x3D;&quot;customerContact&quot;
                placeholder&#x3D;&quot;Ex: +225 07 00 00 00 00&quot;&gt;
            &lt;/div&gt;

            &lt;div class&#x3D;&quot;form-group&quot;&gt;
              &lt;label class&#x3D;&quot;form-label&quot; for&#x3D;&quot;exit-destination&quot;&gt;
                Adresse de livraison
              &lt;/label&gt;
              &lt;input
                type&#x3D;&quot;text&quot;
                id&#x3D;&quot;exit-destination&quot;
                class&#x3D;&quot;form-input&quot;
                [(ngModel)]&#x3D;&quot;exitForm.destination&quot;
                name&#x3D;&quot;destination&quot;
                placeholder&#x3D;&quot;Ex: Cocody, Rue des Jardins&quot;&gt;
            &lt;/div&gt;

            &lt;div class&#x3D;&quot;form-row&quot;&gt;
              &lt;div class&#x3D;&quot;form-group&quot;&gt;
                &lt;label class&#x3D;&quot;form-label&quot; for&#x3D;&quot;exit-invoice&quot;&gt;
                  Numéro de facture
                &lt;/label&gt;
                &lt;input
                  type&#x3D;&quot;text&quot;
                  id&#x3D;&quot;exit-invoice&quot;
                  class&#x3D;&quot;form-input&quot;
                  [(ngModel)]&#x3D;&quot;exitForm.invoiceNumber&quot;
                  name&#x3D;&quot;invoiceNumber&quot;
                  placeholder&#x3D;&quot;Ex: FACT-2024-001&quot;&gt;
              &lt;/div&gt;

              &lt;div class&#x3D;&quot;form-group&quot;&gt;
                &lt;label class&#x3D;&quot;form-label&quot; for&#x3D;&quot;exit-delivery&quot;&gt;
                  Bon de livraison
                &lt;/label&gt;
                &lt;input
                  type&#x3D;&quot;text&quot;
                  id&#x3D;&quot;exit-delivery&quot;
                  class&#x3D;&quot;form-input&quot;
                  [(ngModel)]&#x3D;&quot;exitForm.deliveryNote&quot;
                  name&#x3D;&quot;deliveryNote&quot;
                  placeholder&#x3D;&quot;Ex: BL-2024-001&quot;&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- Pour TRANSFERT : Cave destination --&gt;
          &lt;div class&#x3D;&quot;form-section&quot; *ngIf&#x3D;&quot;exitForm.type &#x3D;&#x3D;&#x3D; &#x27;transfert&#x27;&quot;&gt;
            &lt;h3 class&#x3D;&quot;section-title&quot;&gt;🔄 Cave de destination&lt;/h3&gt;

            &lt;div class&#x3D;&quot;form-group&quot;&gt;
              &lt;label class&#x3D;&quot;form-label&quot; for&#x3D;&quot;exit-transfer-cave&quot;&gt;
                Cave de destination &lt;span class&#x3D;&quot;required&quot;&gt;*&lt;/span&gt;
              &lt;/label&gt;
              &lt;select
                id&#x3D;&quot;exit-transfer-cave&quot;
                class&#x3D;&quot;form-input&quot;
                [(ngModel)]&#x3D;&quot;exitForm.transferToCaveId&quot;
                name&#x3D;&quot;transferToCaveId&quot;
                required&gt;
                &lt;option value&#x3D;&quot;&quot;&gt;Sélectionner une cave...&lt;/option&gt;
                &lt;option *ngFor&#x3D;&quot;let cave of caves&quot;
                        [value]&#x3D;&quot;cave.id&quot;
                        [disabled]&#x3D;&quot;cave.id &#x3D;&#x3D;&#x3D; exitForm.caveId&quot;&gt;
                  📍 {{ cave.name }} - {{ cave.location }}
                &lt;/option&gt;
              &lt;/select&gt;
              &lt;small class&#x3D;&quot;helper-text&quot;&gt;
                💡 La cave de destination doit être différente de la cave source
              &lt;/small&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- Pour PERTE/CASSE/PÉREMPTION : Motif --&gt;
          &lt;div class&#x3D;&quot;form-section&quot; *ngIf&#x3D;&quot;[&#x27;perte&#x27;, &#x27;casse&#x27;, &#x27;peremption&#x27;].includes(exitForm.type)&quot;&gt;
            &lt;h3 class&#x3D;&quot;section-title&quot;&gt;⚠️ Informations sur la {{ exitForm.type }}&lt;/h3&gt;

            &lt;div class&#x3D;&quot;form-group&quot;&gt;
              &lt;label class&#x3D;&quot;form-label&quot; for&#x3D;&quot;exit-loss-reason&quot;&gt;
                Motif de la {{ exitForm.type }} &lt;span class&#x3D;&quot;required&quot;&gt;*&lt;/span&gt;
              &lt;/label&gt;
              &lt;textarea
                id&#x3D;&quot;exit-loss-reason&quot;
                class&#x3D;&quot;form-textarea&quot;
                [(ngModel)]&#x3D;&quot;exitForm.lossReason&quot;
                name&#x3D;&quot;lossReason&quot;
                rows&#x3D;&quot;3&quot;
                placeholder&#x3D;&quot;Décrivez la raison de la {{ exitForm.type }}...&quot;
                required&gt;&lt;/textarea&gt;
            &lt;/div&gt;

            &lt;div class&#x3D;&quot;form-group&quot; *ngIf&#x3D;&quot;exitForm.type &#x3D;&#x3D;&#x3D; &#x27;casse&#x27;&quot;&gt;
              &lt;label class&#x3D;&quot;form-label&quot; for&#x3D;&quot;exit-breakage&quot;&gt;
                Détails de la casse
              &lt;/label&gt;
              &lt;textarea
                id&#x3D;&quot;exit-breakage&quot;
                class&#x3D;&quot;form-textarea&quot;
                [(ngModel)]&#x3D;&quot;exitForm.breakageDetails&quot;
                name&#x3D;&quot;breakageDetails&quot;
                rows&#x3D;&quot;3&quot;
                placeholder&#x3D;&quot;Circonstances de la casse, responsabilité...&quot;&gt;&lt;/textarea&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- Pour DÉGUSTATION : Détails --&gt;
          &lt;div class&#x3D;&quot;form-section&quot; *ngIf&#x3D;&quot;exitForm.type &#x3D;&#x3D;&#x3D; &#x27;degustation&#x27;&quot;&gt;
            &lt;h3 class&#x3D;&quot;section-title&quot;&gt;🍷 Informations sur la dégustation&lt;/h3&gt;

            &lt;div class&#x3D;&quot;form-group&quot;&gt;
              &lt;label class&#x3D;&quot;form-label&quot; for&#x3D;&quot;exit-tasting-destination&quot;&gt;
                Événement / Clients
              &lt;/label&gt;
              &lt;input
                type&#x3D;&quot;text&quot;
                id&#x3D;&quot;exit-tasting-destination&quot;
                class&#x3D;&quot;form-input&quot;
                [(ngModel)]&#x3D;&quot;exitForm.destination&quot;
                name&#x3D;&quot;destination&quot;
                placeholder&#x3D;&quot;Ex: Séance de dégustation clients VIP&quot;&gt;
            &lt;/div&gt;

            &lt;div class&#x3D;&quot;form-group&quot;&gt;
              &lt;label class&#x3D;&quot;form-label&quot; for&#x3D;&quot;exit-tasting-customer&quot;&gt;
                Participants
              &lt;/label&gt;
              &lt;input
                type&#x3D;&quot;text&quot;
                id&#x3D;&quot;exit-tasting-customer&quot;
                class&#x3D;&quot;form-input&quot;
                [(ngModel)]&#x3D;&quot;exitForm.customer&quot;
                name&#x3D;&quot;customer&quot;
                placeholder&#x3D;&quot;Ex: 15 clients VIP&quot;&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- SECTION 5: NOTES --&gt;
          &lt;div class&#x3D;&quot;form-section&quot;&gt;
            &lt;h3 class&#x3D;&quot;section-title&quot;&gt;📝 Notes et commentaires&lt;/h3&gt;

            &lt;div class&#x3D;&quot;form-group&quot;&gt;
              &lt;label class&#x3D;&quot;form-label&quot; for&#x3D;&quot;exit-notes&quot;&gt;
                Notes ou observations
              &lt;/label&gt;
              &lt;textarea
                id&#x3D;&quot;exit-notes&quot;
                class&#x3D;&quot;form-textarea&quot;
                [(ngModel)]&#x3D;&quot;exitForm.notes&quot;
                name&#x3D;&quot;notes&quot;
                rows&#x3D;&quot;4&quot;
                placeholder&#x3D;&quot;Ajoutez des notes sur cette sortie...&quot;&gt;&lt;/textarea&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- SECTION 6: SUGGESTIONS D&#x27;ACCORDS (pour ventes) --&gt;
          &lt;div class&#x3D;&quot;form-section&quot; *ngIf&#x3D;&quot;exitForm.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27; &amp;&amp; winePairingSuggestions.length &gt; 0&quot;&gt;
            &lt;h3 class&#x3D;&quot;section-title&quot;&gt;🍽️ Suggestions pour votre client&lt;/h3&gt;
            &lt;p class&#x3D;&quot;section-description&quot;&gt;
              Recommandations d&#x27;accords mets-vins à partager avec votre client :
            &lt;/p&gt;

            &lt;div class&#x3D;&quot;wine-pairing-suggestions&quot;&gt;
              &lt;div class&#x3D;&quot;pairing-card&quot; *ngFor&#x3D;&quot;let suggestion of winePairingSuggestions&quot;&gt;
                &lt;div class&#x3D;&quot;pairing-icon&quot;&gt;{{ suggestion.dishIcon }}&lt;/div&gt;
                &lt;div class&#x3D;&quot;pairing-content&quot;&gt;
                  &lt;h4 class&#x3D;&quot;pairing-dish&quot;&gt;{{ suggestion.dish }}&lt;/h4&gt;
                  &lt;p class&#x3D;&quot;pairing-description&quot;&gt;{{ suggestion.description }}&lt;/p&gt;
                  &lt;div class&#x3D;&quot;pairing-temperature&quot;&gt;
                    🌡️ Servir à {{ suggestion.temperature }}
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

        &lt;/form&gt;
      &lt;/div&gt;

      &lt;!-- Pied --&gt;
      &lt;footer class&#x3D;&quot;modal-footer&quot;&gt;
        &lt;button class&#x3D;&quot;btn btn-cancel&quot; (click)&#x3D;&quot;closeAddModal()&quot;&gt;
          Annuler
        &lt;/button&gt;
        &lt;button class&#x3D;&quot;btn btn-primary&quot; (click)&#x3D;&quot;saveExit()&quot;&gt;
          💾 Enregistrer la sortie
        &lt;/button&gt;
      &lt;/footer&gt;

    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; MODAL DÉTAILS DE SORTIE &#x3D;&#x3D;&#x3D;&#x3D;&#x3D; --&gt;
  &lt;div *ngIf&#x3D;&quot;isDetailModalOpen &amp;&amp; selectedExit&quot; class&#x3D;&quot;modal-overlay&quot; (click)&#x3D;&quot;closeDetailModal()&quot;&gt;
    &lt;div class&#x3D;&quot;modal-container modal-large&quot; (click)&#x3D;&quot;$event.stopPropagation()&quot;&gt;

      &lt;!-- En-tête --&gt;
      &lt;header class&#x3D;&quot;modal-header&quot;&gt;
        &lt;h2 class&#x3D;&quot;modal-title&quot;&gt;
          {{ selectedExit.drinkIcon }} Détails de la sortie - {{ selectedExit.drinkName }}
        &lt;/h2&gt;
        &lt;button class&#x3D;&quot;modal-close-btn&quot; (click)&#x3D;&quot;closeDetailModal()&quot;&gt;✕&lt;/button&gt;
      &lt;/header&gt;

      &lt;!-- Corps --&gt;
      &lt;div class&#x3D;&quot;modal-body&quot;&gt;
        &lt;div class&#x3D;&quot;details-content&quot;&gt;

          &lt;!-- Informations générales --&gt;
          &lt;div class&#x3D;&quot;detail-section&quot;&gt;
            &lt;h3 class&#x3D;&quot;detail-section-title&quot;&gt;📦 Informations générales&lt;/h3&gt;
            &lt;div class&#x3D;&quot;detail-grid&quot;&gt;
              &lt;div class&#x3D;&quot;detail-item&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Date de sortie :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value&quot;&gt;{{ formatDate(selectedExit.date) }}&lt;/span&gt;
              &lt;/div&gt;
              &lt;div class&#x3D;&quot;detail-item&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Type :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value badge&quot; [ngClass]&#x3D;&quot;getTypeClass(selectedExit.type)&quot;&gt;
                  {{ getTypeLabel(selectedExit.type) }}
                &lt;/span&gt;
              &lt;/div&gt;
              &lt;div class&#x3D;&quot;detail-item&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Boisson :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value&quot;&gt;
                  {{ selectedExit.drinkIcon }} {{ selectedExit.drinkName }}
                &lt;/span&gt;
              &lt;/div&gt;
              &lt;div class&#x3D;&quot;detail-item&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Catégorie :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value badge&quot; [ngClass]&#x3D;&quot;getCategoryClass(selectedExit.drinkCategory)&quot;&gt;
                  {{ selectedExit.drinkCategory }}
                &lt;/span&gt;
              &lt;/div&gt;
              &lt;div class&#x3D;&quot;detail-item&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Format :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value&quot;&gt;{{ selectedExit.drinkFormat }}&lt;/span&gt;
              &lt;/div&gt;
              &lt;div class&#x3D;&quot;detail-item&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Cave source :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value&quot;&gt;📍 {{ getCaveName(selectedExit.caveId) }}&lt;/span&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- Quantité et tarification --&gt;
          &lt;div class&#x3D;&quot;detail-section&quot;&gt;
            &lt;h3 class&#x3D;&quot;detail-section-title&quot;&gt;💰 Quantité et tarification&lt;/h3&gt;
            &lt;div class&#x3D;&quot;detail-grid&quot;&gt;
              &lt;div class&#x3D;&quot;detail-item&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Quantité :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value highlight&quot;&gt;{{ selectedExit.quantity }} unités&lt;/span&gt;
              &lt;/div&gt;
              &lt;div class&#x3D;&quot;detail-item&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Prix unitaire :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value&quot;&gt;{{ formatNumber(selectedExit.unitPrice) }} FCFA&lt;/span&gt;
              &lt;/div&gt;
              &lt;div class&#x3D;&quot;detail-item&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Montant total :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value highlight-success&quot;&gt;
                  {{ formatNumber(selectedExit.totalAmount) }} FCFA
                &lt;/span&gt;
              &lt;/div&gt;
              &lt;div class&#x3D;&quot;detail-item&quot; *ngIf&#x3D;&quot;selectedExit.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27;&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Marge réalisée :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value highlight-success&quot;&gt;
                  {{ formatNumber(calculateMargin(selectedExit)) }} FCFA ({{ calculateMarginRate(selectedExit) }}%)
                &lt;/span&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- Client (vente) --&gt;
          &lt;div class&#x3D;&quot;detail-section&quot; *ngIf&#x3D;&quot;selectedExit.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27; &amp;&amp; selectedExit.customer&quot;&gt;
            &lt;h3 class&#x3D;&quot;detail-section-title&quot;&gt;👤 Informations client&lt;/h3&gt;
            &lt;div class&#x3D;&quot;detail-grid&quot;&gt;
              &lt;div class&#x3D;&quot;detail-item&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Client :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value&quot;&gt;{{ selectedExit.customer }}&lt;/span&gt;
              &lt;/div&gt;
              &lt;div class&#x3D;&quot;detail-item&quot; *ngIf&#x3D;&quot;selectedExit.customerContact&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Contact :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value&quot;&gt;{{ selectedExit.customerContact }}&lt;/span&gt;
              &lt;/div&gt;
              &lt;div class&#x3D;&quot;detail-item&quot; *ngIf&#x3D;&quot;selectedExit.destination&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Adresse :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value&quot;&gt;{{ selectedExit.destination }}&lt;/span&gt;
              &lt;/div&gt;
              &lt;div class&#x3D;&quot;detail-item&quot; *ngIf&#x3D;&quot;selectedExit.invoiceNumber&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Facture :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value&quot;&gt;📄 {{ selectedExit.invoiceNumber }}&lt;/span&gt;
              &lt;/div&gt;
              &lt;div class&#x3D;&quot;detail-item&quot; *ngIf&#x3D;&quot;selectedExit.deliveryNote&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Bon de livraison :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value&quot;&gt;📋 {{ selectedExit.deliveryNote }}&lt;/span&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- Transfert --&gt;
          &lt;div class&#x3D;&quot;detail-section&quot; *ngIf&#x3D;&quot;selectedExit.type &#x3D;&#x3D;&#x3D; &#x27;transfert&#x27; &amp;&amp; selectedExit.transferToCaveId&quot;&gt;
            &lt;h3 class&#x3D;&quot;detail-section-title&quot;&gt;🔄 Informations de transfert&lt;/h3&gt;
            &lt;div class&#x3D;&quot;detail-grid&quot;&gt;
              &lt;div class&#x3D;&quot;detail-item&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Cave source :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value&quot;&gt;📍 {{ getCaveName(selectedExit.caveId) }}&lt;/span&gt;
              &lt;/div&gt;
              &lt;div class&#x3D;&quot;detail-item&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Cave destination :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value&quot;&gt;📍 {{ getCaveName(selectedExit.transferToCaveId) }}&lt;/span&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- Perte/Casse/Péremption --&gt;
          &lt;div class&#x3D;&quot;detail-section&quot; *ngIf&#x3D;&quot;isLoss(selectedExit)&quot;&gt;
            &lt;h3 class&#x3D;&quot;detail-section-title&quot;&gt;⚠️ Informations sur la {{ selectedExit.type }}&lt;/h3&gt;
            &lt;div class&#x3D;&quot;detail-grid&quot;&gt;
              &lt;div class&#x3D;&quot;detail-item full-width&quot; *ngIf&#x3D;&quot;selectedExit.lossReason&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Motif :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value&quot;&gt;{{ selectedExit.lossReason }}&lt;/span&gt;
              &lt;/div&gt;
              &lt;div class&#x3D;&quot;detail-item full-width&quot; *ngIf&#x3D;&quot;selectedExit.breakageDetails&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Détails de la casse :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value&quot;&gt;{{ selectedExit.breakageDetails }}&lt;/span&gt;
              &lt;/div&gt;
              &lt;div class&#x3D;&quot;detail-item&quot; *ngIf&#x3D;&quot;selectedExit.expiryDate&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Date de péremption :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value&quot;&gt;
                  {{ formatDate(selectedExit.expiryDate).split(&#x27; à &#x27;)[0] }}
                &lt;/span&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- Traité par --&gt;
          &lt;div class&#x3D;&quot;detail-section&quot;&gt;
            &lt;h3 class&#x3D;&quot;detail-section-title&quot;&gt;👨‍💼 Traitement&lt;/h3&gt;
            &lt;div class&#x3D;&quot;detail-grid&quot;&gt;
              &lt;div class&#x3D;&quot;detail-item&quot;&gt;
                &lt;span class&#x3D;&quot;detail-label&quot;&gt;Traité par :&lt;/span&gt;
                &lt;span class&#x3D;&quot;detail-value&quot;&gt;{{ selectedExit.processedByName || selectedExit.processedBy }}&lt;/span&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- Notes --&gt;
          &lt;div class&#x3D;&quot;detail-section&quot; *ngIf&#x3D;&quot;selectedExit.notes&quot;&gt;
            &lt;h3 class&#x3D;&quot;detail-section-title&quot;&gt;📝 Notes&lt;/h3&gt;
            &lt;div class&#x3D;&quot;detail-notes&quot;&gt;
              {{ selectedExit.notes }}
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- Suggestions d&#x27;accords (ventes) --&gt;
          &lt;div class&#x3D;&quot;detail-section&quot; *ngIf&#x3D;&quot;selectedExit.type &#x3D;&#x3D;&#x3D; &#x27;vente&#x27; &amp;&amp; winePairingSuggestions.length &gt; 0&quot;&gt;
            &lt;h3 class&#x3D;&quot;detail-section-title&quot;&gt;🍽️ Suggestions d&#x27;accords mets-vins&lt;/h3&gt;
            &lt;div class&#x3D;&quot;wine-pairing-suggestions&quot;&gt;
              &lt;div class&#x3D;&quot;pairing-card&quot; *ngFor&#x3D;&quot;let suggestion of winePairingSuggestions&quot;&gt;
                &lt;div class&#x3D;&quot;pairing-icon&quot;&gt;{{ suggestion.dishIcon }}&lt;/div&gt;
                &lt;div class&#x3D;&quot;pairing-content&quot;&gt;
                  &lt;h4 class&#x3D;&quot;pairing-dish&quot;&gt;{{ suggestion.dish }}&lt;/h4&gt;
                  &lt;p class&#x3D;&quot;pairing-description&quot;&gt;{{ suggestion.description }}&lt;/p&gt;
                  &lt;div class&#x3D;&quot;pairing-temperature&quot;&gt;
                    🌡️ Servir à {{ suggestion.temperature }}
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

        &lt;/div&gt;
      &lt;/div&gt;

      &lt;!-- Pied --&gt;
      &lt;footer class&#x3D;&quot;modal-footer&quot;&gt;
        &lt;button class&#x3D;&quot;btn btn-secondary&quot; (click)&#x3D;&quot;closeDetailModal()&quot;&gt;
          Fermer
        &lt;/button&gt;
      &lt;/footer&gt;

    &lt;/div&gt;
  &lt;/div&gt;

&lt;/div&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="styleData">
                <p class="comment">
                    <code>./exits.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">// Conteneur principal
.exits-container {
  padding: 2rem;
  max-width: 1400px;
  margin: 0 auto;
  background: var(--dark-bg);
  min-height: 100vh;
  color: var(--text-primary);
}

// En-tête
.page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
  padding-bottom: 1.5rem;
  border-bottom: 2px solid var(--border-color);

  h1 {
    color: var(--text-primary);
    font-size: 2rem;
    font-weight: 700;
  }

  .header-actions {
    display: flex;
    gap: 1rem;

    button {
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      border: none;

      &amp;.btn-primary {
        background: var(--primary-color);
        color: white;

        &amp;:hover {
          background: color-mix(in srgb, var(--primary-color) 90%, black);
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
        }
      }

      &amp;.btn-success {
        background: var(--success);
        color: white;

        &amp;:hover {
          background: color-color-mix(in srgb, in srgb, var(--success) 90%, black);
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }
      }
    }
  }
}

// Section statistiques
.stats-section {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;

  .stat-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem;
    border-radius: 12px;
    box-shadow: var(--shadow);
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    transition: transform 0.3s;

    &amp;:hover {
      transform: translateY(-4px);
    }

    .stat-icon {
      font-size: 3rem;
      opacity: 0.9;
    }

    .stat-content {
      flex: 1;

      .stat-value {
        font-size: 1.75rem;
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 0.25rem;
      }

      .stat-label {
        font-size: 0.9rem;
        color: var(--text-muted);
      }
    }

    &amp;.stat-primary {
      border-left: 4px solid var(--primary-color);
      .stat-icon { color: var(--primary-color); }
    }

    &amp;.stat-success {
      border-left: 4px solid var(--success);
      .stat-icon { color: var(--success); }
    }

    &amp;.stat-warning {
      border-left: 4px solid var(--warning);
      .stat-icon { color: var(--warning); }
    }

    &amp;.stat-info {
      border-left: 4px solid var(--info);
      .stat-icon { color: var(--info); }
    }

    &amp;.stat-danger {
      border-left: 4px solid var(--danger);
      .stat-icon { color: var(--danger); }
    }
  }
}

// Filtres
.filters-section {
  display: flex;
  gap: 1rem;
  align-items: center;
  flex-wrap: wrap;
  padding: 1.5rem;
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  margin-bottom: 2rem;

  .search-box {
    position: relative;
    flex: 1;
    min-width: 250px;

    .search-input {
      width: 100%;
      padding: 0.75rem 2.5rem 0.75rem 1rem;
      border: 1px solid var(--border-color);
      border-radius: 6px;
      background: var(--dark-bg);
      color: var(--text-primary);
      font-size: 0.95rem;

      &amp;::placeholder {
        color: var(--text-muted);
      }

      &amp;:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
      }
    }

    .clear-btn {
      position: absolute;
      right: 0.5rem;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: var(--text-muted);
      cursor: pointer;
      font-size: 1.2rem;
      padding: 0.25rem;

      &amp;:hover {
        color: var(--danger);
      }
    }
  }

  .filter-group {
    display: flex;
    align-items: center;
    gap: 0.5rem;

    .filter-label {
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--text-primary);
      white-space: nowrap;
    }

    .filter-select {
      padding: 0.75rem 1rem;
      border: 1px solid var(--border-color);
      border-radius: 6px;
      cursor: pointer;
      background: var(--dark-bg);
      color: var(--text-primary);
      font-size: 0.95rem;

      &amp;:focus {
        outline: none;
        border-color: var(--primary-color);
      }
    }
  }
}

// Tableau des sorties
.exits-table {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  box-shadow: var(--shadow);
  overflow: hidden;

  .table-wrapper {
    overflow-x: auto;
  }

  .data-table {
    width: 100%;
    border-collapse: collapse;

    thead {
      background: rgba(139, 92, 246, 0.1);
      border-bottom: 2px solid var(--primary-color);

      th {
        padding: 1rem;
        text-align: left;
        font-weight: 600;
        color: var(--text-primary);
        font-size: 0.9rem;
        white-space: nowrap;

        &amp;.text-center {
          text-align: center;
        }

        &amp;.text-right {
          text-align: right;
        }
      }
    }

    tbody {
      .table-row {
        border-bottom: 1px solid var(--border-color);
        transition: background 0.3s;

        &amp;:hover {
          background: rgba(139, 92, 246, 0.05);
        }

        td {
          padding: 1rem;
          font-size: 0.95rem;
          color: var(--text-primary);

          &amp;.text-center {
            text-align: center;
          }

          &amp;.text-right {
            text-align: right;
          }
        }

        .date-cell {
          .date-main {
            font-weight: 600;
            color: var(--text-primary);
          }

          .date-relative {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 0.25rem;
          }
        }

        .drink-name {
          font-weight: 600;
          color: var(--text-primary);
        }

        .cave-badge {
          display: inline-block;
          padding: 0.25rem 0.75rem;
          background: rgba(99, 102, 241, 0.2);
          color: #a5b4fc;
          border: 1px solid rgba(99, 102, 241, 0.3);
          border-radius: 20px;
          font-size: 0.85rem;
          font-weight: 600;
        }

        .quantity-badge {
          display: inline-block;
          padding: 0.25rem 0.75rem;
          background: rgba(239, 68, 68, 0.2);
          color: #fca5a5;
          border: 1px solid rgba(239, 68, 68, 0.3);
          border-radius: 20px;
          font-size: 0.85rem;
          font-weight: 600;
        }

        .client-cell {
          font-weight: 500;
          color: var(--text-muted);
        }

        .price-cell {
          color: var(--text-muted);
        }

        .total-cell strong {
          color: var(--success);
          font-size: 1.05rem;
        }

        .actions-cell {
          .btn-icon {
            padding: 0.5rem;
            border: none;
            background: none;
            cursor: pointer;
            font-size: 1.2rem;
            color: var(--text-muted);
            transition: all 0.3s;

            &amp;:hover {
              transform: scale(1.2);
            }

            &amp;.btn-danger:hover {
              color: var(--danger);
            }
          }
        }
      }
    }
  }

  .no-data {
    padding: 3rem;
    text-align: center;
    color: var(--text-muted);
    font-size: 1.1rem;
  }
}

// Modal du formulaire
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.85);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 1rem;
  backdrop-filter: blur(4px);
}

.modal-content {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 16px;
  max-width: 650px;
  width: 100%;
  max-height: 90vh;
  overflow: hidden;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.7);
  display: flex;
  flex-direction: column;

  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.75rem 2rem;
    border-bottom: 1px solid var(--border-color);
    background: rgba(139, 92, 246, 0.05);
    flex-shrink: 0;

    h2 {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--text-primary);
      margin: 0;
      display: flex;
      align-items: center;
      gap: 0.75rem;

      &amp;::before {
        content: &quot;📦&quot;;
        font-size: 1.25rem;
      }
    }

    .close-btn {
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid transparent;
      border-radius: 8px;
      width: 36px;
      height: 36px;
      font-size: 1.25rem;
      color: var(--text-muted);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s;

      &amp;:hover {
        color: var(--danger);
        background: rgba(239, 68, 68, 0.2);
        border-color: var(--danger);
        transform: rotate(90deg);
      }
    }
  }

  .modal-body {
    padding: 2rem;
    overflow-y: auto;
    flex: 1;

    &amp;::-webkit-scrollbar {
      width: 8px;
    }

    &amp;::-webkit-scrollbar-track {
      background: var(--dark-bg);
      border-radius: 4px;
    }

    &amp;::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 4px;

      &amp;:hover {
        background: var(--primary-color);
      }
    }

    .form-group {
      margin-bottom: 1.75rem;

      &amp;:last-child {
        margin-bottom: 0;
      }

      label {
        display: block;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 0.625rem;
        font-size: 0.95rem;

        .required {
          color: var(--danger);
          margin-left: 0.25rem;
          font-size: 1.1rem;
        }
      }

      input,
      select,
      textarea {
        width: 100%;
        padding: 0.875rem 1rem;
        border: 1.5px solid var(--border-color);
        border-radius: 8px;
        background: var(--dark-bg);
        color: var(--text-primary);
        font-size: 0.95rem;
        transition: all 0.3s;
        font-family: inherit;

        &amp;::placeholder {
          color: var(--text-muted);
          opacity: 0.7;
        }

        &amp;:focus {
          outline: none;
          border-color: var(--primary-color);
          box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.15);
          background: rgba(139, 92, 246, 0.02);
        }

        &amp;:disabled {
          opacity: 0.5;
          cursor: not-allowed;
          background: rgba(51, 65, 85, 0.5);
        }
      }

      select {
        cursor: pointer;
        appearance: none;
        background-image: url(&quot;data:image/svg+xml,%3Csvg xmlns&#x3D;&#x27;http://www.w3.org/2000/svg&#x27; width&#x3D;&#x27;12&#x27; height&#x3D;&#x27;12&#x27; viewBox&#x3D;&#x27;0 0 12 12&#x27;%3E%3Cpath fill&#x3D;&#x27;%239ca3af&#x27; d&#x3D;&#x27;M6 9L1 4h10z&#x27;/%3E%3C/svg%3E&quot;);
        background-repeat: no-repeat;
        background-position: right 1rem center;
        padding-right: 2.5rem;
      }

      textarea {
        min-height: 100px;
        resize: vertical;
        line-height: 1.5;
      }

      input[type&#x3D;&quot;number&quot;] {
        -moz-appearance: textfield;

        &amp;::-webkit-outer-spin-button,
        &amp;::-webkit-inner-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
      }

      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
      }

      .error-message {
        color: var(--danger);
        font-size: 0.85rem;
        margin-top: 0.5rem;
        display: flex;
        align-items: center;
        gap: 0.25rem;

        &amp;::before {
          content: &quot;⚠&quot;;
        }
      }

      .helper-text {
        color: var(--text-muted);
        font-size: 0.85rem;
        margin-top: 0.5rem;
        font-style: italic;
      }
    }
  }

  .modal-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem 2rem;
    border-top: 1px solid var(--border-color);
    background: rgba(15, 23, 42, 0.5);
    flex-shrink: 0;

    .footer-actions {
      display: flex;
      gap: 1rem;
      margin-left: auto;
    }

    button {
      padding: 0.875rem 1.75rem;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 0.95rem;
      border: none;
      display: flex;
      align-items: center;
      gap: 0.5rem;

      &amp;.btn-secondary {
        background: transparent;
        border: 1.5px solid var(--border-color);
        color: var(--text-primary);

        &amp;:hover {
          background: rgba(255, 255, 255, 0.05);
          border-color: var(--text-muted);
        }
      }

      &amp;.btn-primary {
        background: linear-gradient(135deg,var(--primary-color), color-mix(in srgb, var(--primary-color) 90%, black));
        color: white;
        border: none;

        &amp;::before {
          content: &quot;💾&quot;;
          font-size: 1.1rem;
        }

        &amp;:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 16px rgba(139, 92, 246, 0.4);
        }

        &amp;:active {
          transform: translateY(0);
        }

        &amp;:disabled {
          opacity: 0.5;
          cursor: not-allowed;
          transform: none;
          box-shadow: none;
        }
      }
    }
  }
}

// Affichage du revenu total dans le formulaire
.total-revenue-display {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.25rem 1.5rem;
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(16, 185, 129, 0.08));
  border: 2px solid rgba(16, 185, 129, 0.4);
  border-radius: 12px;
  margin-bottom: 1.75rem;
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.15);
  transition: all 0.3s;

  &amp;:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(16, 185, 129, 0.25);
  }

  .total-label {
    font-size: 1.05rem;
    font-weight: 600;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: 0.5rem;

    &amp;::before {
      content: &quot;💵&quot;;
      font-size: 1.25rem;
    }
  }

  .total-value {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--success);
    letter-spacing: -0.5px;
    text-shadow: 0 2px 4px rgba(16, 185, 129, 0.2);
  }
}

// Messages d&#x27;état
.empty-state {
  text-align: center;
  padding: 3rem 1rem;
  color: var(--text-muted);

  .empty-icon {
    font-size: 4rem;
    margin-bottom: 1rem;
    opacity: 0.5;
  }

  h3 {
    font-size: 1.25rem;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
  }

  p {
    margin-bottom: 1.5rem;
  }
}

// Loading state
.loading-spinner {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 3rem;
  color: var(--primary-color);
  font-size: 2rem;
}

// Responsive
@media (max-width: 768px) {
  .exits-container {
    padding: 1rem;
  }

  .page-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;

    h1 {
      font-size: 1.5rem;
    }

    .header-actions {
      width: 100%;
      flex-direction: column;

      button {
        width: 100%;
      }
    }
  }

  .stats-section {
    grid-template-columns: 1fr;

    .stat-card {
      .stat-icon {
        font-size: 2.5rem;
      }

      .stat-content .stat-value {
        font-size: 1.5rem;
      }
    }
  }

  .filters-section {
    flex-direction: column;
    align-items: stretch;

    .search-box,
    .filter-group {
      width: 100%;
    }

    .filter-group {
      flex-direction: column;
      align-items: stretch;

      .filter-select {
        width: 100%;
      }
    }
  }

  .table-wrapper {
    overflow-x: scroll;
  }

  .modal-content {
    margin: 1rem;
    max-height: calc(100vh - 2rem);

    .modal-header h2 {
      font-size: 1.25rem;
    }

    .modal-body {
      padding: 1rem;
    }

    .modal-footer {
      flex-direction: column;
      padding: 1rem;

      button {
        width: 100%;
      }
    }
  }

  .total-revenue-display {
    flex-direction: column;
    gap: 0.5rem;
    text-align: center;

    .total-value {
      font-size: 1.75rem;
    }
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis-network.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><!-- ========================================FICHIER: src/app/view/admin-dashboard/exits/exits.component.htmlDESCRIPTION: Template enrichi pour les sorties de stock avec détails completsVERSION ACTUALISÉE======================================== --><div class="exits-container">  <!-- ===== EN-TÊTE ===== -->  <header class="page-header">    <div class="header-content">      <h1 class="page-title">📤 Mes Sorties de Stock</h1>      <p class="page-subtitle">        Gestion des ventes, transferts et pertes - {{ filteredExits.length }} sortie(s)      </p>    </div>    <div class="header-actions">      <button class="btn btn-secondary" (click)="exportToCSV()">        📊 Exporter      </button>      <button class="btn btn-secondary" (click)="printExits()">        🖨️ Imprimer      </button>      <button class="btn btn-primary" (click)="openAddModal()">        ➕ Nouvelle sortie      </button>    </div>  </header>  <!-- ===== STATISTIQUES ENRICHIES ===== -->  <section class="stats-section">    <div class="stat-card stat-primary">      <div class="stat-icon">📤</div>      <div class="stat-content">        <div class="stat-value">{{ stats.totalExits }}</div>        <div class="stat-label">Sorties totales</div>      </div>    </div>    <div class="stat-card stat-warning">      <div class="stat-icon">📉</div>      <div class="stat-content">        <div class="stat-value">{{ formatNumber(stats.totalQuantity) }}</div>        <div class="stat-label">Unités sorties</div>      </div>    </div>    <div class="stat-card stat-success">      <div class="stat-icon">💰</div>      <div class="stat-content">        <div class="stat-value">{{ formatNumber(stats.totalRevenue) }} F</div>        <div class="stat-label">Revenus (ventes)</div>      </div>    </div>    <div class="stat-card stat-danger">      <div class="stat-icon">❌</div>      <div class="stat-content">        <div class="stat-value">{{ formatNumber(stats.totalLoss) }} F</div>        <div class="stat-label">Pertes totales</div>      </div>    </div>    <div class="stat-card stat-info">      <div class="stat-icon">💵</div>      <div class="stat-content">        <div class="stat-value">{{ stats.averageMargin }}%</div>        <div class="stat-label">Marge moyenne</div>      </div>    </div>    <div class="stat-card stat-success">      <div class="stat-icon">🛒</div>      <div class="stat-content">        <div class="stat-value">{{ stats.salesCount }}</div>        <div class="stat-label">Nombre de ventes</div>      </div>    </div>    <div class="stat-card stat-info">      <div class="stat-icon">🔄</div>      <div class="stat-content">        <div class="stat-value">{{ stats.transfersCount }}</div>        <div class="stat-label">Transferts</div>      </div>    </div>    <div class="stat-card stat-warning" *ngIf="stats.topCustomer">      <div class="stat-icon">👤</div>      <div class="stat-content">        <div class="stat-value">{{ stats.topCustomer }}</div>        <div class="stat-label">Meilleur client</div>      </div>    </div>  </section>  <!-- ===== FILTRES ENRICHIS ===== -->  <section class="filters-section">    <!-- Recherche -->    <div class="search-box">      <input        type="text"        class="search-input"        placeholder="🔍 Rechercher par boisson, client, facture..."        [(ngModel)]="searchTerm"        (ngModelChange)="onSearchChange()">      <button        *ngIf="searchTerm"        class="clear-btn"        (click)="searchTerm = \'\'; onSearchChange()">✕</button>    </div>    <!-- Filtre par cave -->    <div class="filter-group">      <label class="filter-label">Cave :</label>      <select        class="filter-select"        [(ngModel)]="selectedCaveFilter"        (ngModelChange)="onCaveFilterChange()">        <option [ngValue]="null">Toutes les caves</option>        <option *ngFor="let cave of caves" [ngValue]="cave.id">          📍 {{ cave.name }}        </option>      </select>    </div>    <!-- Filtre par type -->    <div class="filter-group">      <label class="filter-label">Type :</label>      <select        class="filter-select"        [(ngModel)]="selectedTypeFilter"        (ngModelChange)="onTypeFilterChange()">        <option [ngValue]="null">Tous les types</option>        <option *ngFor="let type of exitTypes" [ngValue]="type">          {{ getTypeLabel(type) }}        </option>      </select>    </div>    <!-- Filtre par catégorie -->    <div class="filter-group">      <label class="filter-label">Catégorie :</label>      <select        class="filter-select"        [(ngModel)]="selectedCategoryFilter"        (ngModelChange)="onCategoryFilterChange()">        <option [ngValue]="null">Toutes les catégories</option>        <option *ngFor="let category of drinkCategories" [ngValue]="category">          {{ category }}        </option>      </select>    </div>    <!-- Filtre par période -->    <div class="filter-group">      <label class="filter-label">Période :</label>      <select        class="filter-select"        [(ngModel)]="periodFilter"        (ngModelChange)="onPeriodFilterChange()">        <option [value]="7">7 derniers jours</option>        <option [value]="30">30 derniers jours</option>        <option [value]="90">3 derniers mois</option>        <option [value]="0">Toutes les sorties</option>      </select>    </div>    <!-- Bouton de réinitialisation -->    <button      class="btn btn-secondary"      (click)="resetFilters()"      *ngIf="selectedCaveFilter || selectedTypeFilter || selectedCategoryFilter || searchTerm">      🔄 Réinitialiser    </button>  </section>  <!-- ===== CHARGEMENT ===== -->  <div *ngIf="isLoading" class="loading-spinner">    <div class="spinner"></div>    <p>Chargement des sorties...</p>  </div>  <!-- ===== AUCUN RÉSULTAT ===== -->  <div *ngIf="!isLoading && filteredExits.length === 0" class="no-results">    <div class="no-results-icon">📤</div>    <h3>Aucune sortie trouvée</h3>    <p *ngIf="searchTerm || selectedCaveFilter || selectedTypeFilter || selectedCategoryFilter">      Aucune sortie ne correspond à vos critères    </p>    <p *ngIf="!searchTerm && !selectedCaveFilter && !selectedTypeFilter && !selectedCategoryFilter">      Commencez par enregistrer votre première sortie de stock    </p>    <button class="btn btn-primary" (click)="openAddModal()">      ➕ Nouvelle sortie    </button>  </div>  <!-- ===== TABLEAU DES SORTIES ENRICHI ===== -->  <section *ngIf="!isLoading && filteredExits.length > 0" class="exits-table">    <div class="table-wrapper">      <table class="data-table">        <!-- En-têtes -->        <thead>          <tr>            <th>Date</th>            <th>Boisson</th>            <th>Type</th>            <th>Catégorie</th>            <th class="text-center">Quantité</th>            <th class="text-right">Prix Unit.</th>            <th class="text-right">Montant</th>            <th>Client/Destination</th>            <th>Cave</th>            <th class="text-right">Marge</th>            <th class="text-center">Actions</th>          </tr>        </thead>        <!-- Corps -->        <tbody>          <tr *ngFor="let exit of filteredExits"              class="table-row"              [class.recent-exit]="isRecentExit(exit)"              [class.loss-row]="isLoss(exit)">            <!-- Date -->            <td class="date-cell">              <div class="date-main">                {{ formatDate(exit.date).split(\' à \')[0] }}              </div>              <div class="date-relative">{{ getRelativeDate(exit.date) }}</div>            </td>            <!-- Boisson avec icône -->            <td class="drink-cell">              <div class="drink-info">                <span class="drink-icon">{{ exit.drinkIcon }}</span>                <div>                  <div class="drink-name">{{ exit.drinkName }}</div>                  <div class="drink-format">{{ exit.drinkFormat }}</div>                </div>              </div>            </td>            <!-- Type avec badge coloré -->            <td>              <span class="type-badge" [ngClass]="getTypeClass(exit.type)">                {{ getTypeIcon(exit.type) }} {{ getTypeLabel(exit.type).split(\' \')[1] }}              </span>            </td>            <!-- Catégorie -->            <td>              <span class="category-badge" [ngClass]="getCategoryClass(exit.drinkCategory)">                {{ exit.drinkCategory }}              </span>            </td>            <!-- Quantité -->            <td class="text-center quantity-cell">              <span class="quantity-badge">                {{ exit.quantity }}              </span>            </td>            <!-- Prix unitaire -->            <td class="text-right">              {{ formatNumber(exit.unitPrice) }} F            </td>            <!-- Montant total -->            <td class="text-right total-cell">              <strong [class.revenue]="exit.type === \'vente\'"                      [class.loss]="isLoss(exit)">                {{ formatNumber(exit.totalAmount) }} F              </strong>            </td>            <!-- Client/Destination -->            <td class="destination-cell">              <div class="destination-info">                <div class="destination-main" *ngIf="exit.customer">👤 {{ exit.customer }}                </div>                <div class="destination-secondary" *ngIf="!exit.customer && exit.destination">                  {{ exit.destination }}                </div>                <div class="destination-secondary" *ngIf="exit.transferToCaveId">                  🔄 {{ getCaveName(exit.transferToCaveId) }}                </div>              </div>            </td>            <!-- Cave source -->            <td class="cave-cell">              <span class="cave-badge">                📍 {{ getCaveName(exit.caveId) }}              </span>            </td>            <!-- Marge -->            <td class="text-right margin-cell">              <div *ngIf="exit.type === \'vente\'" class="margin-info">                <div class="margin-amount">                  {{ formatNumber(calculateMargin(exit)) }} F                </div>                <div class="margin-rate"                     [class.margin-good]="calculateMarginRate(exit) >= 20"                     [class.margin-medium]="calculateMarginRate(exit) >= 10 && calculateMarginRate(exit) < 20"                     [class.margin-low]="calculateMarginRate(exit) < 10">                  {{ calculateMarginRate(exit) }}%                </div>              </div>              <span *ngIf="exit.type !== \'vente\'" class="margin-na">—</span>            </td>            <!-- Actions -->            <td class="text-center actions-cell">              <button                class="btn-icon"                title="Voir les détails"                (click)="viewExitDetails(exit)">                👁️              </button>              <button                class="btn-icon btn-danger"                title="Supprimer"                (click)="deleteExit(exit)">                🗑️              </button>            </td>          </tr>        </tbody>      </table>    </div>  </section>  <!-- ===== MODAL AJOUT DE SORTIE ENRICHI ===== -->  <div *ngIf="isAddModalOpen" class="modal-overlay" (click)="closeAddModal()">    <div class="modal-container modal-large" (click)="$event.stopPropagation()">      <!-- En-tête -->      <header class="modal-header">        <h2 class="modal-title">➕ Nouvelle Sortie de Stock</h2>        <button class="modal-close-btn" (click)="closeAddModal()">✕</button>      </header>      <!-- Corps -->      <div class="modal-body">        <form class="exit-form">          <!-- SECTION 1: SÉLECTION BOISSON ET TYPE -->          <div class="form-section">            <h3 class="section-title">📦 Produit et type de sortie</h3>            <div class="form-group">              <label class="form-label" for="exit-drink">                Boisson <span class="required">*</span>              </label>              <select                id="exit-drink"                class="form-input"                [(ngModel)]="exitForm.drinkId"                name="drinkId"                (ngModelChange)="onDrinkSelected()"                required>                <option value="">Sélectionner une boisson...</option>                <option *ngFor="let drink of drinks" [value]="drink.id">                  {{ drink.icon }} {{ drink.name }} ({{ drink.format }}) - Stock: {{ drink.stock }}                </option>              </select>            </div>            <div class="form-group">              <label class="form-label" for="exit-type">                Type de sortie <span class="required">*</span>              </label>              <select                id="exit-type"                class="form-input"                [(ngModel)]="exitForm.type"                name="type"                (ngModelChange)="onTypeChange()"                required>                <option *ngFor="let type of exitTypes" [value]="type">                  {{ getTypeLabel(type) }}                </option>              </select>              <small class="helper-text">                <span *ngIf="exitForm.type === \'vente\'">💡 Pour une vente à un client</span>                <span *ngIf="exitForm.type === \'transfert\'">💡 Pour un transfert vers une autre cave</span>                <span *ngIf="exitForm.type === \'perte\'">💡 Pour une perte de stock</span>                <span *ngIf="exitForm.type === \'casse\'">💡 Pour des produits cassés</span>                <span *ngIf="exitForm.type === \'peremption\'">💡 Pour des produits périmés</span>                <span *ngIf="exitForm.type === \'degustation\'">💡 Pour une dégustation</span>              </small>            </div>          </div>          <!-- SECTION 2: QUANTITÉ ET TARIFICATION -->          <div class="form-section" *ngIf="exitForm.drinkId">            <h3 class="section-title">🔢 Quantité et tarification</h3>            <div class="form-row">              <div class="form-group">                <label class="form-label" for="exit-quantity">                  Quantité <span class="required">*</span>                </label>                <input                  type="number"                  id="exit-quantity"                  class="form-input"                  [(ngModel)]="exitForm.quantity"                  name="quantity"                  min="1"                  (ngModelChange)="calculateTotalAmount()"                  placeholder="Ex: 24"                  required>              </div>              <div class="form-group">                <label class="form-label" for="exit-price">                  Prix unitaire (FCFA) <span class="required">*</span>                </label>                <input                  type="number"                  id="exit-price"                  class="form-input"                  [(ngModel)]="exitForm.unitPrice"                  name="unitPrice"                  min="0"                  (ngModelChange)="calculateTotalAmount()"                  placeholder="Ex: 800"                  required>              </div>            </div>            <!-- Montant total calculé -->            <div class="total-amount-display" [class.revenue-display]="exitForm.type === \'vente\'">              <span class="total-label">                {{ exitForm.type === \'vente\' ? \'💵 Montant de la vente\' : \'💰 Montant total\' }} :              </span>              <span class="total-value">                {{ formatNumber(exitForm.totalAmount) }} FCFA              </span>            </div>          </div>          <!-- SECTION 3: CAVE SOURCE -->          <div class="form-section">            <h3 class="section-title">📍 Cave source</h3>            <div class="form-group">              <label class="form-label" for="exit-cave">                Cave de prélèvement <span class="required">*</span>              </label>              <select                id="exit-cave"                class="form-input"                [(ngModel)]="exitForm.caveId"                name="caveId"                required>                <option value="">Sélectionner une cave...</option>                <option *ngFor="let cave of caves" [value]="cave.id">                  📍 {{ cave.name }} - {{ cave.location }}                </option>              </select>            </div>          </div>          <!-- SECTION 4: DESTINATION (selon le type) -->          <!-- Pour VENTE : Client -->          <div class="form-section" *ngIf="exitForm.type === \'vente\'">            <h3 class="section-title">👤 Informations client</h3>            <div class="form-group">              <label class="form-label" for="exit-customer">                Nom du client <span class="required">*</span>              </label>              <input                type="text"                id="exit-customer"                class="form-input"                [(ngModel)]="exitForm.customer"                name="customer"                placeholder="Ex: Restaurant Le Gourmet"                required>            </div>            <div class="form-group">              <label class="form-label" for="exit-customer-contact">                Contact du client              </label>              <input                type="text"                id="exit-customer-contact"                class="form-input"                [(ngModel)]="exitForm.customerContact"                name="customerContact"                placeholder="Ex: +225 07 00 00 00 00">            </div>            <div class="form-group">              <label class="form-label" for="exit-destination">                Adresse de livraison              </label>              <input                type="text"                id="exit-destination"                class="form-input"                [(ngModel)]="exitForm.destination"                name="destination"                placeholder="Ex: Cocody, Rue des Jardins">            </div>            <div class="form-row">              <div class="form-group">                <label class="form-label" for="exit-invoice">                  Numéro de facture                </label>                <input                  type="text"                  id="exit-invoice"                  class="form-input"                  [(ngModel)]="exitForm.invoiceNumber"                  name="invoiceNumber"                  placeholder="Ex: FACT-2024-001">              </div>              <div class="form-group">                <label class="form-label" for="exit-delivery">                  Bon de livraison                </label>                <input                  type="text"                  id="exit-delivery"                  class="form-input"                  [(ngModel)]="exitForm.deliveryNote"                  name="deliveryNote"                  placeholder="Ex: BL-2024-001">              </div>            </div>          </div>          <!-- Pour TRANSFERT : Cave destination -->          <div class="form-section" *ngIf="exitForm.type === \'transfert\'">            <h3 class="section-title">🔄 Cave de destination</h3>            <div class="form-group">              <label class="form-label" for="exit-transfer-cave">                Cave de destination <span class="required">*</span>              </label>              <select                id="exit-transfer-cave"                class="form-input"                [(ngModel)]="exitForm.transferToCaveId"                name="transferToCaveId"                required>                <option value="">Sélectionner une cave...</option>                <option *ngFor="let cave of caves"                        [value]="cave.id"                        [disabled]="cave.id === exitForm.caveId">                  📍 {{ cave.name }} - {{ cave.location }}                </option>              </select>              <small class="helper-text">                💡 La cave de destination doit être différente de la cave source              </small>            </div>          </div>          <!-- Pour PERTE/CASSE/PÉREMPTION : Motif -->          <div class="form-section" *ngIf="[\'perte\', \'casse\', \'peremption\'].includes(exitForm.type)">            <h3 class="section-title">⚠️ Informations sur la {{ exitForm.type }}</h3>            <div class="form-group">              <label class="form-label" for="exit-loss-reason">                Motif de la {{ exitForm.type }} <span class="required">*</span>              </label>              <textarea                id="exit-loss-reason"                class="form-textarea"                [(ngModel)]="exitForm.lossReason"                name="lossReason"                rows="3"                placeholder="Décrivez la raison de la {{ exitForm.type }}..."                required></textarea>            </div>            <div class="form-group" *ngIf="exitForm.type === \'casse\'">              <label class="form-label" for="exit-breakage">                Détails de la casse              </label>              <textarea                id="exit-breakage"                class="form-textarea"                [(ngModel)]="exitForm.breakageDetails"                name="breakageDetails"                rows="3"                placeholder="Circonstances de la casse, responsabilité..."></textarea>            </div>          </div>          <!-- Pour DÉGUSTATION : Détails -->          <div class="form-section" *ngIf="exitForm.type === \'degustation\'">            <h3 class="section-title">🍷 Informations sur la dégustation</h3>            <div class="form-group">              <label class="form-label" for="exit-tasting-destination">                Événement / Clients              </label>              <input                type="text"                id="exit-tasting-destination"                class="form-input"                [(ngModel)]="exitForm.destination"                name="destination"                placeholder="Ex: Séance de dégustation clients VIP">            </div>            <div class="form-group">              <label class="form-label" for="exit-tasting-customer">                Participants              </label>              <input                type="text"                id="exit-tasting-customer"                class="form-input"                [(ngModel)]="exitForm.customer"                name="customer"                placeholder="Ex: 15 clients VIP">            </div>          </div>          <!-- SECTION 5: NOTES -->          <div class="form-section">            <h3 class="section-title">📝 Notes et commentaires</h3>            <div class="form-group">              <label class="form-label" for="exit-notes">                Notes ou observations              </label>              <textarea                id="exit-notes"                class="form-textarea"                [(ngModel)]="exitForm.notes"                name="notes"                rows="4"                placeholder="Ajoutez des notes sur cette sortie..."></textarea>            </div>          </div>          <!-- SECTION 6: SUGGESTIONS D\'ACCORDS (pour ventes) -->          <div class="form-section" *ngIf="exitForm.type === \'vente\' && winePairingSuggestions.length > 0">            <h3 class="section-title">🍽️ Suggestions pour votre client</h3>            <p class="section-description">              Recommandations d\'accords mets-vins à partager avec votre client :            </p>            <div class="wine-pairing-suggestions">              <div class="pairing-card" *ngFor="let suggestion of winePairingSuggestions">                <div class="pairing-icon">{{ suggestion.dishIcon }}</div>                <div class="pairing-content">                  <h4 class="pairing-dish">{{ suggestion.dish }}</h4>                  <p class="pairing-description">{{ suggestion.description }}</p>                  <div class="pairing-temperature">                    🌡️ Servir à {{ suggestion.temperature }}                  </div>                </div>              </div>            </div>          </div>        </form>      </div>      <!-- Pied -->      <footer class="modal-footer">        <button class="btn btn-cancel" (click)="closeAddModal()">          Annuler        </button>        <button class="btn btn-primary" (click)="saveExit()">          💾 Enregistrer la sortie        </button>      </footer>    </div>  </div>  <!-- ===== MODAL DÉTAILS DE SORTIE ===== -->  <div *ngIf="isDetailModalOpen && selectedExit" class="modal-overlay" (click)="closeDetailModal()">    <div class="modal-container modal-large" (click)="$event.stopPropagation()">      <!-- En-tête -->      <header class="modal-header">        <h2 class="modal-title">          {{ selectedExit.drinkIcon }} Détails de la sortie - {{ selectedExit.drinkName }}        </h2>        <button class="modal-close-btn" (click)="closeDetailModal()">✕</button>      </header>      <!-- Corps -->      <div class="modal-body">        <div class="details-content">          <!-- Informations générales -->          <div class="detail-section">            <h3 class="detail-section-title">📦 Informations générales</h3>            <div class="detail-grid">              <div class="detail-item">                <span class="detail-label">Date de sortie :</span>                <span class="detail-value">{{ formatDate(selectedExit.date) }}</span>              </div>              <div class="detail-item">                <span class="detail-label">Type :</span>                <span class="detail-value badge" [ngClass]="getTypeClass(selectedExit.type)">                  {{ getTypeLabel(selectedExit.type) }}                </span>              </div>              <div class="detail-item">                <span class="detail-label">Boisson :</span>                <span class="detail-value">                  {{ selectedExit.drinkIcon }} {{ selectedExit.drinkName }}                </span>              </div>              <div class="detail-item">                <span class="detail-label">Catégorie :</span>                <span class="detail-value badge" [ngClass]="getCategoryClass(selectedExit.drinkCategory)">                  {{ selectedExit.drinkCategory }}                </span>              </div>              <div class="detail-item">                <span class="detail-label">Format :</span>                <span class="detail-value">{{ selectedExit.drinkFormat }}</span>              </div>              <div class="detail-item">                <span class="detail-label">Cave source :</span>                <span class="detail-value">📍 {{ getCaveName(selectedExit.caveId) }}</span>              </div>            </div>          </div>          <!-- Quantité et tarification -->          <div class="detail-section">            <h3 class="detail-section-title">💰 Quantité et tarification</h3>            <div class="detail-grid">              <div class="detail-item">                <span class="detail-label">Quantité :</span>                <span class="detail-value highlight">{{ selectedExit.quantity }} unités</span>              </div>              <div class="detail-item">                <span class="detail-label">Prix unitaire :</span>                <span class="detail-value">{{ formatNumber(selectedExit.unitPrice) }} FCFA</span>              </div>              <div class="detail-item">                <span class="detail-label">Montant total :</span>                <span class="detail-value highlight-success">                  {{ formatNumber(selectedExit.totalAmount) }} FCFA                </span>              </div>              <div class="detail-item" *ngIf="selectedExit.type === \'vente\'">                <span class="detail-label">Marge réalisée :</span>                <span class="detail-value highlight-success">                  {{ formatNumber(calculateMargin(selectedExit)) }} FCFA ({{ calculateMarginRate(selectedExit) }}%)                </span>              </div>            </div>          </div>          <!-- Client (vente) -->          <div class="detail-section" *ngIf="selectedExit.type === \'vente\' && selectedExit.customer">            <h3 class="detail-section-title">👤 Informations client</h3>            <div class="detail-grid">              <div class="detail-item">                <span class="detail-label">Client :</span>                <span class="detail-value">{{ selectedExit.customer }}</span>              </div>              <div class="detail-item" *ngIf="selectedExit.customerContact">                <span class="detail-label">Contact :</span>                <span class="detail-value">{{ selectedExit.customerContact }}</span>              </div>              <div class="detail-item" *ngIf="selectedExit.destination">                <span class="detail-label">Adresse :</span>                <span class="detail-value">{{ selectedExit.destination }}</span>              </div>              <div class="detail-item" *ngIf="selectedExit.invoiceNumber">                <span class="detail-label">Facture :</span>                <span class="detail-value">📄 {{ selectedExit.invoiceNumber }}</span>              </div>              <div class="detail-item" *ngIf="selectedExit.deliveryNote">                <span class="detail-label">Bon de livraison :</span>                <span class="detail-value">📋 {{ selectedExit.deliveryNote }}</span>              </div>            </div>          </div>          <!-- Transfert -->          <div class="detail-section" *ngIf="selectedExit.type === \'transfert\' && selectedExit.transferToCaveId">            <h3 class="detail-section-title">🔄 Informations de transfert</h3>            <div class="detail-grid">              <div class="detail-item">                <span class="detail-label">Cave source :</span>                <span class="detail-value">📍 {{ getCaveName(selectedExit.caveId) }}</span>              </div>              <div class="detail-item">                <span class="detail-label">Cave destination :</span>                <span class="detail-value">📍 {{ getCaveName(selectedExit.transferToCaveId) }}</span>              </div>            </div>          </div>          <!-- Perte/Casse/Péremption -->          <div class="detail-section" *ngIf="isLoss(selectedExit)">            <h3 class="detail-section-title">⚠️ Informations sur la {{ selectedExit.type }}</h3>            <div class="detail-grid">              <div class="detail-item full-width" *ngIf="selectedExit.lossReason">                <span class="detail-label">Motif :</span>                <span class="detail-value">{{ selectedExit.lossReason }}</span>              </div>              <div class="detail-item full-width" *ngIf="selectedExit.breakageDetails">                <span class="detail-label">Détails de la casse :</span>                <span class="detail-value">{{ selectedExit.breakageDetails }}</span>              </div>              <div class="detail-item" *ngIf="selectedExit.expiryDate">                <span class="detail-label">Date de péremption :</span>                <span class="detail-value">                  {{ formatDate(selectedExit.expiryDate).split(\' à \')[0] }}                </span>              </div>            </div>          </div>          <!-- Traité par -->          <div class="detail-section">            <h3 class="detail-section-title">👨‍💼 Traitement</h3>            <div class="detail-grid">              <div class="detail-item">                <span class="detail-label">Traité par :</span>                <span class="detail-value">{{ selectedExit.processedByName || selectedExit.processedBy }}</span>              </div>            </div>          </div>          <!-- Notes -->          <div class="detail-section" *ngIf="selectedExit.notes">            <h3 class="detail-section-title">📝 Notes</h3>            <div class="detail-notes">              {{ selectedExit.notes }}            </div>          </div>          <!-- Suggestions d\'accords (ventes) -->          <div class="detail-section" *ngIf="selectedExit.type === \'vente\' && winePairingSuggestions.length > 0">            <h3 class="detail-section-title">🍽️ Suggestions d\'accords mets-vins</h3>            <div class="wine-pairing-suggestions">              <div class="pairing-card" *ngFor="let suggestion of winePairingSuggestions">                <div class="pairing-icon">{{ suggestion.dishIcon }}</div>                <div class="pairing-content">                  <h4 class="pairing-dish">{{ suggestion.dish }}</h4>                  <p class="pairing-description">{{ suggestion.description }}</p>                  <div class="pairing-temperature">                    🌡️ Servir à {{ suggestion.temperature }}                  </div>                </div>              </div>            </div>          </div>        </div>      </div>      <!-- Pied -->      <footer class="modal-footer">        <button class="btn btn-secondary" (click)="closeDetailModal()">          Fermer        </button>      </footer>    </div>  </div></div></div>'
    var COMPONENTS = [{'name': 'AboutComponent', 'selector': 'app-about'},{'name': 'AdminDashboardComponent', 'selector': 'app-admin-dashboard'},{'name': 'AlertsComponent', 'selector': 'app-alerts'},{'name': 'App', 'selector': 'app-root'},{'name': 'CaisseComponent', 'selector': 'app-caisse'},{'name': 'CaveCreateComponent', 'selector': 'app-cave-create'},{'name': 'CaveListComponent', 'selector': 'app-cave-lists'},{'name': 'ClientDashboardComponent', 'selector': 'app-client-dashboard'},{'name': 'ClientsComponent', 'selector': 'app-client'},{'name': 'ContactComponent', 'selector': 'app-contact'},{'name': 'DrinksComponent', 'selector': 'app-drinks'},{'name': 'EmployeesComponent', 'selector': 'app-employees'},{'name': 'EntriesComponent', 'selector': 'app-entries'},{'name': 'ExitsComponent', 'selector': 'app-exits'},{'name': 'ExpenseComponent', 'selector': 'app-depenses'},{'name': 'FaqComponent', 'selector': 'app-faq'},{'name': 'FournisseursComponent', 'selector': 'app-fournisseur'},{'name': 'HomeComponent', 'selector': 'app-home'},{'name': 'ImprovementsComponent', 'selector': 'app-improvements'},{'name': 'LoginComponent', 'selector': 'app-login'},{'name': 'ManagerDashboardComponent', 'selector': 'app-manager-dashboard'},{'name': 'ManagersComponent', 'selector': 'app-managers'},{'name': 'MaterialComponent', 'selector': 'app-materiel'},{'name': 'NotFoundComponent', 'selector': 'app-not-found'},{'name': 'OrdersComponent', 'selector': 'app-orders'},{'name': 'ProfileComponent', 'selector': 'app-profile'},{'name': 'ProfitComponent', 'selector': 'app-profit'},{'name': 'RecentActionsComponent', 'selector': 'app-recent-actions'},{'name': 'ReportsComponent', 'selector': 'app-reports'},{'name': 'SalesComponent', 'selector': 'app-sales'},{'name': 'ScanComponent', 'selector': 'app-scan'},{'name': 'SettingsComponent', 'selector': 'app-settings'},{'name': 'SettingsComponent', 'selector': 'app-settings'},{'name': 'StockComponent', 'selector': 'app-stock'},{'name': 'StockComponent', 'selector': 'app-stock'},{'name': 'TeamComponent', 'selector': 'app-team'},{'name': 'ThemeToggleComponent', 'selector': 'app-theme-toggle'},{'name': 'UserCreateComponent', 'selector': 'app-user-create'},{'name': 'UserListComponent', 'selector': 'app-user-list'},{'name': 'UserProfileComponent', 'selector': 'app-user-profile'},{'name': 'WaitressDashboardComponent', 'selector': 'app-waitress-dashboard'},{'name': 'WinePairingComponent', 'selector': 'app-wine-pairing'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'ExitsComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'ExitsComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
