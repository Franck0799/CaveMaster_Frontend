<!-- ==========================================
     FICHIER: src/app/client/client-layout/client-layout.component.html
     DESCRIPTION: Template du layout principal client
     ========================================== -->

<div class="client-layout">

  <!-- Sidebar - Menu Ã  gauche -->
  <aside class="sidebar" [class.sidebar-open]="sidebarOpen">

    <!-- Header du sidebar avec logo -->
    <div class="sidebar-header">
      <div class="logo" routerLink="/client/home" style="cursor: pointer;">
       <span class="logo-icon">ğŸ·</span>
        <div class="logo-text">
          <h1 class="logo-title">VinothÃ¨queÂ®</h1>
          <p class="logo-subtitle">Votre destination pour les meilleurs vins de France</p>
        </div>
      </div>

      <!-- Bouton fermer sur mobile -->
      <button class="btn-close-sidebar" (click)="toggleSidebar()">
        <span class="close-icon">âœ•</span>
      </button>
    </div>

    <!-- Profil utilisateur -->
    <div class="user-profile">
      <div class="user-avatar">{{ user.avatar }}</div>
      <div class="user-info">
        <h3 class="user-name">{{ user.name }}</h3>
        <p class="user-email">{{ user.email }}</p>
      </div>
    </div>

    <!-- Navigation principale -->
    <nav class="sidebar-nav">
      <div class="nav-section" *ngFor="let section of menuSections">
        <h4 class="nav-section-title" *ngIf="section.title">{{ section.title }}</h4>
        <ul class="nav-list">
          <li *ngFor="let item of section.items">
            <a class="nav-item"
                [routerLink]="item.route"
                routerLinkActive="active"
                [routerLinkActiveOptions]="{exact: false}">
              <span class="nav-icon">{{ item.icon }}</span>
              <span class="nav-label">{{ item.label }}</span>
              <span class="nav-badge" *ngIf="item.badge">{{ item.badge }}</span>
            </a>
          </li>
          <!-- Dans la section navigation, ajouter aprÃ¨s "Mes commandes" -->
          <li>
            <a class="nav-item"
              routerLink="/client/cart"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{exact: false}">
              <span class="nav-icon">ğŸ›’</span>
              <span class="nav-label">Mon Panier</span>
              <span class="nav-badge" *ngIf="(cartCount$ | async)! > 0">
                {{ cartCount$ | async }}
              </span>
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Footer du sidebar -->
    <div class="sidebar-footer">
      <h4 class="footer-title">Contact</h4>
      <div class="contact-info">
        <p class="contact-item">
          <span class="contact-icon">ğŸ“§</span>
          <span class="contact-text">contact@vinotheque.fr</span>
        </p>
        <p class="contact-item">
          <span class="contact-icon">ğŸ“</span>
          <span class="contact-text">+33 1 23 45 67 89</span>
        </p>
        <p class="contact-item">
          <span class="contact-icon">ğŸ“</span>
          <span class="contact-text">Paris, France</span>
        </p>
      </div>
    </div>

  </aside>

  <!-- Overlay pour fermer le sidebar sur mobile -->
  <div class="sidebar-overlay"
       *ngIf="sidebarOpen"
       (click)="toggleSidebar()"></div>

  <!-- Contenu principal -->
  <div class="main-content">

    <!-- Header du contenu avec bouton menu mobile -->
    <header class="content-header">
      <button class="btn-menu-mobile" (click)="toggleSidebar()">
        <span class="menu-icon">â˜°</span>
      </button>
      <div class="header-spacer"></div>
    </header>

    <!-- Zone de contenu dynamique (router-outlet) -->
    <div class="content-area">
      <router-outlet></router-outlet>
    </div>

  </div>

</div>
