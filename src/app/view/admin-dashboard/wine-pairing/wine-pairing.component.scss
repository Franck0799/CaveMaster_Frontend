// ===== Variables =====
$primary-color: #4f46e5;
$secondary-color: #6366f1;
$success-color: #10b981;
$danger-color: #ef4444;
$warning-color: #f59e0b;
$info-color: #3b82f6;
$bg-light: #f8fafc;
$bg-white: #ffffff;
$text-primary: #1e293b;
$text-secondary: #64748b;
$text-light: #94a3b8;
$border-color: #e2e8f0;
$wine-red: #722f37;
$wine-white: #f5e6d3;

// ===== Page principale =====
.page-section {
  padding: 2rem; // Espacement général
  background: $bg-light; // Fond clair
  min-height: 100vh; // Hauteur minimale
}

.content-section {
  max-width: 1400px; // Largeur maximale
  margin: 0 auto; // Centrage
}

// ===== En-tête =====
.section-header {
  display: flex; // Flexbox
  justify-content: space-between; // Espace entre éléments
  align-items: flex-start; // Alignement en haut
  margin-bottom: 2rem; // Marge en bas
  
  .header-left {
    .section-title-main {
      font-size: 2rem; // Grande taille
      font-weight: 700; // Très gras
      color: $text-primary; // Couleur sombre
      margin: 0 0 0.5rem 0; // Marge en bas
    }
    
    .section-subtitle {
      font-size: 0.9rem; // Petite taille
      color: $text-secondary; // Couleur grise
      margin: 0;
    }
  }
  
  .header-actions {
    display: flex; // Flexbox
    gap: 0.75rem; // Espace entre boutons
  }
}

// ===== Conteneur de filtres =====
.filters-container {
  background: $bg-white; // Fond blanc
  border-radius: 12px; // Coins arrondis
  padding: 1.5rem; // Espacement interne
  margin-bottom: 2rem; // Marge en bas
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); // Ombre légère
}

// ===== Barre de recherche =====
.search-box {
  position: relative; // Pour positionner les icônes
  margin-bottom: 1.5rem; // Marge en bas
  
  .search-icon {
    position: absolute; // Position absolue
    left: 1rem; // Décalage à gauche
    top: 50%; // Centrage vertical
    transform: translateY(-50%); // Ajustement centrage
    color: $text-secondary; // Couleur grise
    font-size: 1.125rem; // Taille icône
  }
  
  .search-input {
    width: 100%; // Largeur totale
    padding: 0.875rem 3rem 0.875rem 3rem; // Espacement (place pour icônes)
    border: 2px solid $border-color; // Bordure grise
    border-radius: 10px; // Coins arrondis
    font-size: 1rem; // Taille du texte
    transition: all 0.2s ease; // Animation
    
    &:focus {
      outline: none; // Pas de contour
      border-color: $primary-color; // Bordure bleue
      box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); // Ombre bleue
    }
    
    &::placeholder {
      color: $text-light; // Couleur grise claire
    }
    
    &.icon-select {
      width: 80px; // Largeur fixe pour sélecteur d'icônes
      text-align: center; // Centrage du texte
      font-size: 2rem; // Grande taille pour emojis
    }
  }
  
  .form-textarea {
    width: 100%; // Largeur totale
    padding: 0.75rem; // Espacement interne
    border: 1px solid $border-color; // Bordure grise
    border-radius: 8px; // Coins arrondis
    font-size: 0.9rem; // Taille du texte
    font-family: inherit; // Police héritée
    resize: vertical; // Redimensionnable verticalement
    transition: all 0.2s ease; // Animation
    
    &:focus {
      outline: none; // Pas de contour
      border-color: $primary-color; // Bordure bleue
      box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); // Ombre bleue
    }
    
    &::placeholder {
      color: $text-light; // Couleur grise claire
    }
  }
  
  .form-hint {
    display: block; // Bloc
    margin-top: 0.25rem; // Marge en haut
    font-size: 0.75rem; // Très petite taille
    color: $text-secondary; // Couleur grise
    font-style: italic; // Italique
  }
}

// ===== Tags dans formulaire =====
.tags-container {
  display: flex; // Flexbox
  flex-wrap: wrap; // Retour à la ligne
  gap: 0.5rem; // Espace entre tags
  margin-bottom: 1rem; // Marge en bas
  
  .tag-removable {
    display: inline-flex; // Flexbox inline
    align-items: center; // Centrage vertical
    gap: 0.5rem; // Espace entre texte et bouton
    padding: 0.375rem 0.75rem; // Espacement interne
    background: $primary-color; // Fond bleu
    color: white; // Texte blanc
    border-radius: 20px; // Très arrondi
    font-size: 0.8rem; // Petite taille
    font-weight: 500; // Poids moyen
    
    .tag-remove {
      background: transparent; // Fond transparent
      border: none; // Pas de bordure
      color: white; // Couleur blanche
      cursor: pointer; // Curseur pointeur
      padding: 0; // Pas d'espacement
      display: flex; // Centrage
      align-items: center; // Centrage vertical
      transition: transform 0.2s ease; // Animation
      
      i {
        font-size: 0.75rem; // Petite taille
      }
      
      &:hover {
        transform: scale(1.2); // Agrandissement
      }
    }
  }
}

.tag-input-group {
  display: flex; // Flexbox
  gap: 0.5rem; // Espace entre input et bouton
  
  .form-input {
    flex: 1; // Prend l'espace disponible
  }
}

// ===== Responsive (tablette) =====
@media (max-width: 968px) {
  .pairing-grid {
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); // Colonnes plus petites
  }
  
  .section-header {
    flex-direction: column; // Direction verticale
    align-items: flex-start; // Alignement à gauche
    gap: 1rem; // Espace entre éléments
    
    .header-actions {
      width: 100%; // Largeur totale
      justify-content: flex-start; // Alignement à gauche
    }
  }
  
  .filters-row {
    flex-direction: column; // Direction verticale
    
    .filter-group {
      width: 100%; // Largeur totale
    }
  }
  
  .form-row {
    flex-direction: column; // Direction verticale
  }
}

// ===== Responsive (mobile) =====
@media (max-width: 640px) {
  .page-section {
    padding: 1rem; // Espacement réduit
  }
  
  .pairing-grid {
    grid-template-columns: 1fr; // Une seule colonne
  }
  
  .pairing-card {
    .pairing-content {
      flex-direction: column; // Direction verticale
      gap: 1rem; // Espace entre éléments
      
      .pairing-connector {
        transform: rotate(90deg); // Rotation de la flèche
        margin: 0; // Pas de marges
      }
    }
  }
  
  .header-actions {
    flex-direction: column; // Direction verticale
    width: 100%; // Largeur totale
    
    .btn {
      width: 100%; // Largeur totale
      justify-content: center; // Centrage du contenu
    }
  }
  
  .modal-content {
    max-height: 100vh; // Hauteur totale
    border-radius: 0; // Pas de coins arrondis
    
    &.modal-large {
      max-width: 100%; // Largeur totale
    }
  }
  
  .modal-footer {
    flex-direction: column; // Direction verticale
    
    .btn {
      width: 100%; // Largeur totale
      justify-content: center; // Centrage du contenu
    }
  }
}

// ===== Impression =====
@media print {
  .section-header,
  .filters-container,
  .pairing-actions,
  .header-actions {
    display: none; // Masquer lors de l'impression
  }
  
  .pairing-grid {
    grid-template-columns: repeat(2, 1fr); // 2 colonnes pour impression
  }
  
  .pairing-card {
    break-inside: avoid; // Éviter la coupure de carte
    page-break-inside: avoid; // Compatibilité navigateurs
    box-shadow: none; // Pas d'ombre
    border: 1px solid $border-color; // Bordure simple
  }
}
: $text-light; // Couleur grise claire
    }
  }
  
  .clear-btn {
    position: absolute; // Position absolue
    right: 1rem; // Décalage à droite
    top: 50%; // Centrage vertical
    transform: translateY(-50%); // Ajustement centrage
    background: transparent; // Fond transparent
    border: none; // Pas de bordure
    color: $text-secondary; // Couleur grise
    cursor: pointer; // Curseur pointeur
    padding: 0.5rem; // Espacement
    transition: color 0.2s ease; // Animation
    
    &:hover {
      color: $danger-color; // Rouge au survol
    }
  }
}

// ===== Ligne de filtres =====
.filters-row {
  display: flex; // Flexbox
  gap: 1rem; // Espace entre filtres
  align-items: flex-end; // Alignement en bas
  
  .filter-group {
    flex: 1; // Prend l'espace disponible
    
    .filter-label {
      display: block; // Bloc
      margin-bottom: 0.5rem; // Marge en bas
      font-size: 0.875rem; // Petite taille
      font-weight: 600; // Semi-gras
      color: $text-primary; // Couleur sombre
      
      i {
        margin-right: 0.5rem; // Marge à droite de l'icône
        color: $primary-color; // Couleur bleue
      }
    }
    
    .filter-select {
      width: 100%; // Largeur totale
      padding: 0.75rem; // Espacement interne
      border: 1px solid $border-color; // Bordure grise
      border-radius: 8px; // Coins arrondis
      font-size: 0.9rem; // Taille du texte
      color: $text-primary; // Couleur sombre
      background: $bg-white; // Fond blanc
      cursor: pointer; // Curseur pointeur
      transition: all 0.2s ease; // Animation
      
      &:focus {
        outline: none; // Pas de contour
        border-color: $primary-color; // Bordure bleue
        box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); // Ombre bleue
      }
    }
  }
}

// ===== État de chargement =====
.loading-state {
  display: flex; // Flexbox
  flex-direction: column; // Direction verticale
  align-items: center; // Centrage horizontal
  justify-content: center; // Centrage vertical
  padding: 4rem; // Grand espacement
  
  .spinner {
    width: 50px; // Largeur
    height: 50px; // Hauteur
    border: 4px solid $border-color; // Bordure grise
    border-top-color: $primary-color; // Bordure bleue en haut
    border-radius: 50%; // Forme circulaire
    animation: spin 1s linear infinite; // Animation rotation
    margin-bottom: 1rem; // Marge en bas
  }
  
  p {
    color: $text-secondary; // Couleur grise
    font-size: 1rem; // Taille normale
  }
}

// Animation de rotation
@keyframes spin {
  to { transform: rotate(360deg); }
}

// ===== Grille des accords =====
.pairing-grid {
  display: grid; // Grille CSS
  grid-template-columns: repeat(auto-fill, minmax(380px, 1fr)); // Colonnes adaptatives
  gap: 1.5rem; // Espace entre cartes
}

// ===== Carte d'accord =====
.pairing-card {
  background: $bg-white; // Fond blanc
  border-radius: 12px; // Coins arrondis
  padding: 1.5rem; // Espacement interne
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); // Ombre légère
  transition: all 0.3s ease; // Animation
  position: relative; // Pour positionnement absolu des enfants
  
  &:hover {
    transform: translateY(-4px); // Déplacement vers le haut
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15); // Ombre plus prononcée
  }
  
  // En-tête de la carte
  .pairing-header {
    display: flex; // Flexbox
    justify-content: space-between; // Espace entre éléments
    align-items: center; // Centrage vertical
    margin-bottom: 1.5rem; // Marge en bas
    
    .pairing-category {
      display: inline-block; // Inline block
      padding: 0.375rem 0.875rem; // Espacement interne
      background: linear-gradient(135deg, rgba(79, 70, 229, 0.1), rgba(99, 102, 241, 0.1)); // Dégradé
      color: $primary-color; // Texte bleu
      border-radius: 20px; // Très arrondi
      font-size: 0.75rem; // Petite taille
      font-weight: 600; // Semi-gras
      text-transform: uppercase; // Majuscules
      letter-spacing: 0.5px; // Espacement des lettres
    }
    
    .pairing-rating {
      display: flex; // Flexbox
      gap: 0.125rem; // Petit espace entre étoiles
      
      .star {
        font-size: 0.875rem; // Taille des étoiles
      }
    }
  }
  
  // Contenu principal
  .pairing-content {
    display: flex; // Flexbox
    align-items: center; // Centrage vertical
    justify-content: space-between; // Espace entre éléments
    margin-bottom: 1.5rem; // Marge en bas
    
    .pairing-item {
      flex: 1; // Prend l'espace disponible
      display: flex; // Flexbox
      flex-direction: column; // Direction verticale
      align-items: center; // Centrage horizontal
      text-align: center; // Centrage du texte
      
      .pairing-icon {
        width: 70px; // Largeur fixe
        height: 70px; // Hauteur fixe
        border-radius: 50%; // Forme circulaire
        display: flex; // Centrage
        align-items: center; // Centrage vertical
        justify-content: center; // Centrage horizontal
        font-size: 2.5rem; // Grande taille emoji
        margin-bottom: 0.75rem; // Marge en bas
        
        &.dish-icon {
          background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(251, 191, 36, 0.1)); // Dégradé orange
        }
        
        &.wine-icon {
          background: linear-gradient(135deg, rgba(114, 47, 55, 0.1), rgba(185, 28, 28, 0.1)); // Dégradé rouge vin
        }
      }
      
      .pairing-details {
        .pairing-label {
          font-size: 0.75rem; // Petite taille
          color: $text-secondary; // Couleur grise
          text-transform: uppercase; // Majuscules
          letter-spacing: 0.5px; // Espacement des lettres
          margin-bottom: 0.25rem; // Petite marge
        }
        
        .pairing-name {
          font-size: 1rem; // Taille normale
          font-weight: 600; // Semi-gras
          color: $text-primary; // Couleur sombre
          margin-bottom: 0.125rem; // Petite marge
        }
        
        .pairing-type {
          font-size: 0.8rem; // Petite taille
          color: $wine-red; // Couleur rouge vin
          font-weight: 500; // Poids moyen
        }
      }
    }
    
    .pairing-connector {
      font-size: 1.5rem; // Grande taille
      color: $primary-color; // Couleur bleue
      margin: 0 1rem; // Marges horizontales
    }
  }
  
  // Description
  .pairing-description {
    margin-bottom: 1.5rem; // Marge en bas
    
    p {
      font-size: 0.875rem; // Petite taille
      line-height: 1.6; // Hauteur de ligne
      color: $text-secondary; // Couleur grise
      margin: 0;
    }
  }
  
  // Informations complémentaires
  .pairing-info {
    display: flex; // Flexbox
    flex-wrap: wrap; // Retour à la ligne
    gap: 1rem; // Espace entre items
    margin-bottom: 1rem; // Marge en bas
    
    .info-item {
      display: flex; // Flexbox
      align-items: center; // Centrage vertical
      gap: 0.5rem; // Espace entre icône et texte
      font-size: 0.8rem; // Petite taille
      color: $text-secondary; // Couleur grise
      
      i {
        color: $primary-color; // Couleur bleue
      }
    }
  }
  
  // Tags
  .pairing-tags {
    display: flex; // Flexbox
    flex-wrap: wrap; // Retour à la ligne
    gap: 0.5rem; // Espace entre tags
    margin-bottom: 1rem; // Marge en bas
    
    .tag {
      display: inline-block; // Inline block
      padding: 0.25rem 0.625rem; // Espacement interne
      background: $bg-light; // Fond gris clair
      color: $text-secondary; // Texte gris
      border-radius: 12px; // Arrondi
      font-size: 0.75rem; // Petite taille
      font-weight: 500; // Poids moyen
    }
  }
  
  // Actions
  .pairing-actions {
    display: flex; // Flexbox
    justify-content: flex-end; // Alignement à droite
    gap: 0.5rem; // Espace entre boutons
    padding-top: 1rem; // Espacement en haut
    border-top: 1px solid $border-color; // Bordure en haut
  }
}

// ===== Boutons d'action =====
.btn-action {
  width: 36px; // Largeur fixe
  height: 36px; // Hauteur fixe
  border-radius: 6px; // Coins arrondis
  border: none; // Pas de bordure
  background: $bg-light; // Fond gris clair
  cursor: pointer; // Curseur pointeur
  display: flex; // Centrage
  align-items: center; // Centrage vertical
  justify-content: center; // Centrage horizontal
  transition: all 0.2s ease; // Animation
  
  i {
    font-size: 0.875rem; // Taille icône
  }
  
  &.btn-action-edit {
    &:hover {
      background: rgba(59, 130, 246, 0.1); // Fond bleu clair
      color: $info-color; // Texte bleu
    }
  }
  
  &.btn-action-delete {
    &:hover {
      background: rgba(239, 68, 68, 0.1); // Fond rouge clair
      color: $danger-color; // Texte rouge
    }
  }
}

// ===== État vide =====
.empty-state {
  grid-column: 1 / -1; // Prend toute la largeur
  text-align: center; // Centrage du texte
  padding: 4rem 2rem; // Grand espacement
  
  .empty-icon {
    font-size: 5rem; // Très grande icône
    margin-bottom: 1rem; // Marge en bas
    opacity: 0.5; // Semi-transparent
  }
  
  h3 {
    font-size: 1.5rem; // Grande taille
    font-weight: 600; // Semi-gras
    color: $text-primary; // Couleur sombre
    margin-bottom: 0.5rem; // Marge en bas
  }
  
  p {
    font-size: 1rem; // Taille normale
    color: $text-secondary; // Couleur grise
    margin-bottom: 1.5rem; // Marge en bas
  }
}

// ===== Boutons standards =====
.btn {
  padding: 0.75rem 1.5rem; // Espacement interne
  border-radius: 8px; // Coins arrondis
  border: none; // Pas de bordure
  font-size: 0.9rem; // Taille du texte
  font-weight: 600; // Semi-gras
  cursor: pointer; // Curseur pointeur
  transition: all 0.2s ease; // Animation
  display: inline-flex; // Flexbox inline
  align-items: center; // Centrage vertical
  gap: 0.5rem; // Espace entre icône et texte
  
  &:disabled {
    opacity: 0.5; // Semi-transparent
    cursor: not-allowed; // Curseur interdit
  }
  
  &.btn-sm {
    padding: 0.5rem 1rem; // Espacement réduit
    font-size: 0.8rem; // Taille réduite
  }
  
  &.btn-primary {
    background: $primary-color; // Fond bleu
    color: white; // Texte blanc
    
    &:hover:not(:disabled) {
      background: darken($primary-color, 10%); // Fond plus foncé
      transform: translateY(-2px); // Déplacement
      box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3); // Ombre
    }
  }
  
  &.btn-secondary {
    background: $text-secondary; // Fond gris
    color: white; // Texte blanc
    
    &:hover:not(:disabled) {
      background: darken($text-secondary, 10%); // Fond plus foncé
    }
  }
  
  &.btn-outline {
    background: transparent; // Fond transparent
    color: $text-primary; // Texte sombre
    border: 1px solid $border-color; // Bordure grise
    
    &:hover:not(:disabled) {
      background: $bg-light; // Fond gris clair
      border-color: darken($border-color, 10%); // Bordure plus foncée
    }
  }
  
  &.btn-cancel {
    background: transparent; // Fond transparent
    color: $text-secondary; // Texte gris
    border: 1px solid $border-color; // Bordure grise
    
    &:hover {
      background: $bg-light; // Fond gris clair
    }
  }
}

// ===== Modal =====
.modal {
  position: fixed; // Position fixe
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5); // Fond noir semi-transparent
  display: flex; // Centrage
  align-items: center; // Centrage vertical
  justify-content: center; // Centrage horizontal
  z-index: 1000; // Au-dessus de tout
  padding: 1rem; // Espacement
  overflow-y: auto; // Scroll vertical
  
  .modal-content {
    background: $bg-white; // Fond blanc
    border-radius: 12px; // Coins arrondis
    max-width: 800px; // Largeur maximale
    width: 100%; // Largeur totale
    max-height: 90vh; // Hauteur maximale
    overflow-y: auto; // Scroll vertical
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); // Grande ombre
    animation: slideUp 0.3s ease-out; // Animation d'entrée
    
    &.modal-large {
      max-width: 900px; // Plus large
    }
  }
  
  .modal-header {
    display: flex; // Flexbox
    justify-content: space-between; // Espace entre titre et bouton
    align-items: center; // Centrage vertical
    padding: 1.5rem; // Espacement
    border-bottom: 1px solid $border-color; // Bordure en bas
    
    .modal-title {
      margin: 0; // Pas de marge
      font-size: 1.5rem; // Grande taille
      font-weight: 600; // Semi-gras
      color: $text-primary; // Couleur sombre
      display: flex; // Flexbox
      align-items: center; // Centrage vertical
      gap: 0.75rem; // Espace entre icône et texte
      
      i {
        color: $primary-color; // Couleur bleue
      }
    }
    
    .close-btn {
      width: 36px; // Largeur fixe
      height: 36px; // Hauteur fixe
      border-radius: 50%; // Forme circulaire
      border: none; // Pas de bordure
      background: $bg-light; // Fond gris clair
      cursor: pointer; // Curseur pointeur
      display: flex; // Centrage
      align-items: center; // Centrage vertical
      justify-content: center; // Centrage horizontal
      transition: all 0.2s ease; // Animation
      
      i {
        font-size: 1.25rem; // Taille icône
        color: $text-secondary; // Couleur grise
      }
      
      &:hover {
        background: #e2e8f0; // Fond plus foncé
        transform: rotate(90deg); // Rotation
      }
    }
  }
  
  .modal-body {
    padding: 1.5rem; // Espacement
  }
  
  .modal-footer {
    display: flex; // Flexbox
    justify-content: flex-end; // Alignement à droite
    gap: 1rem; // Espace entre boutons
    padding: 1.5rem; // Espacement
    border-top: 1px solid $border-color; // Bordure en haut
  }
}

// Animation slide up
@keyframes slideUp {
  from {
    opacity: 0; // Invisible
    transform: translateY(20px); // Décalé vers le bas
  }
  to {
    opacity: 1; // Visible
    transform: translateY(0); // Position normale
  }
}

// ===== Formulaire =====
.form-section {
  margin-bottom: 2rem; // Marge en bas
  
  .form-section-title {
    font-size: 1.125rem; // Taille moyenne
    font-weight: 600; // Semi-gras
    color: $text-primary; // Couleur sombre
    margin-bottom: 1rem; // Marge en bas
    display: flex; // Flexbox
    align-items: center; // Centrage vertical
    gap: 0.5rem; // Espace entre icône et texte
    
    i {
      color: $primary-color; // Couleur bleue
    }
  }
}

.form-row {
  display: flex; // Flexbox
  gap: 1rem; // Espace entre champs
  
  .flex-grow {
    flex: 1; // Prend l'espace disponible
  }
}

.form-group {
  margin-bottom: 1.5rem; // Marge en bas
  
  .form-label {
    display: block; // Bloc
    margin-bottom: 0.5rem; // Marge en bas
    font-size: 0.875rem; // Petite taille
    font-weight: 600; // Semi-gras
    color: $text-primary; // Couleur sombre
  }
  
  .form-input {
    width: 100%; // Largeur totale
    padding: 0.75rem; // Espacement interne
    border: 1px solid $border-color; // Bordure grise
    border-radius: 8px; // Coins arrondis
    font-size: 0.9rem; // Taille du texte
    transition: all 0.2s ease; // Animation
    
    &:focus {
      outline: none; // Pas de contour
      border-color: $primary-color; // Bordure bleue
      box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); // Ombre bleue
    }
    
    &::placeholder {
      color