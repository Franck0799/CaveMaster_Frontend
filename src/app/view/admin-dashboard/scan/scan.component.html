<!-- ===== PAGE SCAN ===== -->
<div class="page-section">
  
  <section class="content-section">
    
    <!-- En-tÃªte de la page -->
    <div class="section-header">
      <h2 class="section-title-main">ğŸ“· Scanner un Produit</h2>
    </div>

    <!-- Conteneur principal du scan -->
    <div class="scan-container">
      
      <!-- ===== Zone de scan ===== -->
      <div class="scan-area">
        
        <!-- Cadre de scan avec animation -->
        <div class="scan-frame" [class.scanning]="isScanActive">
          
          <!-- IcÃ´ne de camÃ©ra -->
          <div class="scan-icon">ğŸ“·</div>
          
          <!-- Texte d'instruction dynamique -->
          <div class="scan-text">
            <!-- Message initial: avant le scan -->
            <ng-container *ngIf="!isScanActive && !scanResult">
              Placez le code-barre devant la camÃ©ra
            </ng-container>
            
            <!-- Message pendant le scan -->
            <ng-container *ngIf="isScanActive">
              Scan en cours...
            </ng-container>
            
            <!-- Message aprÃ¨s le scan -->
            <ng-container *ngIf="scanResult && !isScanActive">
              âœ“ Scan terminÃ©
            </ng-container>
          </div>

          <!-- Ligne de scan animÃ©e (affichÃ©e pendant le scan) -->
          <div *ngIf="isScanActive" class="scan-line"></div>
        </div>

        <!-- ===== Boutons de contrÃ´le ===== -->
        <div class="scan-controls">
          
          <!-- Bouton pour dÃ©marrer le scan -->
          <button class="btn btn-primary"
                  *ngIf="!isScanActive && !scanResult"
                  (click)="startScan()">
            ğŸ¬ DÃ©marrer le scan
          </button>

          <!-- Bouton pour arrÃªter le scan en cours -->
          <button class="btn btn-danger"
                  *ngIf="isScanActive"
                  (click)="stopScan()">
            â¹ï¸ ArrÃªter le scan
          </button>

          <!-- Bouton pour faire un nouveau scan -->
          <button class="btn btn-secondary"
                  *ngIf="scanResult"
                  (click)="resetScan()">
            ğŸ”„ Nouveau scan
          </button>
        </div>
      </div>

      <!-- ===== RÃ©sultat du scan ===== -->
      <div *ngIf="scanResult" class="scan-result">
        
        <!-- En-tÃªte du rÃ©sultat -->
        <div class="result-header">
          <h3>âœ“ Produit dÃ©tectÃ©</h3>
        </div>

        <!-- Contenu du rÃ©sultat (informations formatÃ©es en JSON) -->
        <div class="result-content">
          <pre>{{ getFormattedScanResult() }}</pre>
        </div>

        <!-- Actions disponibles sur le produit scannÃ© -->
        <div class="result-actions">
          
          <!-- Bouton: Ajouter au stock -->
          <button class="btn btn-primary" (click)="addToStock()">
            â• Ajouter au stock
          </button>
          
          <!-- Bouton: Modifier les infos -->
          <button class="btn btn-secondary" (click)="editProductInfo()">
            ğŸ“ Modifier les infos
          </button>
          
          <!-- Bouton: Voir l'historique -->
          <button class="btn btn-info" (click)="viewProductHistory()">
            ğŸ“Š Voir l'historique
          </button>
        </div>
      </div>
    </div>

    <!-- ===== Instructions d'utilisation ===== -->
    <div class="scan-instructions">
      <h3>ğŸ’¡ Instructions</h3>
      
      <ul>
        <!-- Liste des bonnes pratiques pour scanner -->
        <li>Assurez-vous que le code-barre est bien Ã©clairÃ©</li>
        <li>Maintenez le code-barre stable et Ã  plat</li>
        <li>Positionnez-le Ã  environ 15-20 cm de la camÃ©ra</li>
        <li>Attendez le bip de confirmation</li>
      </ul>
      
      <!-- Note technique -->
      <div class="scan-note">
        <strong>Note:</strong> Cette dÃ©mo simule le scan d'un code-barres. 
        Dans une application rÃ©elle, une camÃ©ra serait utilisÃ©e pour scanner 
        de vÃ©ritables codes-barres.
      </div>
    </div>
  </section>
</div>