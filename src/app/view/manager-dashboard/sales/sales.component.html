
// ===== sales.component.html =====

<section class="content-section">
  <div class="section-header">
    <div>
      <h2 class="section-title-main">Analyse des Ventes</h2>
      <p class="section-subtitle">Suivez vos performances commerciales</p>
    </div>

    <div class="header-controls">
      <select [(ngModel)]="selectedPeriode" class="period-select">
        <option value="jour">Aujourd'hui</option>
        <option value="semaine">Cette semaine</option>
        <option value="mois">Ce mois</option>
        <option value="annee">Cette année</option>
      </select>

      <select [(ngModel)]="selectedCave" class="cave-select">
        <option value="all">Toutes les caves</option>
        <option value="cave-1">Cave Principale</option>
        <option value="cave-2">Cave Victoria Island</option>
        <option value="cave-3">Cave Ikoyi</option>
      </select>
    </div>
  </div>

  <!-- KPIs principaux -->
  <div class="kpi-grid">
    <div class="kpi-card">
      <div class="kpi-icon">💰</div>
      <div class="kpi-content">
        <div class="kpi-label">Chiffre d'Affaires</div>
        <div class="kpi-value">{{formatMontant(ventesStats.caJour)}}</div>
        <div class="kpi-progress">
          <div class="kpi-progress-bar" [style.width.%]="getProgressPercent()"></div>
        </div>
        <div class="kpi-target">Objectif: {{formatMontant(ventesStats.caObjectif)}}</div>
      </div>
    </div>

    <div class="kpi-card">
      <div class="kpi-icon">🛒</div>
      <div class="kpi-content">
        <div class="kpi-label">Nombre de Ventes</div>
        <div class="kpi-value">{{ventesStats.nombreVentes}}</div>
        <div class="kpi-change positive">+12% vs hier</div>
      </div>
    </div>

    <div class="kpi-card">
      <div class="kpi-icon">💳</div>
      <div class="kpi-content">
        <div class="kpi-label">Panier Moyen</div>
        <div class="kpi-value">{{formatMontant(ventesStats.panierMoyen)}}</div>
        <div class="kpi-change positive">+8% vs hier</div>
      </div>
    </div>

    <div class="kpi-card">
      <div class="kpi-icon">📊</div>
      <div class="kpi-content">
        <div class="kpi-label">Taux de Conversion</div>
        <div class="kpi-value">{{ventesStats.tauxConversion}}%</div>
        <div class="kpi-change negative">-2% vs hier</div>
      </div>
    </div>
  </div>

  <!-- Graphique des ventes -->
  <div class="chart-section">
    <div class="chart-card">
      <div class="chart-header">
        <h3>📈 Évolution des Ventes</h3>
        <div class="chart-legend">
          <span class="legend-item">
            <span class="legend-dot primary"></span>
            Ventes
          </span>
        </div>
      </div>
      <div class="chart-body">
        <div class="bar-chart">
          <div class="bar-chart-wrapper">
            <div *ngFor="let vente of ventesParJour" class="bar-item">
              <div class="bar-tooltip">{{formatMontant(vente.montant)}}</div>
              <div class="bar" [style.height.%]="getBarHeight(vente.montant)"></div>
              <div class="bar-label">{{vente.jour}}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Top produits et catégories -->
  <div class="products-section">
    <div class="products-card">
      <div class="products-header">
        <h3>🏆 Top 5 Produits</h3>
        <button class="btn-export">📥 Exporter</button>
      </div>
      <div class="products-body">
        <div class="products-table">
          <div class="table-header">
            <div class="table-cell">Produit</div>
            <div class="table-cell">Quantité</div>
            <div class="table-cell">CA</div>
            <div class="table-cell">Évolution</div>
          </div>
          <div *ngFor="let produit of topProduits; let i = index" class="table-row">
            <div class="table-cell">
              <div class="product-rank">{{i + 1}}</div>
              <div class="product-name">{{produit.nom}}</div>
            </div>
            <div class="table-cell">{{produit.quantite}}</div>
            <div class="table-cell">{{formatMontant(produit.ca)}}</div>
            <div class="table-cell">
              <span class="evolution-badge" [class.positive]="produit.evolution > 0" [class.negative]="produit.evolution < 0">
                {{produit.evolution > 0 ? '+' : ''}}{{produit.evolution}}%
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Répartition par catégorie -->
    <div class="category-card">
      <div class="category-header">
        <h3>📊 Répartition par Catégorie</h3>
      </div>
      <div class="category-body">
        <div class="category-item">
          <div class="category-info">
            <span class="category-icon">🍾</span>
            <span class="category-name">Champagne</span>
          </div>
          <div class="category-stats">
            <div class="category-amount">2 420 000 FCFA</div>
            <div class="category-progress">
              <div class="category-bar" style="width: 65%"></div>
            </div>
            <div class="category-percent">35%</div>
          </div>
        </div>

        <div class="category-item">
          <div class="category-info">
            <span class="category-icon">🥃</span>
            <span class="category-name">Spiritueux</span>
          </div>
          <div class="category-stats">
            <div class="category-amount">1 260 000 FCFA</div>
            <div class="category-progress">
              <div class="category-bar" style="width: 45%"></div>
            </div>
            <div class="category-percent">28%</div>
          </div>
        </div>

        <div class="category-item">
          <div class="category-info">
            <span class="category-icon">🍷</span>
            <span class="category-name">Vin</span>
          </div>
          <div class="category-stats">
            <div class="category-amount">980 000 FCFA</div>
            <div class="category-progress">
              <div class="category-bar" style="width: 35%"></div>
            </div>
            <div class="category-percent">22%</div>
          </div>
        </div>

        <div class="category-item">
          <div class="category-info">
            <span class="category-icon">🍺</span>
            <span class="category-name">Bière</span>
          </div>
          <div class="category-stats">
            <div class="category-amount">420 000 FCFA</div>
            <div class="category-progress">
              <div class="category-bar" style="width: 25%"></div>
            </div>
            <div class="category-percent">12%</div>
          </div>
        </div>

        <div class="category-item">
          <div class="category-info">
            <span class="category-icon">🥤</span>
            <span class="category-name">Soft Drinks</span>
          </div>
          <div class="category-stats">
            <div class="category-amount">120 000 FCFA</div>
            <div class="category-progress">
              <div class="category-bar" style="width: 15%"></div>
            </div>
            <div class="category-percent">3%</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Statistiques complémentaires -->
  <div class="additional-stats">
    <div class="stat-card-small">
      <div class="stat-small-icon">⏰</div>
      <div class="stat-small-content">
        <div class="stat-small-label">Heure de Pointe</div>
        <div class="stat-small-value">14h - 18h</div>
      </div>
    </div>

    <div class="stat-card-small">
      <div class="stat-small-icon">👥</div>
      <div class="stat-small-content">
        <div class="stat-small-label">Clients Uniques</div>
        <div class="stat-small-value">28</div>
      </div>
    </div>

    <div class="stat-card-small">
      <div class="stat-small-icon">🔄</div>
      <div class="stat-small-content">
        <div class="stat-small-label">Clients Récurrents</div>
        <div class="stat-small-value">18 (64%)</div>
      </div>
    </div>

    <div class="stat-card-small">
      <div class="stat-small-icon">⭐</div>
      <div class="stat-small-content">
        <div class="stat-small-label">Ventes VIP</div>
        <div class="stat-small-value">6 (18%)</div>
      </div>
    </div>
  </div>
</section>
*/

