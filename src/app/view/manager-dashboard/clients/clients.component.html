// ===== clients.component.html =====
/*
<section class="content-section">
  <div class="section-header">
    <div>
      <h2 class="section-title-main">Gestion des Clients</h2>
      <p class="section-subtitle">Base de donnÃ©es clients et programme de fidÃ©litÃ©</p>
    </div>
    <button class="btn-primary" (click)="openAddModal()">
      â• Nouveau Client
    </button>
  </div>

  <!-- Statistiques clients -->
  <div class="client-stats-grid">
    <div class="client-stat-card">
      <div class="stat-icon">ğŸ‘¥</div>
      <div class="stat-content">
        <div class="stat-label">Total Clients</div>
        <div class="stat-value">{{clientsData.length}}</div>
      </div>
    </div>

    <div class="client-stat-card vip">
      <div class="stat-icon">ğŸ‘‘</div>
      <div class="stat-content">
        <div class="stat-label">Clients VIP</div>
        <div class="stat-value">{{getClientCount('vip')}}</div>
      </div>
    </div>

    <div class="client-stat-card premium">
      <div class="stat-icon">â­</div>
      <div class="stat-content">
        <div class="stat-label">Clients Premium</div>
        <div class="stat-value">{{getClientCount('premium')}}</div>
      </div>
    </div>

    <div class="client-stat-card">
      <div class="stat-icon">ğŸ’°</div>
      <div class="stat-content">
        <div class="stat-label">CA Moyen</div>
        <div class="stat-value">125K</div>
      </div>
    </div>
  </div>

  <!-- Barre de recherche et filtres -->
  <div class="clients-controls">
    <div class="search-box-clients">
      <span class="search-icon">ğŸ”</span>
      <input
        type="text"
        placeholder="Rechercher par nom, tÃ©lÃ©phone, email..."
        [(ngModel)]="searchQuery"
        class="search-input">
    </div>

    <div class="filter-tabs">
      <button
        class="filter-tab"
        [class.active]="selectedType === 'all'"
        (click)="selectedType = 'all'">
        Tous ({{getClientCount('all')}})
      </button>
      <button
        class="filter-tab"
        [class.active]="selectedType === 'vip'"
        (click)="selectedType = 'vip'">
        ğŸ‘‘ VIP ({{getClientCount('vip')}})
      </button>
      <button
        class="filter-tab"
        [class.active]="selectedType === 'premium'"
        (click)="selectedType = 'premium'">
        â­ Premium ({{getClientCount('premium')}})
      </button>
      <button
        class="filter-tab"
        [class.active]="selectedType === 'regulier'"
        (click)="selectedType = 'regulier'">
        ğŸ’ RÃ©gulier ({{getClientCount('regulier')}})
      </button>
    </div>
  </div>

  <!-- Liste des clients -->
  <div class="clients-grid">
    <div *ngIf="filteredClients.length === 0" class="empty-state">
      <div class="empty-state-icon">ğŸ‘¥</div>
      <p>Aucun client trouvÃ©</p>
    </div>

    <div *ngFor="let client of filteredClients" class="client-card" (click)="viewClientDetails(client.id)">
      <div class="client-card-header">
        <div class="client-avatar">
          {{getClientBadgeIcon(client.type)}}
        </div>
        <div class="client-info-main">
          <div class="client-name">{{client.prenom}} {{client.nom}}</div>
          <div class="client-contact">
            <span>ğŸ“ {{client.telephone}}</span>
            <span *ngIf="client.email">âœ‰ï¸ {{client.email}}</span>
          </div>
        </div>
        <span class="client-badge" [ngClass]="getClientBadgeClass(client.type)">
          {{client.type | uppercase}}
        </span>
      </div>

      <div class="client-card-body">
        <div class="client-detail-row">
          <div class="client-detail-item">
            <span class="detail-icon">ğŸ’°</span>
            <div>
              <div class="detail-label">Total Achats</div>
              <div class="detail-value">{{formatMontant(client.totalAchats)}}</div>
            </div>
          </div>

          <div class="client-detail-item">
            <span class="detail-icon">ğŸ›’</span>
            <div>
              <div class="detail-label">Commandes</div>
              <div class="detail-value">{{client.nombreCommandes}}</div>
            </div>
          </div>
        </div>

        <div class="client-detail-row">
          <div class="client-detail-item">
            <span class="detail-icon">â­</span>
            <div>
              <div class="detail-label">Points FidÃ©litÃ©</div>
              <div class="detail-value points">{{client.pointsFidelite}} pts</div>
            </div>
          </div>
            <span class="detail-icon">ğŸ“…</span>
            <div>
              <div class="detail-label">DerniÃ¨re Commande</div>
              <div class="detail-value">{{formatDate(client.derniereCommande)}}</div>
            </div>
          </div>
        </div>

        <div class="client-actions">
          <button class="btn-action" (click)="$event.stopPropagation()">
            ğŸ“ Appeler
          </button>
          <button class="btn-action" (click)="$event.stopPropagation()">
            ğŸ’¬ Message
          </button>
          <button class="btn-action" (click)="$event.stopPropagation()">
            ğŸ“Š Historique
          </button>
        </div>
      </div>
    </div>

  <!-- Modal Nouveau Client -->
  <div class="modal-overlay" *ngIf="showAddModal" (click)="closeAddModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h3>â• Nouveau Client</h3>
        <button class="btn-close" (click)="closeAddModal()">âœ•</button>
      </div>
      <div class="modal-body">
        <form class="client-form">
          <div class="form-row">
            <div class="form-group">
              <label>PrÃ©nom *</label>
              <input type="text" class="form-input" placeholder="PrÃ©nom du client">
            </div>
            <div class="form-group">
              <label>Nom *</label>
              <input type="text" class="form-input" placeholder="Nom du client">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>TÃ©lÃ©phone *</label>
              <input type="tel" class="form-input" placeholder="+225 XX XX XX XX XX">
            </div>
            <div class="form-group">
              <label>Email</label>
              <input type="email" class="form-input" placeholder="email@exemple.com">
            </div>
          </div>

          <div class="form-group">
            <label>Adresse</label>
            <input type="text" class="form-input" placeholder="Adresse complÃ¨te">
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Ville</label>
              <input type="text" class="form-input" placeholder="Ville">
            </div>
            <div class="form-group">
              <label>Type de Client *</label>
              <select class="form-input">
                <option value="standard">Standard</option>
                <option value="regulier">RÃ©gulier</option>
                <option value="premium">Premium</option>
                <option value="vip">VIP</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label>Notes</label>
            <textarea class="form-input" rows="3" placeholder="Notes supplÃ©mentaires..."></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn-secondary" (click)="closeAddModal()">Annuler</button>
        <button class="btn-primary">Enregistrer</button>
      </div>
    </div>
  </div>
</section>




