// ===== waitress-dashboard.component.scss - FICHIER COMPLET CORRIGÉ =====

// ===== VARIABLES SCSS =====
// Les variables commencent par $ et permettent de réutiliser des valeurs

// Couleurs principales
$color-primary: #ec4899;        // Rose pink principal
$color-secondary: #8b5cf6;      // Violet pour accents
$color-dark: #0f172a;           // Bleu très foncé pour le fond
$color-dark-lighter: #1e293b;   // Bleu foncé pour les cartes
$color-dark-card: #334155;      // Bleu moyen pour les éléments
$color-text: #f1f5f9;           // Blanc cassé pour le texte
$color-text-muted: #94a3b8;     // Gris pour texte secondaire
$color-success: #22c55e;        // Vert pour succès
$color-warning: #f59e0b;        // Orange pour avertissement
$color-danger: #ef4444;         // Rouge pour danger
$color-info: #3b82f6;           // Bleu pour info

// Espacements
$spacing-xs: 0.5rem;   // 8px
$spacing-sm: 0.75rem;  // 12px
$spacing-md: 1rem;     // 16px
$spacing-lg: 1.5rem;   // 24px
$spacing-xl: 2rem;     // 32px

// Border radius
$radius-sm: 0.5rem;    // 8px
$radius-md: 0.75rem;   // 12px
$radius-lg: 1rem;      // 16px

// Transitions
$transition-fast: 0.2s ease;   // Transition rapide
$transition-normal: 0.3s ease; // Transition normale

// ===== MIXINS SCSS =====
// Les mixins sont des fonctions réutilisables pour générer du CSS

// Mixin pour les flexbox centrés
// @mixin déclare un mixin
@mixin flex-center {
  display: flex;           // Active flexbox
  align-items: center;     // Centre verticalement
  justify-content: center; // Centre horizontalement

// ===== TABLE D'HISTORIQUE =====

.history-table {
  background: $color-dark-lighter; // Fond
  border-radius: $radius-lg;       // Arrondi
  overflow: hidden;                // Cache le débordement pour les coins arrondis
  border: 2px solid $color-dark-card; // Bordure
}

// En-tête de table
.table-header {
  display: grid;                   // Grille CSS
  grid-template-columns: 1fr 1fr 2fr 1fr 1fr; // 5 colonnes de tailles différentes
  background: $color-dark-card;    // Fond plus foncé
  padding: $spacing-md $spacing-lg; // Padding
  font-weight: 700;                // Gras
  color: $color-primary;           // Rose
  font-size: 0.875rem;             // Petite taille
  text-transform: uppercase;       // Majuscules
  letter-spacing: 0.05em;          // Espacement des lettres
}

// Ligne de table
.table-row {
  display: grid;                   // Grille CSS
  grid-template-columns: 1fr 1fr 2fr 1fr 1fr; // Même structure que le header
  padding: $spacing-md $spacing-lg; // Padding
  color: $color-text;              // Blanc
  transition: background $transition-fast; // Transition du fond

  // Bordure entre les lignes avec nth-child
  // :not(:last-child) = tous sauf le dernier
  &:not(:last-child) {
    border-bottom: 1px solid $color-dark-card; // Bordure en bas
  }

  &:hover {
    background: rgba($color-primary, 0.1); // Fond rose transparent au survol
  }
}

// Colonne de table
.table-col {
  display: flex;                   // Flexbox
  align-items: center;             // Centre verticalement
  font-size: 0.875rem;             // Petite taille
}

// Badge de statut
.status-badge {
  padding: $spacing-xs $spacing-sm; // Padding
  background: rgba($color-success, 0.2); // Fond vert transparent
  color: $color-success;           // Texte vert
  border-radius: $radius-sm;       // Arrondi
  font-weight: 600;                // Gras
  font-size: 0.75rem;              // Très petite taille
  border: 1px solid $color-success; // Bordure verte
}

// ===== NOTIFICATION TOAST =====
// Notification qui apparaît temporairement

.toast-notification {
  // Styles définis inline dans le TypeScript
  // Animation définie ici
  @keyframes slideIn {
    from {
      opacity: 0;                  // Commence invisible
      transform: translateX(100%); // Commence hors écran à droite
    }
    to {
      opacity: 1;                  // Termine visible
      transform: translateX(0);    // Termine à sa position
    }
  }

  @keyframes slideOut {
    from {
      opacity: 1;                  // Commence visible
      transform: translateX(0);    // Commence à sa position
    }
    to {
      opacity: 0;                  // Termine invisible
      transform: translateX(100%); // Termine hors écran à droite
    }
  }
}

// ===== RESPONSIVE DESIGN =====
// Adaptation pour les différentes tailles d'écran

// @media = règle CSS pour les media queries
// max-width: 1200px = s'applique si la largeur est <= 1200px

@media (max-width: 1200px) {
  .shift-info-content {
    // Garde le flex horizontal mais permet le scroll
    overflow-x: auto;              // Scroll horizontal
  }

  .stats-grid {
    grid-template-columns: repeat(2, 1fr); // 2 colonnes au lieu de 4
  }
}

@media (max-width: 992px) {
  .main-content {
    margin-left: 0;                // Pas de marge
    padding: $spacing-md;          // Moins de padding
  }

  .sidebar {
    transform: translateX(-100%);  // Cache la sidebar hors écran
    // On pourrait ajouter un bouton menu pour l'afficher
  }

  .top-header {
    flex-direction: column;        // Direction verticale
    gap: $spacing-md;              // Espace entre éléments
  }

  .orders-grid {
    grid-template-columns: 1fr;    // 1 colonne
  }

  .actions-grid {
    grid-template-columns: repeat(2, 1fr); // 2 colonnes
  }
}

@media (max-width: 768px) {
  .stats-grid,
  .tips-stats,
  .sales-stats {
    grid-template-columns: 1fr;    // 1 colonne pour tous
  }

  .shift-info-content {
    display: flex;                 // Garde le flex
    overflow-x: auto;              // Scroll horizontal
  }

  .actions-grid {
    grid-template-columns: 1fr;    // 1 colonne
  }

  .table-header,
  .table-row {
    grid-template-columns: 1fr;    // 1 colonne
    gap: $spacing-xs;              // Moins d'espace
  }

  .table-col {
    // Ajoute un label avant chaque cellule sur mobile
    &::before {
      content: attr(data-label);   // attr() récupère l'attribut data-label
      font-weight: 700;            // Gras
      margin-right: $spacing-sm;   // Marge à droite
    }
  }

  .category-filters {
    justify-content: flex-start;   // Aligne à gauche
    overflow-x: auto;              // Garde le scroll horizontal
  }

  .form-actions {
    flex-direction: column;        // Direction verticale

    .btn {
      width: 100%;                 // Largeur complète
    }
  }

  // Menu garde sa disposition horizontale sur mobile
  .menu-grid {
    display: flex;                 // Garde flex
    overflow-x: auto;              // Garde scroll horizontal
  }
}

@media (max-width: 480px) {
  .top-header-right {
    flex-wrap: wrap;               // Permet le retour à la ligne
    justify-content: center;       // Centre les éléments
  }

  // Menu et shift-info gardent leur disposition horizontale
  .menu-grid,
  .shift-info-content {
    display: flex;                 // Garde flex horizontal
    overflow-x: auto;              // Garde scroll horizontal
  }

  .availability-menu {
    width: calc(100vw - 32px);     // vw = viewport width, 100vw = largeur totale
    right: auto;                   // Annule right
    left: 16px;                    // 16px de la gauche
  }
}

// ===== ANIMATIONS SUPPLÉMENTAIRES =====

// Animation de fade in pour les éléments
@keyframes fadeIn {
  from {
    opacity: 0;                    // Commence invisible
    transform: translateY(20px);   // Commence 20px plus bas
  }
  to {
    opacity: 1;                    // Termine visible
    transform: translateY(0);      // Termine à sa position
  }
}

// Applique l'animation aux sections
.section {
  animation: fadeIn 0.5s ease;     // Animation de 0.5 secondes
}

// Animation de pulse pour attirer l'attention
@keyframes pulse {
  0%, 100% {
    transform: scale(1);           // Taille normale
  }
  50% {
    transform: scale(1.05);        // Légèrement agrandi
  }
}

// Applique le pulse aux nouveaux badges
.badge {
  animation: pulse 2s infinite;    // Animation infinie de 2 secondes
}

// ===== UTILITAIRES =====
// Classes utilitaires réutilisables

// Classe pour cacher un élément
.hidden {
  display: none !important;        // !important force l'application
}

// Classe pour le texte tronqué avec ...
.text-truncate {
  overflow: hidden;                // Cache le débordement
  text-overflow: ellipsis;         // Ajoute ...
  white-space: nowrap;             // Pas de retour à la ligne
}

// Classe pour centrer du texte
.text-center {
  text-align: center;
}

// Classe pour mettre en gras
.font-bold {
  font-weight: 700;
}

// ===== PRINT STYLES =====
// Styles pour l'impression

@media print {
  .sidebar,
  .top-header,
  .back-btn,
  .btn,
  .form-actions {
    display: none;                 // Cache ces éléments à l'impression
  }

  .main-content {
    margin-left: 0;                // Pas de marge
  }

  .order-card,
  .table-card,
  .tip-card {
    break-inside: avoid;           // Évite de couper les cartes entre les pages
  }
}

// Mixin pour les cartes avec effet hover
@mixin card-hover {
  // & représente le sélecteur parent
  transition: transform $transition-normal, box-shadow $transition-normal;

  // &:hover s'applique au survol
  &:hover {
    transform: translateY(-4px); // Déplace vers le haut
    box-shadow: 0 10px 30px rgba($color-primary, 0.3); // Ombre rose
  }
}

// Mixin pour le scrollbar personnalisé
@mixin custom-scrollbar {
  // ::-webkit-scrollbar cible la scrollbar sur Chrome/Safari
  &::-webkit-scrollbar {
    width: 8px;  // Largeur de la scrollbar
    height: 8px; // Hauteur pour scroll horizontal
  }

  &::-webkit-scrollbar-track {
    background: $color-dark-lighter; // Fond de la piste
    border-radius: $radius-sm;       // Arrondi
  }

  &::-webkit-scrollbar-thumb {
    background: $color-primary;      // Couleur du curseur
    border-radius: $radius-sm;       // Arrondi

    &:hover {
      background: lighten($color-primary, 10%); // lighten() éclaircit la couleur
    }
  }
}

// ===== RESET & BASE =====
// Réinitialise les styles par défaut du navigateur

* {
  margin: 0;           // Supprime toutes les marges
  padding: 0;          // Supprime tous les paddings
  box-sizing: border-box; // Inclut padding et border dans la taille
}

// body = élément racine de la page
body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: $color-dark;  // Fond sombre
  color: $color-text;       // Texte clair
  line-height: 1.6;         // Hauteur de ligne pour lisibilité
  overflow-x: hidden;       // Cache le scroll horizontal
}

// ===== DASHBOARD LAYOUT =====
// .dashboard est le conteneur principal

.dashboard {
  display: flex;           // Flexbox pour sidebar + contenu
  min-height: 100vh;       // Hauteur minimum = hauteur de la fenêtre
  background: $color-dark; // Fond sombre
}

// ===== SIDEBAR =====
// Barre latérale de navigation

.sidebar {
  width: 280px;                    // Largeur fixe
  background: $color-dark-lighter; // Fond légèrement plus clair
  border-right: 2px solid $color-primary; // Bordure rose à droite
  display: flex;                   // Flexbox vertical
  flex-direction: column;          // Direction verticale
  position: fixed;                 // Position fixe (ne scroll pas)
  height: 100vh;                   // Hauteur = hauteur de la fenêtre
  left: 0;                         // Aligné à gauche
  top: 0;                          // Aligné en haut
  z-index: 1000;                   // Au-dessus des autres éléments
  overflow-y: auto;                // Scroll vertical si nécessaire
  @include custom-scrollbar;       // Applique le mixin de scrollbar
}

// En-tête de la sidebar
.sidebar-header {
  padding: $spacing-xl;            // Padding tout autour
  border-bottom: 1px solid $color-dark-card; // Bordure en bas
}

// Logo
.logo {
  @include flex-center;            // Centre le contenu
  gap: $spacing-md;                // Espace entre icône et texte

  .logo-icon {
    font-size: 2rem;               // Taille de l'emoji
  }

  .logo-text {
    font-size: 1.25rem;            // Taille du texte
    font-weight: 700;              // Gras
    background: linear-gradient(135deg, $color-primary, $color-secondary); // Dégradé
    -webkit-background-clip: text; // Applique le dégradé au texte
    -webkit-text-fill-color: transparent; // Rend le texte transparent
    background-clip: text;         // Version standard
  }
}

// Navigation de la sidebar
.sidebar-nav {
  flex: 1;                         // Prend tout l'espace disponible
  padding: $spacing-lg 0;          // Padding vertical
}

// Item de navigation
.nav-item {
  display: flex;                   // Flexbox horizontal
  align-items: center;             // Centre verticalement
  gap: $spacing-md;                // Espace entre icône et texte
  padding: $spacing-md $spacing-xl; // Padding
  color: $color-text-muted;        // Couleur grise par défaut
  cursor: pointer;                 // Curseur pointer au survol
  transition: all $transition-fast; // Transition sur tous les changements
  border-left: 3px solid transparent; // Bordure invisible par défaut

  .nav-icon {
    font-size: 1.25rem;            // Taille de l'icône
  }

  // Au survol
  &:hover {
    background: rgba($color-primary, 0.1); // Fond rose transparent
    color: $color-text;            // Texte blanc
  }

  // Quand actif (classe .active ajoutée dynamiquement)
  &.active {
    background: rgba($color-primary, 0.15); // Fond rose plus visible
    color: $color-primary;         // Texte rose
    border-left-color: $color-primary; // Bordure rose à gauche
    font-weight: 600;              // Gras
  }
}

// Footer de la sidebar
.sidebar-footer {
  padding: $spacing-lg;            // Padding tout autour
  border-top: 1px solid $color-dark-card; // Bordure en haut
}

// Bouton de déconnexion
.logout-btn {
  width: 100%;                     // Largeur complète
  display: flex;                   // Flexbox
  align-items: center;             // Centre verticalement
  gap: $spacing-md;                // Espace entre icône et texte
  padding: $spacing-md;            // Padding
  background: transparent;         // Fond transparent
  border: 2px solid $color-danger; // Bordure rouge
  border-radius: $radius-md;       // Arrondi
  color: $color-danger;            // Texte rouge
  font-size: 1rem;                 // Taille de police
  font-weight: 600;                // Gras
  cursor: pointer;                 // Curseur pointer
  transition: all $transition-normal; // Transition

  &:hover {
    background: $color-danger;     // Fond rouge au survol
    color: white;                  // Texte blanc au survol
    transform: translateY(-2px);   // Déplace vers le haut
  }
}

// ===== CONTENU PRINCIPAL =====
// Zone principale à droite de la sidebar

.main-content {
  flex: 1;                         // Prend tout l'espace restant
  margin-left: 280px;              // Décalage de la largeur de la sidebar
  padding: $spacing-xl;            // Padding tout autour
  min-height: 100vh;               // Hauteur minimum
  background: $color-dark;         // Fond sombre
}

// ===== EN-TÊTE SUPÉRIEUR =====
// Barre en haut avec titre et icônes

.top-header {
  display: flex;                   // Flexbox horizontal
  justify-content: space-between;  // Espace entre gauche et droite
  align-items: center;             // Centre verticalement
  margin-bottom: $spacing-xl;      // Marge en bas
  padding: $spacing-lg;            // Padding
  background: $color-dark-lighter; // Fond légèrement plus clair
  border-radius: $radius-lg;       // Arrondi
  border: 2px solid $color-primary; // Bordure rose
  box-shadow: 0 4px 20px rgba($color-primary, 0.2); // Ombre rose
}

.top-header-left {
  h2 {
    font-size: 1.5rem;             // Taille du titre
    font-weight: 700;              // Gras
    color: $color-text;            // Couleur blanche
  }
}

.top-header-right {
  display: flex;                   // Flexbox horizontal
  align-items: center;             // Centre verticalement
  gap: $spacing-lg;                // Espace entre les éléments
}

// ===== BOUTON DE DISPONIBILITÉ =====
// Bouton avec menu déroulant

.availability-wrapper {
  position: relative;              // Position relative pour le menu absolu
}

.availability-button {
  display: flex;                   // Flexbox
  align-items: center;             // Centre verticalement
  gap: $spacing-sm;                // Espace entre éléments
  padding: $spacing-sm $spacing-md; // Padding
  background: $color-dark-card;    // Fond
  border: 2px solid $color-primary; // Bordure rose
  border-radius: $radius-md;       // Arrondi
  color: $color-text;              // Texte blanc
  font-weight: 600;                // Gras
  cursor: pointer;                 // Curseur pointer
  transition: all $transition-fast; // Transition

  .icon {
    font-size: 1.25rem;            // Taille de l'icône
  }

  .arrow {
    font-size: 0.75rem;            // Taille de la flèche
    transition: transform $transition-fast; // Transition sur la rotation
  }

  &:hover {
    background: lighten($color-dark-card, 5%); // Éclaircit au survol
    transform: translateY(-2px);   // Déplace vers le haut
  }
}

// Menu déroulant de disponibilité
.availability-menu {
  position: absolute;              // Position absolue par rapport au wrapper
  top: calc(100% + 8px);          // calc() permet de calculer: 100% + 8px
  right: 0;                        // Aligné à droite
  width: 300px;                    // Largeur fixe
  background: $color-dark-lighter; // Fond
  border: 2px solid $color-primary; // Bordure rose
  border-radius: $radius-lg;       // Arrondi
  padding: $spacing-md;            // Padding
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5); // Ombre forte
  z-index: 1001;                   // Au-dessus de tout
  animation: slideDown 0.2s ease;  // Animation d'apparition
}

// Animation keyframes pour le menu
@keyframes slideDown {
  from {
    opacity: 0;                    // Commence invisible
    transform: translateY(-10px);  // Commence 10px plus haut
  }
  to {
    opacity: 1;                    // Termine visible
    transform: translateY(0);      // Termine à sa position
  }
}

.availability-menu-title {
  font-size: 0.75rem;              // Petite taille
  font-weight: 700;                // Gras
  color: $color-text-muted;        // Gris
  margin-bottom: $spacing-md;      // Marge en bas
  letter-spacing: 0.05em;          // Espacement des lettres
  text-transform: uppercase;       // Majuscules
}

// Option du menu de disponibilité
.availability-option {
  display: flex;                   // Flexbox
  align-items: center;             // Centre verticalement
  gap: $spacing-md;                // Espace entre éléments
  padding: $spacing-md;            // Padding
  border-radius: $radius-md;       // Arrondi
  cursor: pointer;                 // Curseur pointer
  transition: background $transition-fast; // Transition du fond

  .option-icon {
    font-size: 1.5rem;             // Taille de l'icône
  }

  .option-info {
    flex: 1;                       // Prend l'espace restant
  }

  .option-text {
    font-weight: 600;              // Gras
    color: $color-text;            // Blanc
    margin-bottom: 2px;            // Petite marge
  }

  .option-desc {
    font-size: 0.875rem;           // Petite taille
    color: $color-text-muted;      // Gris
  }

  &:hover {
    background: $color-dark-card;  // Fond au survol
  }
}

// ===== ICÔNES D'EN-TÊTE =====
// Notifications et messages

.header-icon {
  position: relative;              // Pour positionner le badge
  padding: $spacing-sm;            // Padding
  background: $color-dark-card;    // Fond
  border-radius: $radius-md;       // Arrondi
  cursor: pointer;                 // Curseur pointer
  transition: all $transition-fast; // Transition

  .icon {
    font-size: 1.25rem;            // Taille de l'icône
  }

  // Badge de notification
  .badge {
    position: absolute;            // Position absolue
    top: -4px;                     // 4px au-dessus
    right: -4px;                   // 4px à droite
    background: $color-danger;     // Fond rouge
    color: white;                  // Texte blanc
    font-size: 0.75rem;            // Petite taille
    font-weight: 700;              // Gras
    padding: 2px 6px;              // Padding minimal
    border-radius: 10px;           // Très arrondi (cercle)
    min-width: 20px;               // Largeur minimum
    text-align: center;            // Texte centré
  }

  &:hover {
    background: lighten($color-dark-card, 5%); // Éclaircit au survol
    transform: translateY(-2px);   // Déplace vers le haut
  }
}

// ===== PROFIL UTILISATEUR =====

.user-profile {
  display: flex;                   // Flexbox
  align-items: center;             // Centre verticalement
  gap: $spacing-sm;                // Espace entre avatar et nom
  padding: $spacing-sm $spacing-md; // Padding
  background: $color-dark-card;    // Fond
  border-radius: $radius-md;       // Arrondi
  cursor: pointer;                 // Curseur pointer
  transition: all $transition-fast; // Transition

  .avatar {
    width: 40px;                   // Largeur
    height: 40px;                  // Hauteur
    @include flex-center;          // Centre le contenu
    background: linear-gradient(135deg, $color-primary, $color-secondary); // Dégradé
    border-radius: 50%;            // Cercle parfait
    font-size: 1.5rem;             // Taille de l'emoji
  }

  .user-name {
    font-weight: 600;              // Gras
    color: $color-text;            // Blanc
  }

  &:hover {
    background: lighten($color-dark-card, 5%); // Éclaircit au survol
    transform: translateY(-2px);   // Déplace vers le haut
  }
}

// ===== INFORMATIONS DE SERVICE =====
// Cartes affichant les stats du shift - Disposition horizontale

.shift-info {
  margin-bottom: $spacing-xl;      // Marge en bas
  width: 100%;                     // Largeur complète
}

.shift-info-content {
  display: flex;                   // Flexbox pour disposition horizontale
  gap: $spacing-lg;                // Espace entre les éléments
  overflow-x: auto;                // Scroll horizontal si nécessaire
  padding-bottom: $spacing-sm;     // Padding pour la scrollbar
  @include custom-scrollbar;       // Scrollbar personnalisée
}

// Carte de shift - Taille fixe pour cohérence horizontale
.shift-card {
  background: $color-dark-lighter; // Fond
  padding: $spacing-xl $spacing-lg; // Padding ajusté
  border-radius: $radius-lg;       // Arrondi
  border: 2px solid $color-dark-card; // Bordure
  text-align: center;              // Texte centré
  transition: all $transition-normal; // Transition
  min-width: 220px;                // Largeur minimum augmentée
  flex: 0 0 auto;                  // Ne grandit ni ne rétrécit
  display: flex;                   // Flexbox pour contenu
  flex-direction: column;          // Direction verticale
  align-items: center;             // Centre horizontalement
  justify-content: center;         // Centre verticalement

  .stat-icon {
    font-size: 2.5rem;             // Grande taille pour visibilité
    margin-bottom: $spacing-md;    // Marge en bas augmentée
    line-height: 1;                // Hauteur de ligne serrée
  }

  .shift-label {
    font-size: 0.875rem;           // Petite taille
    color: $color-text-muted;      // Gris
    margin-bottom: $spacing-sm;    // Marge augmentée
    text-transform: none;          // Pas de transformation
    white-space: nowrap;           // Pas de retour à la ligne
  }

  .shift-value {
    font-size: 1.875rem;           // Taille augmentée
    font-weight: 700;              // Gras
    color: $color-primary;         // Rose
    line-height: 1.2;              // Hauteur de ligne
    white-space: nowrap;           // Pas de retour à la ligne
  }

  &:hover {
    border-color: $color-primary;  // Bordure rose au survol
    transform: translateY(-4px);   // Déplace vers le haut
    box-shadow: 0 10px 30px rgba($color-primary, 0.2); // Ombre rose
  }
}

// ===== SECTIONS =====

.section {
  margin-bottom: $spacing-xl;      // Marge en bas entre sections
}

.section-title {
  font-size: 1.5rem;               // Taille du titre
  font-weight: 700;                // Gras
  color: $color-text;              // Blanc
  margin-bottom: $spacing-lg;      // Marge en bas

  // Effet de soulignement rose
  &::after {
    content: '';                   // Contenu vide requis pour ::after
    display: block;                // Block pour prendre toute la largeur
    width: 60px;                   // Largeur de la ligne
    height: 4px;                   // Hauteur de la ligne
    background: linear-gradient(90deg, $color-primary, $color-secondary); // Dégradé
    margin-top: $spacing-sm;       // Marge en haut
    border-radius: 2px;            // Légèrement arrondi
  }
}

// ===== BOUTON RETOUR =====

.back-btn {
  display: inline-flex;            // inline-flex pour ne pas prendre toute la largeur
  align-items: center;             // Centre verticalement
  gap: $spacing-sm;                // Espace
  padding: $spacing-sm $spacing-md; // Padding
  background: transparent;         // Fond transparent
  border: 2px solid $color-text-muted; // Bordure grise
  border-radius: $radius-md;       // Arrondi
  color: $color-text-muted;        // Texte gris
  font-weight: 600;                // Gras
  cursor: pointer;                 // Curseur pointer
  margin-bottom: $spacing-lg;      // Marge en bas
  transition: all $transition-fast; // Transition

  &:hover {
    border-color: $color-primary;  // Bordure rose au survol
    color: $color-primary;         // Texte rose au survol
    transform: translateX(-4px);   // Déplace vers la gauche
  }
}

// ===== GRILLE D'ACTIONS =====

.actions-grid {
  display: grid;                   // Grille CSS
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); // Colonnes adaptatives
  // auto-fit = ajuste automatiquement le nombre de colonnes
  // minmax(250px, 1fr) = minimum 250px, maximum 1 fraction
  gap: $spacing-lg;                // Espace entre éléments
}

// Carte d'action
.action-card {
  background: $color-dark-lighter; // Fond
  padding: $spacing-xl;            // Padding
  border-radius: $radius-lg;       // Arrondi
  border: 2px solid $color-dark-card; // Bordure
  cursor: pointer;                 // Curseur pointer
  text-align: center;              // Texte centré
  @include card-hover;             // Applique le mixin d'effet hover

  .action-icon {
    font-size: 3rem;               // Grande taille
    margin-bottom: $spacing-md;    // Marge en bas
  }

  .action-title {
    font-size: 1.25rem;            // Taille moyenne
    font-weight: 700;              // Gras
    color: $color-text;            // Blanc
    margin-bottom: $spacing-sm;    // Marge en bas
  }

  .action-desc {
    font-size: 0.875rem;           // Petite taille
    color: $color-text-muted;      // Gris
  }
}

// ===== GRILLE DE COMMANDES =====

.orders-grid {
  display: grid;                   // Grille CSS
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); // Colonnes adaptatives
  // auto-fill = remplit avec autant de colonnes que possible
  gap: $spacing-lg;                // Espace entre éléments
}

// Carte de commande
.order-card {
  background: $color-dark-lighter; // Fond
  border: 2px solid $color-dark-card; // Bordure
  border-radius: $radius-lg;       // Arrondi
  padding: $spacing-lg;            // Padding
  @include card-hover;             // Effet hover
}

// En-tête de commande
.order-header {
  display: flex;                   // Flexbox
  justify-content: space-between;  // Espace entre les éléments
  align-items: center;             // Centre verticalement
  margin-bottom: $spacing-md;      // Marge en bas
}

.order-number {
  font-size: 1.25rem;              // Taille
  font-weight: 700;                // Gras
  color: $color-primary;           // Rose
}

// Statut de commande
.order-status {
  padding: $spacing-xs $spacing-md; // Padding
  border-radius: $radius-sm;       // Arrondi
  font-size: 0.875rem;             // Petite taille
  font-weight: 600;                // Gras

  // &.status-new cible les éléments avec les classes order-status ET status-new
  &.status-new {
    background: rgba($color-info, 0.2); // Fond bleu transparent
    color: $color-info;            // Texte bleu
    border: 1px solid $color-info; // Bordure bleue
  }

  &.status-preparing {
    background: rgba($color-warning, 0.2); // Fond orange transparent
    color: $color-warning;         // Texte orange
    border: 1px solid $color-warning; // Bordure orange
  }

  &.status-ready {
    background: rgba($color-success, 0.2); // Fond vert transparent
    color: $color-success;         // Texte vert
    border: 1px solid $color-success; // Bordure verte
  }
}

.order-table {
  font-size: 0.875rem;             // Petite taille
  color: $color-text-muted;        // Gris
  margin-bottom: $spacing-md;      // Marge en bas
}

// Items de commande
.order-items {
  margin-bottom: $spacing-md;      // Marge en bas
  padding: $spacing-md;            // Padding
  background: $color-dark-card;    // Fond
  border-radius: $radius-md;       // Arrondi
}

.order-item {
  display: flex;                   // Flexbox
  justify-content: space-between;  // Espace entre nom et prix
  padding: $spacing-xs 0;          // Padding vertical
  font-size: 0.875rem;             // Petite taille
  color: $color-text;              // Blanc

  // Sélecteur :not(:last-child) = tous sauf le dernier
  &:not(:last-child) {
    border-bottom: 1px solid rgba($color-text-muted, 0.2); // Bordure en bas
    padding-bottom: $spacing-sm;   // Padding en bas
    margin-bottom: $spacing-sm;    // Marge en bas
  }
}

// Total de commande
.order-total {
  display: flex;                   // Flexbox
  justify-content: space-between;  // Espace entre texte et montant
  padding: $spacing-md;            // Padding
  background: $color-dark-card;    // Fond
  border-radius: $radius-md;       // Arrondi
  font-weight: 700;                // Gras
  font-size: 1.125rem;             // Taille un peu plus grande
  color: $color-primary;           // Rose
  margin-bottom: $spacing-md;      // Marge en bas
}

// Actions de commande (boutons)
.order-actions {
  display: flex;                   // Flexbox
  gap: $spacing-sm;                // Espace entre boutons
}

// ===== BOUTONS =====

.btn {
  flex: 1;                         // Prend une part égale de l'espace
  padding: $spacing-sm $spacing-md; // Padding
  border: none;                    // Pas de bordure
  border-radius: $radius-md;       // Arrondi
  font-weight: 600;                // Gras
  font-size: 0.875rem;             // Taille
  cursor: pointer;                 // Curseur pointer
  transition: all $transition-fast; // Transition

  &:hover {
    transform: translateY(-2px);   // Déplace vers le haut
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); // Ombre
  }

  // Bouton primaire (rose)
  &.btn-primary {
    background: $color-primary;    // Fond rose
    color: white;                  // Texte blanc

    &:hover {
      background: lighten($color-primary, 10%); // Éclaircit au survol
    }
  }

  // Bouton secondaire (gris)
  &.btn-secondary {
    background: $color-dark-card;  // Fond gris
    color: $color-text;            // Texte blanc
    border: 2px solid $color-text-muted; // Bordure grise

    &:hover {
      border-color: $color-primary; // Bordure rose au survol
      color: $color-primary;        // Texte rose au survol
    }
  }

  // Bouton large
  &.btn-large {
    padding: $spacing-md $spacing-xl; // Plus de padding
    font-size: 1rem;               // Plus grande taille
  }

  // Bouton d'ajout
  &.btn-add {
    background: transparent;       // Fond transparent
    border: 2px solid $color-primary; // Bordure rose
    color: $color-primary;         // Texte rose

    &:hover {
      background: $color-primary;  // Fond rose au survol
      color: white;                // Texte blanc au survol
    }
  }
}

// ===== STATISTIQUES =====

.stats-section {
  margin-top: $spacing-xl;         // Marge en haut
}

.stats-grid {
  display: grid;                   // Grille CSS
  grid-template-columns: repeat(4, 1fr); // 4 colonnes égales
  gap: $spacing-lg;                // Espace entre éléments
}

.stat-card {
  background: $color-dark-lighter; // Fond
  padding: $spacing-xl;            // Padding
  border-radius: $radius-lg;       // Arrondi
  border: 2px solid $color-dark-card; // Bordure
  text-align: center;              // Texte centré
  @include card-hover;             // Effet hover

  .stat-icon {
    font-size: 2.5rem;             // Grande taille
    margin-bottom: $spacing-sm;    // Marge en bas
  }

  .stat-value {
    font-size: 2rem;               // Grande taille
    font-weight: 700;              // Gras
    color: $color-primary;         // Rose
    margin-bottom: $spacing-xs;    // Marge en bas
  }

  .stat-label {
    font-size: 0.875rem;           // Petite taille
    color: $color-text-muted;      // Gris
  }
}

// ===== FORMULAIRE DE COMMANDE =====

.order-form {
  background: $color-dark-lighter; // Fond
  padding: $spacing-xl;            // Padding
  border-radius: $radius-lg;       // Arrondi
  border: 2px solid $color-dark-card; // Bordure
}

.form-group {
  margin-bottom: $spacing-lg;      // Marge en bas

  label {
    display: block;                // Prend toute la largeur
    font-weight: 600;              // Gras
    color: $color-text;            // Blanc
    margin-bottom: $spacing-sm;    // Marge en bas
    font-size: 0.875rem;           // Petite taille
  }
}

.form-input {
  width: 100%;                     // Largeur complète
  padding: $spacing-md;            // Padding
  background: $color-dark-card;    // Fond
  border: 2px solid $color-text-muted; // Bordure grise
  border-radius: $radius-md;       // Arrondi
  color: $color-text;              // Texte blanc
  font-size: 1rem;                 // Taille normale
  transition: all $transition-fast; // Transition

  // ::placeholder cible le texte placeholder
  &::placeholder {
    color: $color-text-muted;      // Gris
  }

  // :focus quand l'input est sélectionné
  &:focus {
    outline: none;                 // Supprime l'outline par défaut
    border-color: $color-primary;  // Bordure rose au focus
    box-shadow: 0 0 0 3px rgba($color-primary, 0.2); // Ombre rose
  }
}

// ===== PANIER DE COMMANDE =====

.order-basket {
  background: $color-dark-card;    // Fond
  padding: $spacing-lg;            // Padding
  border-radius: $radius-lg;       // Arrondi
  margin-bottom: $spacing-lg;      // Marge en bas
  border: 2px solid $color-primary; // Bordure rose
}

.basket-title {
  font-size: 1.25rem;              // Taille
  font-weight: 700;                // Gras
  color: $color-text;              // Blanc
  margin-bottom: $spacing-md;      // Marge en bas
}

.empty-basket {
  text-align: center;              // Texte centré
  padding: $spacing-xl;            // Padding
  color: $color-text-muted;        // Gris
  font-style: italic;              // Italique
}

// Item du panier
.basket-item {
  display: flex;                   // Flexbox
  justify-content: space-between;  // Espace entre les éléments
  align-items: center;             // Centre verticalement
  padding: $spacing-md;            // Padding
  background: $color-dark-lighter; // Fond
  border-radius: $radius-md;       // Arrondi
  margin-bottom: $spacing-sm;      // Marge en bas

  .item-name {
    flex: 1;                       // Prend l'espace disponible
    color: $color-text;            // Blanc
    font-weight: 500;              // Demi-gras
  }

  .item-price {
    color: $color-primary;         // Rose
    font-weight: 700;              // Gras
    margin-right: $spacing-md;     // Marge à droite
  }
}

// Bouton de suppression d'item
.btn-remove-item {
  width: 28px;                     // Largeur fixe
  height: 28px;                    // Hauteur fixe
  @include flex-center;            // Centre le contenu
  background: $color-danger;       // Fond rouge
  border: none;                    // Pas de bordure
  border-radius: 50%;              // Cercle parfait
  color: white;                    // Texte blanc
  font-size: 1.25rem;              // Taille
  cursor: pointer;                 // Curseur pointer
  transition: all $transition-fast; // Transition

  &:hover {
    background: darken($color-danger, 10%); // darken() assombrit la couleur
    transform: scale(1.1);         // Agrandit légèrement
  }
}

// Total du panier
.basket-total {
  display: flex;                   // Flexbox
  justify-content: space-between;  // Espace entre les éléments
  padding: $spacing-md;            // Padding
  margin-top: $spacing-md;         // Marge en haut
  border-top: 2px solid $color-dark-card; // Bordure en haut
  font-size: 1.25rem;              // Grande taille
  color: $color-primary;           // Rose
  font-weight: 700;                // Gras
}

// ===== SECTION MENU =====

.menu-section {
  margin-top: $spacing-xl;         // Marge en haut
  width: 100%;                     // Largeur complète
}

.menu-title {
  font-size: 1.25rem;              // Taille
  font-weight: 700;                // Gras
  color: $color-text;              // Blanc
  margin-bottom: $spacing-lg;      // Marge en bas
}

// Filtres de catégories - Disposition horizontale améliorée
.category-filters {
  display: flex;                   // Flexbox pour disposition horizontale
  flex-wrap: nowrap;               // Pas de retour à la ligne
  gap: $spacing-md;                // Espace augmenté entre boutons
  margin-bottom: $spacing-lg;      // Marge en bas
  overflow-x: auto;                // Scroll horizontal si nécessaire
  padding-bottom: $spacing-sm;     // Padding pour la scrollbar
  @include custom-scrollbar;       // Scrollbar personnalisée
}

// Bouton de filtre - Taille adaptée pour disposition horizontale
.filter-btn {
  padding: $spacing-sm $spacing-lg; // Padding horizontal augmenté
  background: $color-dark-card;    // Fond
  border: 2px solid $color-text-muted; // Bordure grise
  border-radius: $radius-md;       // Arrondi
  color: $color-text-muted;        // Texte gris
  font-weight: 600;                // Gras
  cursor: pointer;                 // Curseur pointer
  transition: all $transition-fast; // Transition
  font-size: 0.875rem;             // Petite taille
  white-space: nowrap;             // Empêche le retour à la ligne du texte
  flex-shrink: 0;                  // Empêche le rétrécissement

  &:hover {
    border-color: $color-primary;  // Bordure rose au survol
    color: $color-primary;         // Texte rose au survol
    transform: translateY(-2px);   // Déplace vers le haut
  }

  // Filtre actif
  &.active {
    background: $color-primary;    // Fond rose
    border-color: $color-primary;  // Bordure rose
    color: white;                  // Texte blanc
  }
}

// Grille du menu - Affichage horizontal avec scroll
.menu-grid {
  display: flex;                   // Flexbox pour disposition horizontale
  gap: $spacing-lg;                // Espace entre cartes
  overflow-x: auto;                // Scroll horizontal
  padding-bottom: $spacing-md;     // Padding pour la scrollbar
  @include custom-scrollbar;       // Scrollbar personnalisée
  scroll-snap-type: x proximity;   // Snap effect pour meilleure UX
  width: 100%;                     // Largeur complète
}

// Carte de menu - Design identique aux shift-card
.menu-card {
  background: $color-dark-lighter; // Fond
  padding: $spacing-lg;            // Padding réduit
  border-radius: $radius-lg;       // Arrondi
  border: 2px solid $color-dark-card; // Bordure
  text-align: center;              // Texte centré
  transition: all $transition-normal; // Transition
  display: flex;                   // Flexbox
  flex-direction: column;          // Direction verticale
  align-items: center;             // Centre horizontalement
  justify-content: center;         // Centre verticalement
  gap: $spacing-xs;                // Petit espace entre éléments
  min-width: 160px;                // Largeur minimum réduite
  width: 160px;                    // Largeur fixe réduite
  flex: 0 0 auto;                  // Ne grandit ni ne rétrécit
  scroll-snap-align: start;        // Aligne au début lors du scroll

  // Hover effect identique aux shift-card
  &:hover {
    border-color: $color-primary;  // Bordure rose au survol
    transform: translateY(-4px);   // Déplace vers le haut
    box-shadow: 0 10px 30px rgba($color-primary, 0.2); // Ombre rose
  }

  .menu-card-icon {
    font-size: 2.5rem;             // Taille réduite pour correspondre
    line-height: 1;                // Hauteur de ligne serrée
    margin-bottom: 0;              // Pas de marge supplémentaire
  }

  .menu-card-name {
    font-weight: 600;              // Demi-gras comme shift-label
    color: $color-text;            // Blanc
    font-size: 0.875rem;           // Petite taille comme shift-label
    line-height: 1.2;              // Hauteur de ligne
    margin: 0;                     // Pas de marge
    white-space: nowrap;           // Pas de retour à la ligne
    overflow: hidden;              // Cache le débordement
    text-overflow: ellipsis;       // Ajoute ... si trop long
    max-width: 100%;               // Largeur maximum
  }

  .menu-card-desc {
    font-size: 0.75rem;            // Très petite taille
    color: $color-text-muted;      // Gris
    line-height: 1.3;              // Hauteur de ligne
    margin: 0;                     // Pas de marge
    white-space: nowrap;           // Pas de retour à la ligne
    overflow: hidden;              // Cache le débordement
    text-overflow: ellipsis;       // Ajoute ... si trop long
    max-width: 100%;               // Largeur maximum
  }

  .menu-card-price {
    font-weight: 700;              // Gras comme shift-value
    color: $color-primary;         // Rose
    font-size: 1.125rem;           // Taille similaire à shift-value
    margin: 0;                     // Pas de marge
    white-space: nowrap;           // Pas de retour à la ligne
    line-height: 1;                // Hauteur de ligne serrée
  }

  .menu-card-category {
    display: none;                 // Cache la catégorie pour design épuré
  }
}

// ===== ACTIONS DU FORMULAIRE =====

.form-actions {
  display: flex;                   // Flexbox
  gap: $spacing-md;                // Espace entre boutons
  margin-top: $spacing-xl;         // Marge en haut
  justify-content: flex-end;       // Aligne à droite
}

// ===== GRILLE DES TABLES =====

.tables-grid {
  display: grid;                   // Grille CSS
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); // Colonnes adaptatives
  gap: $spacing-lg;                // Espace entre cartes
  margin-bottom: $spacing-xl;      // Marge en bas
}

// Carte de table
.table-card {
  background: $color-dark-lighter; // Fond
  padding: $spacing-lg;            // Padding
  border-radius: $radius-lg;       // Arrondi
  border: 2px solid $color-dark-card; // Bordure
  text-align: center;              // Texte centré
  @include card-hover;             // Effet hover

  .table-number {
    font-size: 1.5rem;             // Grande taille
    font-weight: 700;              // Gras
    color: $color-text;            // Blanc
    margin-bottom: $spacing-sm;    // Marge en bas
  }

  .table-status {
    padding: $spacing-xs $spacing-md; // Padding
    border-radius: $radius-sm;     // Arrondi
    color: white;                  // Texte blanc
    font-weight: 600;              // Gras
    font-size: 0.875rem;           // Petite taille
    margin-bottom: $spacing-sm;    // Marge en bas
    display: inline-block;         // inline-block pour que le background s'adapte
  }

  .table-guests {
    font-size: 0.875rem;           // Petite taille
    color: $color-text-muted;      // Gris
  }
}

// ===== LÉGENDE =====

.legend {
  background: $color-dark-lighter; // Fond
  padding: $spacing-lg;            // Padding
  border-radius: $radius-lg;       // Arrondi
  border: 2px solid $color-dark-card; // Bordure

  h4 {
    font-size: 1.125rem;           // Taille
    font-weight: 700;              // Gras
    color: $color-text;            // Blanc
    margin-bottom: $spacing-md;    // Marge en bas
  }
}

.legend-items {
  display: flex;                   // Flexbox
  flex-wrap: wrap;                 // Permet le retour à la ligne
  gap: $spacing-lg;                // Espace entre items
}

.legend-item {
  display: flex;                   // Flexbox
  align-items: center;             // Centre verticalement
  gap: $spacing-sm;                // Espace entre point et texte
  color: $color-text-muted;        // Gris
  font-size: 0.875rem;             // Petite taille
}

.legend-dot {
  width: 16px;                     // Largeur
  height: 16px;                    // Hauteur
  border-radius: 50%;              // Cercle
  display: inline-block;           // inline-block
}

// ===== POURBOIRES =====

.tips-stats {
  display: grid;                   // Grille CSS
  grid-template-columns: repeat(3, 1fr); // 3 colonnes égales
  gap: $spacing-lg;                // Espace entre éléments
  margin-bottom: $spacing-xl;      // Marge en bas
}

.tip-stat-card {
  background: $color-dark-lighter; // Fond
  padding: $spacing-xl;            // Padding
  border-radius: $radius-lg;       // Arrondi
  border: 2px solid $color-dark-card; // Bordure
  text-align: center;              // Texte centré
  @include card-hover;             // Effet hover

  .tip-stat-value {
    font-size: 2rem;               // Grande taille
    font-weight: 700;              // Gras
    color: $color-primary;         // Rose
    margin-bottom: $spacing-xs;    // Marge en bas
  }

  .tip-stat-label {
    font-size: 0.875rem;           // Petite taille
    color: $color-text-muted;      // Gris
  }
}

// Liste des pourboires
.tips-list {
  display: grid;                   // Grille CSS
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); // Colonnes adaptatives
  gap: $spacing-lg;                // Espace entre cartes
}

// Carte de pourboire
.tip-card {
  background: $color-dark-lighter; // Fond
  padding: $spacing-lg;            // Padding
  border-radius: $radius-lg;       // Arrondi
  border: 2px solid $color-dark-card; // Bordure
  @include card-hover;             // Effet hover

  .tip-header {
    display: flex;                 // Flexbox
    justify-content: space-between; // Espace entre date et montant
    margin-bottom: $spacing-sm;    // Marge en bas
  }

  .tip-date {
    font-size: 0.875rem;           // Petite taille
    color: $color-text-muted;      // Gris
  }

  .tip-amount {
    font-weight: 700;              // Gras
    color: $color-success;         // Vert
    font-size: 1.125rem;           // Taille moyenne
  }

  .tip-table {
    font-weight: 600;              // Demi-gras
    color: $color-primary;         // Rose
    margin-bottom: $spacing-xs;    // Marge en bas
  }

  .tip-details {
    font-size: 0.875rem;           // Petite taille
    color: $color-text-muted;      // Gris
    font-style: italic;            // Italique
  }
}

// ===== HISTORIQUE DES VENTES =====

.period-filters {
  display: flex;                   // Flexbox
  gap: $spacing-sm;                // Espace entre boutons
  margin-bottom: $spacing-lg;      // Marge en bas
}

.sales-stats {
  display: grid;                   // Grille CSS
  grid-template-columns: repeat(3, 1fr); // 3 colonnes égales
  gap: $spacing-lg;                // Espace entre éléments
  margin-bottom: $spacing-xl;      // Marge en bas
}

.sales-stat-card {
  background: $color-dark-lighter; // Fond
  padding: $spacing-xl;            // Padding
  border-radius: $radius-lg;       // Arrondi
  border: 2px solid $color-dark-card; // Bordure
  text-align: center;              // Texte centré
  @include card-hover;             // Effet hover

  .sales-stat-icon {
    font-size: 2.5rem;             // Grande taille
    margin-bottom: $spacing-sm;    // Marge en bas
  }

  .sales-stat-value {
    font-size: 1.75rem;            // Grande taille
    font-weight: 700;              // Gras
    color: $color-primary;         // Rose
    margin-bottom: $spacing-xs;    // Marge en bas
  }

  .sales-stat-label {
    font-size: 0.875rem;           // Petite taille
    color: $color-text-muted;      // Gris
  }
}
}
